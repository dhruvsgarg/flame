2023-11-26 00:27:04,500 | fedadagrad.py:27 | DEBUG | MainThread | FedAdaGrad | Initializing fedadagrad
2023-11-26 00:27:04,500 | fedadam.py:27 | DEBUG | MainThread | FedAdam | Initializing fedadam
2023-11-26 00:27:04,502 | fedyogi.py:27 | DEBUG | MainThread | FedYogi | Initializing fedyogi
2023-11-26 00:27:04,698 | metric_collector.py:52 | DEBUG | Thread-2 | gather_gpu_stats | could not start gpustat.nvml.pynvml; no GPU metrics will be collected
2023-11-26 00:27:05,309 | cmd.py:978 | DEBUG | MainThread | execute | Popen(['git', 'version'], cwd=/home/cc/flame/lib/python/examples/async_cifar10/aggregator, stdin=None, shell=False, universal_newlines=False)
2023-11-26 00:27:05,331 | cmd.py:978 | DEBUG | MainThread | execute | Popen(['git', 'version'], cwd=/home/cc/flame/lib/python/examples/async_cifar10/aggregator, stdin=None, shell=False, universal_newlines=False)
2023-11-26 00:27:05,368 | auth.py:50 | DEBUG | MainThread | find_config_file | Trying paths: ['/home/cc/.docker/config.json', '/home/cc/.dockercfg']
2023-11-26 00:27:05,368 | auth.py:57 | DEBUG | MainThread | find_config_file | No config file found
2023-11-26 00:27:05,415 | scope.py:205 | DEBUG | MainThread | set_new_propagation_context | [Tracing] Create new propagation context: {'trace_id': 'ef3319f59f5d4f00a8e1c249f2356fa1', 'span_id': '95ba62012552e8c7', 'parent_span_id': None, 'dynamic_sampling_context': None}
2023-11-26 00:27:05,556 | cmd.py:978 | DEBUG | MainThread | execute | Popen(['git', 'rev-parse', '--show-toplevel'], cwd=/home/cc/flame, stdin=None, shell=False, universal_newlines=False)
2023-11-26 00:27:05,582 | cmd.py:978 | DEBUG | MainThread | execute | Popen(['git', 'rev-parse', '--show-toplevel'], cwd=/home/cc/flame, stdin=None, shell=False, universal_newlines=False)
2023-11-26 00:27:06,502 | connectionpool.py:1019 | DEBUG | Thread-3 | _new_conn | Starting new HTTPS connection (1): api.wandb.ai:443
2023-11-26 00:27:06,573 | connectionpool.py:474 | DEBUG | Thread-3 | _make_request | https://api.wandb.ai:443 "POST /graphql HTTP/1.1" 200 None
2023-11-26 00:27:06,608 | connectionpool.py:474 | DEBUG | Thread-3 | _make_request | https://api.wandb.ai:443 "POST /graphql HTTP/1.1" 200 None
2023-11-26 00:27:06,633 | cmd.py:978 | DEBUG | MainThread | execute | Popen(['git', 'cat-file', '--batch-check'], cwd=/home/cc/flame, stdin=<valid stream>, shell=False, universal_newlines=False)
2023-11-26 00:27:10,978 | __init__.py:58 | WARNING | MainThread | __init__ | /etc/flame/plugin not found; stop plugin registration.
2023-11-26 00:27:10,978 | channel_manager.py:72 | INFO | MainThread | __new__ | creating a ChannelManager instance
2023-11-26 00:27:10,979 | selector_events.py:54 | DEBUG | MainThread | __init__ | Using selector: EpollSelector
2023-11-26 00:27:10,982 | mqtt.py:514 | DEBUG | Thread-5 | on_socket_open | Socket opened
2023-11-26 00:27:10,983 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:10,984 | mqtt.py:546 | DEBUG | Thread-5 | misc_loop | misc_loop started
2023-11-26 00:27:10,985 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:10,985 | channel_manager.py:146 | INFO | MainThread | join | no backend found for channel param-channel; use default
2023-11-26 00:27:10,986 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:10,986 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:10,987 | mqtt.py:294 | DEBUG | Thread-5 | on_connect | calling on_connect
2023-11-26 00:27:10,988 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:10,988 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:10,989 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:10,990 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:10,990 | mqtt.py:322 | DEBUG | MainThread | subscribe | subscribe topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/+
2023-11-26 00:27:10,990 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:10,991 | mqtt.py:322 | DEBUG | MainThread | subscribe | subscribe topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/+/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742
2023-11-26 00:27:10,992 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:10,992 | mqtt.py:349 | DEBUG | MainThread | notify | notify: publish topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742
2023-11-26 00:27:10,993 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:10,993 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:10,994 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 47
2023-11-26 00:27:10,995 | mqtt.py:206 | DEBUG | Thread-5 | _handle_health_message | end: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, status: online
2023-11-26 00:27:10,995 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:10,996 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:11,003 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[internal_init.runtime] = 0.024973392486572266
2023-11-26 00:27:11,003 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of internal_init is 0.024973392486572266
2023-11-26 00:27:11,035 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:11,036 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:11,037 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:11,037 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:11,037 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
Files already downloaded and verified
2023-11-26 00:27:11,860 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[load_data.runtime] = 0.8570065498352051
2023-11-26 00:27:11,861 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of load_data is 0.8570065498352051
2023-11-26 00:27:13,341 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[initialize.runtime] = 1.4789495468139648
2023-11-26 00:27:13,341 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of initialize is 1.4789495468139648
2023-11-26 00:27:13,341 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:27:13,342 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:27:13,342 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0002827644348144531
2023-11-26 00:27:13,342 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0002827644348144531
2023-11-26 00:27:13,342 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:13,343 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:27:26,213 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,214 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 47
2023-11-26 00:27:26,215 | mqtt.py:206 | DEBUG | Thread-5 | _handle_health_message | end: 505f9fc483cf4df68a2409257b5fad7d3c580375, status: online
2023-11-26 00:27:26,240 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,241 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 47
2023-11-26 00:27:26,242 | mqtt.py:206 | DEBUG | Thread-5 | _handle_health_message | end: 505f9fc483cf4df68a2409257b5fad7d3c580377, status: online
2023-11-26 00:27:26,246 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,247 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 47
2023-11-26 00:27:26,248 | mqtt.py:206 | DEBUG | Thread-5 | _handle_health_message | end: 505f9fc483cf4df68a2409257b5fad7d3c580373, status: online
2023-11-26 00:27:26,257 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,258 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,258 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,259 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,259 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,260 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375; len: 97
2023-11-26 00:27:26,260 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,261 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375; len: 97
2023-11-26 00:27:26,261 | mqtt.py:234 | DEBUG | Thread-5 | _handle_notification | acknowledge notification
2023-11-26 00:27:26,262 | mqtt.py:349 | DEBUG | Thread-5 | notify | notify: publish topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742
2023-11-26 00:27:26,262 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,263 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,263 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:27:26,264 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:27:26,266 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:26,266 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 1, c: 5
2023-11-26 00:27:26,267 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:26,267 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375'])
2023-11-26 00:27:26,268 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': set()}
2023-11-26 00:27:26,268 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 1, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375'])
2023-11-26 00:27:26,269 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:26,269 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:26,270 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:27:26,270 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958446.2706807, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:26,291 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:27:26,292 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:27:26,292 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:27:26,293 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:26,296 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,297 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:26,297 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 47
2023-11-26 00:27:26,299 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,299 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:26,300 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:26,300 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,300 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,300 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:26,301 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:26,303 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,303 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:26,303 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:26,304 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,304 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:26,304 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:26,304 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377; len: 97
2023-11-26 00:27:26,304 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,304 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373; len: 97
2023-11-26 00:27:26,305 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:26,305 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:26,305 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,305 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:26,305 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:26,305 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:26,305 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:27:26,306 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:26,308 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,308 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:26,310 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,310 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:26,310 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:26,310 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,310 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:26,310 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:26,310 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,310 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:26,311 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:26,311 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:26,311 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:27:26,311 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:27:26,311 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,311 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:26,311 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,312 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:26,312 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:26,313 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,314 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:26,314 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:26,314 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,314 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:26,314 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:26,314 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:26,314 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:27:26,315 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,315 | mqtt.py:206 | DEBUG | Thread-5 | _handle_health_message | end: 505f9fc483cf4df68a2409257b5fad7d3c580379, status: online
2023-11-26 00:27:26,315 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377; len: 97
2023-11-26 00:27:26,315 | mqtt.py:234 | DEBUG | Thread-5 | _handle_notification | acknowledge notification
2023-11-26 00:27:26,315 | mqtt.py:349 | DEBUG | Thread-5 | notify | notify: publish topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742
2023-11-26 00:27:26,316 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,316 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 12.973705291748047
2023-11-26 00:27:26,316 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373; len: 97
2023-11-26 00:27:26,317 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 12.973705291748047
2023-11-26 00:27:26,317 | mqtt.py:234 | DEBUG | Thread-5 | _handle_notification | acknowledge notification
2023-11-26 00:27:26,317 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:27:26,318 | mqtt.py:349 | DEBUG | Thread-5 | notify | notify: publish topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742
2023-11-26 00:27:26,318 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,319 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,319 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:26,319 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 3, c: 5
2023-11-26 00:27:26,319 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:26,319 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373'])
2023-11-26 00:27:26,319 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:26,319 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: None
2023-11-26 00:27:26,319 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:26,319 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:26,320 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:27:26,320 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,320 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,320 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,320 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 1
2023-11-26 00:27:26,321 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,321 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,321 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:26,321 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:26,364 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,365 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 47
2023-11-26 00:27:26,365 | mqtt.py:206 | DEBUG | Thread-5 | _handle_health_message | end: 505f9fc483cf4df68a2409257b5fad7d3c580380, status: online
2023-11-26 00:27:26,365 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,366 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,366 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,367 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,368 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,368 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,369 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 47
2023-11-26 00:27:26,369 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,370 | mqtt.py:206 | DEBUG | Thread-5 | _handle_health_message | end: 505f9fc483cf4df68a2409257b5fad7d3c580378, status: online
2023-11-26 00:27:26,370 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,371 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379; len: 97
2023-11-26 00:27:26,371 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,372 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,372 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379; len: 97
2023-11-26 00:27:26,373 | mqtt.py:234 | DEBUG | Thread-5 | _handle_notification | acknowledge notification
2023-11-26 00:27:26,373 | mqtt.py:349 | DEBUG | Thread-5 | notify | notify: publish topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742
2023-11-26 00:27:26,374 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,374 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,375 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375; len: 97
2023-11-26 00:27:26,375 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373; len: 97
2023-11-26 00:27:26,376 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377; len: 97
2023-11-26 00:27:26,376 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380; len: 97
2023-11-26 00:27:26,377 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375; len: 97
2023-11-26 00:27:26,377 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373; len: 97
2023-11-26 00:27:26,377 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377; len: 97
2023-11-26 00:27:26,378 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380; len: 97
2023-11-26 00:27:26,378 | mqtt.py:234 | DEBUG | Thread-5 | _handle_notification | acknowledge notification
2023-11-26 00:27:26,378 | mqtt.py:349 | DEBUG | Thread-5 | notify | notify: publish topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742
2023-11-26 00:27:26,378 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,379 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,379 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,379 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,380 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,380 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,380 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,381 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 47
2023-11-26 00:27:26,381 | mqtt.py:206 | DEBUG | Thread-5 | _handle_health_message | end: 505f9fc483cf4df68a2409257b5fad7d3c580372, status: online
2023-11-26 00:27:26,423 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,424 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,425 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,425 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,426 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,426 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,427 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,427 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,428 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 47
2023-11-26 00:27:26,428 | mqtt.py:206 | DEBUG | Thread-5 | _handle_health_message | end: 505f9fc483cf4df68a2409257b5fad7d3c580376, status: online
2023-11-26 00:27:26,429 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,430 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,430 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,431 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,431 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372; len: 97
2023-11-26 00:27:26,432 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,432 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378; len: 97
2023-11-26 00:27:26,432 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379; len: 97
2023-11-26 00:27:26,433 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372; len: 97
2023-11-26 00:27:26,433 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380; len: 97
2023-11-26 00:27:26,434 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372; len: 97
2023-11-26 00:27:26,434 | mqtt.py:234 | DEBUG | Thread-5 | _handle_notification | acknowledge notification
2023-11-26 00:27:26,435 | mqtt.py:349 | DEBUG | Thread-5 | notify | notify: publish topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742
2023-11-26 00:27:26,435 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378; len: 97
2023-11-26 00:27:26,436 | mqtt.py:234 | DEBUG | Thread-5 | _handle_notification | acknowledge notification
2023-11-26 00:27:26,436 | mqtt.py:349 | DEBUG | Thread-5 | notify | notify: publish topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742
2023-11-26 00:27:26,436 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379; len: 97
2023-11-26 00:27:26,437 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372; len: 97
2023-11-26 00:27:26,437 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380; len: 97
2023-11-26 00:27:26,438 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,438 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,438 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,439 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378; len: 97
2023-11-26 00:27:26,439 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,439 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378; len: 97
2023-11-26 00:27:26,439 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,440 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,465 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,466 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,466 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,467 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,467 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,468 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,469 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376; len: 97
2023-11-26 00:27:26,469 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376; len: 97
2023-11-26 00:27:26,470 | mqtt.py:234 | DEBUG | Thread-5 | _handle_notification | acknowledge notification
2023-11-26 00:27:26,471 | mqtt.py:349 | DEBUG | Thread-5 | notify | notify: publish topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742
2023-11-26 00:27:26,472 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,472 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,473 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,474 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,474 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,475 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,476 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,556 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,557 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,557 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,558 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,558 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,559 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376; len: 97
2023-11-26 00:27:26,559 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,559 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376; len: 97
2023-11-26 00:27:26,560 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,560 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,622 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,623 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 47
2023-11-26 00:27:26,624 | mqtt.py:206 | DEBUG | Thread-5 | _handle_health_message | end: 505f9fc483cf4df68a2409257b5fad7d3c580374, status: online
2023-11-26 00:27:26,665 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,666 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,667 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,667 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,668 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,668 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374; len: 97
2023-11-26 00:27:26,669 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,669 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374; len: 97
2023-11-26 00:27:26,669 | mqtt.py:234 | DEBUG | Thread-5 | _handle_notification | acknowledge notification
2023-11-26 00:27:26,670 | mqtt.py:349 | DEBUG | Thread-5 | notify | notify: publish topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742
2023-11-26 00:27:26,670 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,671 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,712 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,712 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,713 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,713 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,714 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,761 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,762 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,762 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,763 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:26,763 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:26,764 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374; len: 97
2023-11-26 00:27:26,764 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:26,764 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374; len: 97
2023-11-26 00:27:26,765 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:26,765 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:27,008 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:27,009 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 47
2023-11-26 00:27:27,010 | mqtt.py:206 | DEBUG | Thread-5 | _handle_health_message | end: 505f9fc483cf4df68a2409257b5fad7d3c580371, status: online
2023-11-26 00:27:27,056 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:27,058 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:27,058 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:27,059 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:27,059 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:27,060 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371; len: 97
2023-11-26 00:27:27,060 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:27,061 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371; len: 97
2023-11-26 00:27:27,061 | mqtt.py:234 | DEBUG | Thread-5 | _handle_notification | acknowledge notification
2023-11-26 00:27:27,061 | mqtt.py:349 | DEBUG | Thread-5 | notify | notify: publish topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742
2023-11-26 00:27:27,062 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:27,062 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:27,104 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:27,105 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:27,105 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:27,105 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:27,106 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:27,153 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:27,154 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:27,154 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:27,155 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:27,155 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:27,156 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371; len: 97
2023-11-26 00:27:27,156 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:27,157 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371; len: 97
2023-11-26 00:27:27,157 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:27,158 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,464 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:30,467 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,467 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:30,468 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,468 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:30,470 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,470 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:30,471 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:30,471 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:30,471 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,472 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:30,473 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:30,475 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:27:30,476 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,477 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:30,477 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:30,478 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:30,478 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,478 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:30,479 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:30,481 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:27:30,482 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:30,483 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,483 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:30,484 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:30,484 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:27:30,484 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,490 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:27:30,490 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:27:30,491 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:30,492 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:30,500 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958450.500275, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:30,500 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958450.5008261, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:30,502 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:27:30,519 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:27:30,519 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 1, trainer version: 1
2023-11-26 00:27:30,520 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 0
2023-11-26 00:27:30,520 | top_aggregator.py:125 | DEBUG | MainThread | _aggregate_weights | NEW Entry 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:27:30,520 | top_aggregator.py:127 | DEBUG | MainThread | _aggregate_weights | created new list entry in dict _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': []}
2023-11-26 00:27:30,520 | top_aggregator.py:131 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0]}
2023-11-26 00:27:30,520 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:27:30,520 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:27:30,528 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 1, trainer ver: 1
agg ver: 1, trainer ver: 1
2023-11-26 00:27:30,528 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:27:30,538 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:27:30,539 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:27:30,539 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 4.221444368362427
2023-11-26 00:27:30,539 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 4.221444368362427
2023-11-26 00:27:30,539 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:30,540 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:27:30,540 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:27:30,541 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:27:30,542 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:30,542 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:30,542 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:30,543 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:30,543 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:30,543 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:27:30,544 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:30,544 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:30,545 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:30,545 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None}
2023-11-26 00:27:30,545 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958450.5457418, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:30,551 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:27:30,552 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:27:30,552 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:27:30,553 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:30,555 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,555 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,557 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,557 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,558 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,560 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,561 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,561 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,561 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,562 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,562 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,562 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,562 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:27:30,563 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:30,565 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,565 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,566 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,567 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,567 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,567 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,568 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,568 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,568 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,568 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,569 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,569 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,569 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:27:30,569 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:27:30,570 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,570 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,570 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,570 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,571 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,571 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,572 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,572 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,572 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,572 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,572 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,573 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,573 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:27:30,573 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958450.5736582, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:27:30,579 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:27:30,579 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:27:30,579 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:27:30,580 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:30,583 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,583 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,585 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,585 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,585 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,586 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,586 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,586 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,586 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,586 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,586 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,587 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,587 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:27:30,587 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:30,589 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,589 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,590 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,590 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,590 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,592 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,592 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,593 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,593 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,593 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,593 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,593 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,593 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:27:30,593 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:27:30,594 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,594 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,594 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,594 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,594 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,596 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,596 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,596 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,596 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,596 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,596 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,597 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,597 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:27:30,597 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958450.5974872, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:27:30,602 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 8616816
2023-11-26 00:27:30,602 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:27:30,602 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:27:30,603 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:30,605 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,605 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,607 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,607 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,608 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,608 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,608 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,608 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,608 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,608 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,608 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,608 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,609 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:27:30,609 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:30,611 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,611 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,612 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,612 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,612 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,612 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,612 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,612 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,612 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,613 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,613 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,613 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,613 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:27:30,613 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:27:30,613 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,613 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,614 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,614 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,614 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,614 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,614 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,614 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,614 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,614 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,614 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,615 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,615 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:27:30,615 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958450.6154737, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:27:30,620 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 10771020
2023-11-26 00:27:30,620 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:27:30,620 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:27:30,620 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:30,623 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,623 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,625 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,625 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,625 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,625 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,625 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,625 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,626 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,626 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,626 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,626 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,626 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:27:30,626 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:30,628 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,628 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,629 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,629 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,629 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,629 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,630 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,630 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,630 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,630 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,630 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,630 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,630 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:27:30,630 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:27:30,631 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,631 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,631 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,631 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,631 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,632 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,632 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,632 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,632 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,632 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,632 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,633 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,633 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:27:30,633 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958450.6334784, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:27:30,654 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 12925224
2023-11-26 00:27:30,655 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:27:30,655 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:27:30,655 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:30,658 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,658 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,660 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,660 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,661 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,661 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,661 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,661 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,662 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,662 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,662 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,662 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,662 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:27:30,663 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:30,664 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,664 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,665 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,665 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,666 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,666 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,666 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,666 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,666 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,666 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,666 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,667 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,667 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:27:30,667 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:27:30,667 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,667 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,668 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,668 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,668 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,668 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:30,668 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,668 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,669 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:30,669 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,669 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:30,669 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:30,669 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:27:30,669 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.1300523281097412
2023-11-26 00:27:30,669 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.1300523281097412
2023-11-26 00:27:30,670 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:27:30,670 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:30,670 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:30,670 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:30,671 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:30,671 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:30,671 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: None
2023-11-26 00:27:30,671 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: None
2023-11-26 00:27:30,671 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: None
2023-11-26 00:27:30,671 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:27:30,671 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: None
2023-11-26 00:27:30,671 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:30,671 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:30,671 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:27:30,672 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:27:30,672 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:27:30,672 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580372'}
2023-11-26 00:27:30,672 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:27:30,672 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580372'}
2023-11-26 00:27:30,672 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:27:30,672 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580372'}
2023-11-26 00:27:30,672 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:30,672 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:30,673 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:27:30,673 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:31,835 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:31,837 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:31,838 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:31,838 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:31,839 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:31,841 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:31,842 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:31,843 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:31,843 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:31,844 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:31,844 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:31,845 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:31,846 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:27:31,847 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:31,847 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:31,848 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:31,848 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:31,848 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:31,848 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:31,849 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:31,849 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:27:31,850 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:31,850 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:31,851 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:31,851 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:31,851 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:27:31,851 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:31,856 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:27:31,856 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:27:31,857 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:31,857 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:31,861 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958451.8617208, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:31,862 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958451.8619938, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:31,866 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:27:31,877 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:27:31,877 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 1, trainer version: 1
2023-11-26 00:27:31,877 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 0
2023-11-26 00:27:31,877 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:27:31,877 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0]}
2023-11-26 00:27:31,878 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:27:31,878 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:27:31,885 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 1, trainer ver: 1
agg ver: 1, trainer ver: 1
2023-11-26 00:27:31,886 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:27:31,898 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:27:31,898 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:27:31,899 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 1.2286796569824219
2023-11-26 00:27:31,899 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 1.2286796569824219
2023-11-26 00:27:31,899 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:31,900 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:27:31,900 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:27:31,901 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:27:31,901 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:31,902 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:31,902 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:31,902 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:31,903 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:31,903 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: None
2023-11-26 00:27:31,904 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: None
2023-11-26 00:27:31,904 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: None
2023-11-26 00:27:31,904 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:27:31,905 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: None
2023-11-26 00:27:31,905 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:31,906 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580377'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:31,906 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:31,906 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None}
2023-11-26 00:27:31,907 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958451.9073122, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:27:31,913 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 15079426
2023-11-26 00:27:31,914 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154202
2023-11-26 00:27:31,914 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154202
2023-11-26 00:27:31,915 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:31,917 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:31,917 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:31,920 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:31,921 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:31,921 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:31,923 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:31,924 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:31,924 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:31,924 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:31,925 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:31,925 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:31,925 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:31,925 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:27:31,926 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:31,927 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:31,928 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:31,929 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:31,929 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:31,929 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:31,929 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:31,930 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:31,930 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:31,930 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:31,930 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:31,931 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:31,931 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:31,931 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:27:31,932 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57050
2023-11-26 00:27:31,932 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:31,932 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:31,932 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:31,933 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:31,933 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:31,933 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:31,933 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:31,934 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:31,934 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:31,934 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:31,934 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:31,934 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:31,935 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:27:31,935 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.0358586311340332
2023-11-26 00:27:31,935 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.0358586311340332
2023-11-26 00:27:31,936 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:27:31,936 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:31,937 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:31,937 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:31,937 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:31,937 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:31,937 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: None
2023-11-26 00:27:31,937 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: None
2023-11-26 00:27:31,937 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: None
2023-11-26 00:27:31,937 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: None
2023-11-26 00:27:31,937 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: None
2023-11-26 00:27:31,938 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:31,938 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:31,938 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:27:31,938 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:27:31,939 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:27:31,939 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:32,471 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:32,485 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:32,487 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:32,492 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:32,492 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:32,493 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:32,493 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:32,493 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:32,494 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:32,496 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:32,499 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:27:32,499 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:32,500 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:32,500 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:32,501 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:32,502 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:32,505 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:27:32,505 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:32,506 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:32,506 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:32,506 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:32,507 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:27:32,507 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:32,512 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:27:32,512 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:27:32,513 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:27:32,514 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:27:32,524 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958452.5240743, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:27:32,524 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958452.524587, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:27:32,527 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:27:32,542 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:27:32,542 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 1, trainer version: 1
2023-11-26 00:27:32,543 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 0
2023-11-26 00:27:32,543 | top_aggregator.py:125 | DEBUG | MainThread | _aggregate_weights | NEW Entry 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:27:32,543 | top_aggregator.py:127 | DEBUG | MainThread | _aggregate_weights | created new list entry in dict _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0], '505f9fc483cf4df68a2409257b5fad7d3c580376': []}
2023-11-26 00:27:32,543 | top_aggregator.py:131 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0]}
2023-11-26 00:27:32,543 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:27:32,543 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:27:32,551 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 1, trainer ver: 1
agg ver: 1, trainer ver: 1
2023-11-26 00:27:32,551 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:27:32,552 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:27:32,552 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:27:32,553 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 1.0
2023-11-26 00:27:32,553 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:27:32,564 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 1
2023-11-26 00:27:32,564 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 1, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 2, '505f9fc483cf4df68a2409257b5fad7d3c580376': 1}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 2, '505f9fc483cf4df68a2409257b5fad7d3c580376': 1}
2023-11-26 00:27:32,564 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 0.0
2023-11-26 00:27:32,565 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 0, Avg 0.0, P50 0.0, P90 0.0, P99 0.0
2023-11-26 00:27:32,566 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 0, Avg 0.0, P50 0.0, P90 0.0, P99 0.0
2023-11-26 00:27:32,566 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.6304342746734619
2023-11-26 00:27:32,566 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.6304342746734619
2023-11-26 00:27:32,567 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 3.814697265625e-06
2023-11-26 00:27:32,567 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 3.814697265625e-06
2023-11-26 00:27:32,597 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:32,621 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:32,622 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:32,625 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:32,625 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:32,625 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:32,632 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:32,632 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:32,633 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:32,640 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:32,640 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:32,640 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:32,640 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:32,640 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:32,641 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:32,641 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:32,642 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:32,643 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:32,643 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:32,644 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 0: 1048576
2023-11-26 00:27:32,645 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 1: 1048576
2023-11-26 00:27:32,646 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 2: 57063
2023-11-26 00:27:32,648 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:27:32,648 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 8616860
2023-11-26 00:27:32,854 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:32,856 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:32,857 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:32,857 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:32,857 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:32,858 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:32,858 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:32,858 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:32,859 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:32,862 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 0: 1048576
2023-11-26 00:27:32,862 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:32,863 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:32,865 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:32,865 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:32,866 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:32,866 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:32,866 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:32,867 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:32,867 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:32,867 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:32,868 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:32,868 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:32,871 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 1: 1048576
2023-11-26 00:27:32,871 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:32,872 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 2: 57063
2023-11-26 00:27:32,872 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:32,877 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:27:32,878 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 10771075
2023-11-26 00:27:33,129 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:33,132 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:33,132 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:33,133 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:33,134 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:33,137 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:33,138 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:33,138 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:33,139 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:33,140 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:33,140 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:33,142 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:33,144 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 0: 1048576
2023-11-26 00:27:33,146 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:33,147 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:33,148 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:33,149 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:33,149 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:33,150 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:33,151 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:33,153 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 1: 1048576
2023-11-26 00:27:33,154 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:33,155 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:33,155 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:33,156 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:33,156 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 2: 57063
2023-11-26 00:27:33,157 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:33,162 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:27:33,163 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 12925290
2023-11-26 00:27:33,250 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:33,253 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:33,254 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:33,254 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:33,255 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:33,258 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:33,258 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:33,259 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:33,260 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:33,261 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:33,262 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:33,264 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:33,266 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 0: 1048576
2023-11-26 00:27:33,268 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:33,269 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:33,269 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:33,270 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:33,270 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:33,271 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:33,272 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:33,274 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 1: 1048576
2023-11-26 00:27:33,275 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:33,276 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:33,277 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:33,278 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:33,278 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 2: 57063
2023-11-26 00:27:33,279 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:33,284 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:27:33,285 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 15079505
2023-11-26 00:27:38,812 | main.py:161 | INFO | MainThread | evaluate | Test loss: 5.621221956181526
2023-11-26 00:27:38,814 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1019/10000 (0.1019)
2023-11-26 00:27:38,815 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526]
2023-11-26 00:27:38,816 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.248405933380127
2023-11-26 00:27:38,816 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.248405933380127
2023-11-26 00:27:38,816 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:27:38,817 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0003941059112548828
2023-11-26 00:27:38,817 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0003941059112548828
2023-11-26 00:27:38,818 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 0.0
2023-11-26 00:27:38,818 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 599.6
2023-11-26 00:27:38,819 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 37.53529411764706
2023-11-26 00:27:38,820 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 0.0
2023-11-26 00:27:38,821 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 1.0
2023-11-26 00:27:38,821 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 45.625
2023-11-26 00:27:38,822 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 101.92061755963327
2023-11-26 00:27:38,822 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 432623616
2023-11-26 00:27:38,823 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1012113408
2023-11-26 00:27:38,823 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 727599465.4117647
2023-11-26 00:27:38,824 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 646009856.0
2023-11-26 00:27:38,824 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 717725696.0
2023-11-26 00:27:38,825 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 729251840.0
2023-11-26 00:27:38,825 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 153483990.7983287
2023-11-26 00:27:38,826 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 4887183360
2023-11-26 00:27:38,826 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14009344000
2023-11-26 00:27:38,826 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 11229558543.058823
2023-11-26 00:27:38,827 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 12017817600.0
2023-11-26 00:27:38,827 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 12264861696.0
2023-11-26 00:27:38,828 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 12264861696.0
2023-11-26 00:27:38,828 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 2689052997.265484
2023-11-26 00:27:38,829 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 5.621221956181526, 'test-accuracy': 0.1019, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0002827644348144531, 'send.bytes': 15079426, 'distribute.runtime': 0.0358586311340332, 'recv.bytes': 15079505, 'aggregate.runtime': 0.6304342746734619, 'train.runtime': 3.814697265625e-06, 'evaluate.runtime': 6.248405933380127, 'analysis.runtime': 0.0003941059112548828, 'min.cpu_utilization': 0.0, 'max.cpu_utilization': 599.6, 'mean.cpu_utilization': 37.53529411764706, '25th_prcntl.cpu_utilization': 0.0, '50th_prcntl.cpu_utilization': 1.0, '75th_prcntl.cpu_utilization': 45.625, 'std.cpu_utilization': 101.92061755963327, 'min.cpu_memory_rss': 432623616, 'max.cpu_memory_rss': 1012113408, 'mean.cpu_memory_rss': 727599465.4117647, '25th_prcntl.cpu_memory_rss': 646009856.0, '50th_prcntl.cpu_memory_rss': 717725696.0, '75th_prcntl.cpu_memory_rss': 729251840.0, 'std.cpu_memory_rss': 153483990.7983287, 'min.cpu_memory_vsz': 4887183360, 'max.cpu_memory_vsz': 14009344000, 'mean.cpu_memory_vsz': 11229558543.058823, '25th_prcntl.cpu_memory_vsz': 12017817600.0, '50th_prcntl.cpu_memory_vsz': 12264861696.0, '75th_prcntl.cpu_memory_vsz': 12264861696.0, 'std.cpu_memory_vsz': 2689052997.265484}
2023-11-26 00:27:38,829 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:27:38,829 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011482715606689453
2023-11-26 00:27:38,829 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011482715606689453
2023-11-26 00:27:38,829 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 1
2023-11-26 00:27:38,829 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:27:38,830 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:38,830 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 2
2023-11-26 00:27:38,830 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0006580352783203125
2023-11-26 00:27:38,830 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0006580352783203125
2023-11-26 00:27:38,830 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:27:38,831 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:27:38,831 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00034809112548828125
2023-11-26 00:27:38,831 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00034809112548828125
2023-11-26 00:27:38,831 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:38,832 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:27:38,833 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:27:38,833 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:27:38,834 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:38,835 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:38,835 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:38,836 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:38,836 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:38,836 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: None
2023-11-26 00:27:38,837 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: None
2023-11-26 00:27:38,837 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: None
2023-11-26 00:27:38,837 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: None
2023-11-26 00:27:38,838 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:27:38,838 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:38,838 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:38,839 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:38,839 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:27:38,839 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958458.8398473, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:38,859 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:27:38,859 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:27:38,860 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:27:38,863 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:38,869 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:38,870 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,872 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:38,872 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,872 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,875 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:38,875 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,876 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,876 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:38,876 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,876 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,876 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,876 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:27:38,877 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:38,878 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:38,878 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,880 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:38,880 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,880 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,881 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:38,881 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,881 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,881 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:38,881 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,881 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,881 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,881 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:27:38,882 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:27:38,882 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:38,882 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,882 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:38,882 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,883 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,884 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:38,884 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,884 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,884 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:38,885 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,885 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,885 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,885 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:27:38,886 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05458331108093262
2023-11-26 00:27:38,886 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05458331108093262
2023-11-26 00:27:38,887 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:27:38,887 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:38,888 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:38,888 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:38,888 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:38,888 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:38,888 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: None
2023-11-26 00:27:38,888 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: None
2023-11-26 00:27:38,888 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: None
2023-11-26 00:27:38,888 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: None
2023-11-26 00:27:38,888 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:27:38,888 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:38,889 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:38,889 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:27:38,889 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:27:38,890 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:27:38,890 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377'}
2023-11-26 00:27:38,891 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:27:38,891 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372'}
2023-11-26 00:27:38,891 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:27:38,891 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:27:38,891 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:27:38,891 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:27:38,892 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:38,892 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:38,893 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:27:38,895 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:27:38,909 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958458.909975, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:27:38,910 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958458.910319, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:27:38,912 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580378's parameters trained with 4612 samples
2023-11-26 00:27:38,927 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:27:38,928 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 2, trainer version: 1
2023-11-26 00:27:38,928 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:27:38,928 | top_aggregator.py:125 | DEBUG | MainThread | _aggregate_weights | NEW Entry 505f9fc483cf4df68a2409257b5fad7d3c580378 in dict
2023-11-26 00:27:38,928 | top_aggregator.py:127 | DEBUG | MainThread | _aggregate_weights | created new list entry in dict _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': []}
2023-11-26 00:27:38,928 | top_aggregator.py:131 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1]}
2023-11-26 00:27:38,928 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:27:38,928 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:27:38,933 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 2, trainer ver: 1
agg ver: 2, trainer ver: 1
2023-11-26 00:27:38,934 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:27:38,934 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:27:38,934 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:27:38,934 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04766058921813965
2023-11-26 00:27:38,934 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04766058921813965
2023-11-26 00:27:38,935 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:38,935 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:27:38,936 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:27:38,936 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:27:38,938 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:38,939 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:38,939 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:38,940 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:38,940 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:38,940 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: None
2023-11-26 00:27:38,941 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: None
2023-11-26 00:27:38,941 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: recvd
2023-11-26 00:27:38,941 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: None
2023-11-26 00:27:38,942 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:27:38,942 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:38,942 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580378'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:38,943 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:38,943 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None}
2023-11-26 00:27:38,945 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958458.9455886, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:27:38,952 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:27:38,952 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:27:38,953 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:27:38,955 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:38,960 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:38,961 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,965 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:38,966 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,966 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,967 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:38,968 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,968 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,971 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:38,971 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,972 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,972 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,972 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:27:38,972 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:38,974 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:38,974 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,975 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:38,976 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,976 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,976 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:38,977 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,977 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,977 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:38,977 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,977 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,977 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,977 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:27:38,977 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:27:38,978 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:38,978 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,978 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:38,978 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,978 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,978 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:38,978 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,979 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,979 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:38,979 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,979 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:38,979 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:38,979 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:27:38,979 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04467606544494629
2023-11-26 00:27:38,980 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04467606544494629
2023-11-26 00:27:38,980 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:27:38,980 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:38,980 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:38,980 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:38,980 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:38,980 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:38,981 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: None
2023-11-26 00:27:38,981 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: None
2023-11-26 00:27:38,981 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:27:38,981 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: None
2023-11-26 00:27:38,981 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:27:38,981 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:38,981 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:38,981 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:27:38,981 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:27:38,982 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-97' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:27:38,983 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:27:38,983 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:27:38,988 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958458.9887764, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:27:38,989 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958458.9890769, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:27:38,990 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580372's parameters trained with 5929 samples
2023-11-26 00:27:39,000 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:27:39,000 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 2, trainer version: 1
2023-11-26 00:27:39,001 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:27:39,001 | top_aggregator.py:125 | DEBUG | MainThread | _aggregate_weights | NEW Entry 505f9fc483cf4df68a2409257b5fad7d3c580372 in dict
2023-11-26 00:27:39,001 | top_aggregator.py:127 | DEBUG | MainThread | _aggregate_weights | created new list entry in dict _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1], '505f9fc483cf4df68a2409257b5fad7d3c580372': []}
2023-11-26 00:27:39,001 | top_aggregator.py:131 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1]}
2023-11-26 00:27:39,001 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:27:39,001 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:27:39,007 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 2, trainer ver: 1
agg ver: 2, trainer ver: 1
2023-11-26 00:27:39,007 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:27:39,008 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:27:39,008 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:27:39,008 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.028431177139282227
2023-11-26 00:27:39,008 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.028431177139282227
2023-11-26 00:27:39,008 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:39,009 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:27:39,009 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:27:39,009 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:27:39,010 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:39,010 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:39,010 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:39,011 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:39,011 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:39,011 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: None
2023-11-26 00:27:39,011 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: recvd
2023-11-26 00:27:39,011 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:27:39,011 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: None
2023-11-26 00:27:39,012 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:27:39,012 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:39,012 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580380'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:39,012 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:39,012 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580380': None}
2023-11-26 00:27:39,013 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958459.0133038, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:27:39,019 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:27:39,019 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:27:39,020 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:27:39,020 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:39,022 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:39,022 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:39,023 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:39,023 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:39,024 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:39,026 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:39,027 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:39,027 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:39,027 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:39,027 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:39,028 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:39,028 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:39,028 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:27:39,028 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:39,030 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:39,030 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:39,032 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:39,032 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:39,033 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:39,033 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:39,033 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:39,033 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:39,034 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:39,034 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:39,034 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:39,034 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:39,034 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:27:39,035 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:27:39,035 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:39,036 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:39,036 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:39,037 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:39,037 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:39,039 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:39,040 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:39,040 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:39,040 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:39,041 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:39,041 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:39,041 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:39,041 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:27:39,042 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03315258026123047
2023-11-26 00:27:39,042 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03315258026123047
2023-11-26 00:27:39,042 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:27:39,043 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:39,043 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:39,044 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:39,044 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:39,044 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:39,044 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: None
2023-11-26 00:27:39,044 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:27:39,044 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: None
2023-11-26 00:27:39,044 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: None
2023-11-26 00:27:39,044 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:27:39,045 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:39,045 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:39,045 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:27:39,045 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:27:39,052 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:27:39,052 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:39,063 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:27:39,064 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:27:39,068 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958459.068455, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:27:39,068 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958459.0687115, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:27:39,069 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580377's parameters trained with 2122 samples
2023-11-26 00:27:39,077 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:27:39,077 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 2, trainer version: 1
2023-11-26 00:27:39,077 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:27:39,077 | top_aggregator.py:125 | DEBUG | MainThread | _aggregate_weights | NEW Entry 505f9fc483cf4df68a2409257b5fad7d3c580377 in dict
2023-11-26 00:27:39,077 | top_aggregator.py:127 | DEBUG | MainThread | _aggregate_weights | created new list entry in dict _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1], '505f9fc483cf4df68a2409257b5fad7d3c580377': []}
2023-11-26 00:27:39,077 | top_aggregator.py:131 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1]}
2023-11-26 00:27:39,078 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:27:39,078 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:27:39,082 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 2, trainer ver: 1
agg ver: 2, trainer ver: 1
2023-11-26 00:27:39,083 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:27:39,083 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:27:39,083 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:27:39,083 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:27:39,083 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:27:39,084 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 2
2023-11-26 00:27:39,084 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 2, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 2, '505f9fc483cf4df68a2409257b5fad7d3c580376': 1, '505f9fc483cf4df68a2409257b5fad7d3c580378': 1, '505f9fc483cf4df68a2409257b5fad7d3c580372': 1, '505f9fc483cf4df68a2409257b5fad7d3c580377': 1}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 2, '505f9fc483cf4df68a2409257b5fad7d3c580376': 1, '505f9fc483cf4df68a2409257b5fad7d3c580378': 1, '505f9fc483cf4df68a2409257b5fad7d3c580372': 1, '505f9fc483cf4df68a2409257b5fad7d3c580377': 1}
2023-11-26 00:27:39,085 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 0.5
2023-11-26 00:27:39,085 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 0, Avg 0.0, P50 0.0, P90 0.0, P99 0.0
2023-11-26 00:27:39,086 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 0, Avg 0.0, P50 0.0, P90 0.0, P99 0.0
2023-11-26 00:27:39,086 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:27:39,086 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:27:39,087 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:27:39,087 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04505777359008789
2023-11-26 00:27:39,087 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04505777359008789
2023-11-26 00:27:39,087 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.6226043701171875e-06
2023-11-26 00:27:39,088 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.6226043701171875e-06
2023-11-26 00:27:40,035 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:40,051 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:40,051 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:40,055 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:40,056 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:40,056 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:40,057 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:40,058 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:40,058 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:40,060 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:40,061 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:27:40,062 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:40,063 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:40,063 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:40,063 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:40,065 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:40,067 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:27:40,068 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:27:40,069 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:40,069 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:27:40,069 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:40,070 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57061
2023-11-26 00:27:40,070 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:40,076 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154213
2023-11-26 00:27:40,077 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154213
2023-11-26 00:27:40,385 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:40,391 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:40,392 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:40,394 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:40,395 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:40,396 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:40,397 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:40,397 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:40,398 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:40,399 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:40,404 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 0: 1048576
2023-11-26 00:27:40,405 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:40,406 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:40,406 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:40,407 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:40,408 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:40,408 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:40,409 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:40,413 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 1: 1048576
2023-11-26 00:27:40,414 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:40,415 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 2: 57063
2023-11-26 00:27:40,416 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:40,421 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:27:40,422 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308428
2023-11-26 00:27:41,013 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:41,016 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:41,017 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:41,020 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:41,021 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:41,022 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:41,023 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:41,023 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:41,024 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:41,026 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:41,029 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 0: 1048576
2023-11-26 00:27:41,030 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:41,031 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:41,031 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:41,032 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:41,032 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:41,033 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:41,036 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:41,038 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 1: 1048576
2023-11-26 00:27:41,039 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:41,040 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 2: 57063
2023-11-26 00:27:41,041 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:41,046 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:27:41,047 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462643
2023-11-26 00:27:45,431 | main.py:161 | INFO | MainThread | evaluate | Test loss: 6.328407179880142
2023-11-26 00:27:45,434 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1000/10000 (0.1)
2023-11-26 00:27:45,436 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142]
2023-11-26 00:27:45,436 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.348459959030151
2023-11-26 00:27:45,437 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.348459959030151
2023-11-26 00:27:45,437 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:27:45,438 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.00039696693420410156
2023-11-26 00:27:45,438 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.00039696693420410156
2023-11-26 00:27:45,439 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 68.9
2023-11-26 00:27:45,439 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 82.7
2023-11-26 00:27:45,440 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 74.11428571428571
2023-11-26 00:27:45,441 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 72.35
2023-11-26 00:27:45,442 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 73.7
2023-11-26 00:27:45,442 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 74.4
2023-11-26 00:27:45,443 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 3.9382478233812748
2023-11-26 00:27:45,444 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1022169088
2023-11-26 00:27:45,444 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1030733824
2023-11-26 00:27:45,444 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1027667675.4285715
2023-11-26 00:27:45,445 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1024294912.0
2023-11-26 00:27:45,445 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1030725632.0
2023-11-26 00:27:45,446 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1030727680.0
2023-11-26 00:27:45,446 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 3638708.492952287
2023-11-26 00:27:45,446 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14018207744
2023-11-26 00:27:45,446 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14093815808
2023-11-26 00:27:45,447 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14061415862.857143
2023-11-26 00:27:45,447 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14018291712.0
2023-11-26 00:27:45,448 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14093766656.0
2023-11-26 00:27:45,448 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14093768704.0
2023-11-26 00:27:45,448 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 37370864.6212863
2023-11-26 00:27:45,449 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 6.328407179880142, 'test-accuracy': 0.1, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00034809112548828125, 'send.bytes': 6462612, 'distribute.runtime': 0.03315258026123047, 'recv.bytes': 6462643, 'aggregate.runtime': 0.04505777359008789, 'train.runtime': 2.6226043701171875e-06, 'evaluate.runtime': 6.348459959030151, 'analysis.runtime': 0.00039696693420410156, 'min.cpu_utilization': 68.9, 'max.cpu_utilization': 82.7, 'mean.cpu_utilization': 74.11428571428571, '25th_prcntl.cpu_utilization': 72.35, '50th_prcntl.cpu_utilization': 73.7, '75th_prcntl.cpu_utilization': 74.4, 'std.cpu_utilization': 3.9382478233812748, 'min.cpu_memory_rss': 1022169088, 'max.cpu_memory_rss': 1030733824, 'mean.cpu_memory_rss': 1027667675.4285715, '25th_prcntl.cpu_memory_rss': 1024294912.0, '50th_prcntl.cpu_memory_rss': 1030725632.0, '75th_prcntl.cpu_memory_rss': 1030727680.0, 'std.cpu_memory_rss': 3638708.492952287, 'min.cpu_memory_vsz': 14018207744, 'max.cpu_memory_vsz': 14093815808, 'mean.cpu_memory_vsz': 14061415862.857143, '25th_prcntl.cpu_memory_vsz': 14018291712.0, '50th_prcntl.cpu_memory_vsz': 14093766656.0, '75th_prcntl.cpu_memory_vsz': 14093768704.0, 'std.cpu_memory_vsz': 37370864.6212863, 'save_metrics.runtime': 0.011482715606689453, 'inc_round.runtime': 0.0006580352783203125}
2023-11-26 00:27:45,449 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:27:45,449 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.010892629623413086
2023-11-26 00:27:45,449 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.010892629623413086
2023-11-26 00:27:45,450 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 2
2023-11-26 00:27:45,450 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:27:45,450 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:45,450 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 3
2023-11-26 00:27:45,451 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008833408355712891
2023-11-26 00:27:45,451 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008833408355712891
2023-11-26 00:27:45,451 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:27:45,451 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:27:45,452 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0004897117614746094
2023-11-26 00:27:45,452 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0004897117614746094
2023-11-26 00:27:45,452 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:45,453 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:27:45,454 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:27:45,454 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:27:45,455 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:45,456 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:45,456 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:45,457 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:45,457 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:45,457 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: recvd
2023-11-26 00:27:45,458 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:27:45,458 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: None
2023-11-26 00:27:45,458 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: None
2023-11-26 00:27:45,458 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:27:45,459 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:45,459 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580374'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:45,459 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:45,460 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580374': None}
2023-11-26 00:27:45,460 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958465.4605842, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:27:45,475 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:27:45,475 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:27:45,476 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:27:45,477 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:45,481 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:45,482 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,484 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:45,484 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,484 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,487 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:45,487 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,488 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,488 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:45,488 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,488 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,488 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,488 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:27:45,489 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:45,490 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:45,491 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,492 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:45,493 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,493 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,493 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:45,493 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,493 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,494 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:45,494 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,494 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,494 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,494 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:27:45,494 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:27:45,495 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:45,495 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,495 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:45,495 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,496 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,497 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:45,497 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,497 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,497 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:45,498 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,498 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,498 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,498 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:27:45,498 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04624342918395996
2023-11-26 00:27:45,499 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04624342918395996
2023-11-26 00:27:45,499 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:27:45,500 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:45,500 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:45,500 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:45,500 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:45,500 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:45,500 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:27:45,500 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: None
2023-11-26 00:27:45,500 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: None
2023-11-26 00:27:45,500 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: None
2023-11-26 00:27:45,501 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:27:45,501 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:45,501 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:45,501 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:27:45,501 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:27:45,502 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:27:45,502 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:27:45,502 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:27:45,502 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:27:45,502 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:27:45,502 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:27:45,502 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:45,503 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:45,504 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:27:45,504 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:27:45,520 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958465.5202954, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:27:45,520 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958465.5206568, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:27:45,522 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580379's parameters trained with 7607 samples
2023-11-26 00:27:45,536 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:27:45,536 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 3, trainer version: 1
2023-11-26 00:27:45,536 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:27:45,536 | top_aggregator.py:125 | DEBUG | MainThread | _aggregate_weights | NEW Entry 505f9fc483cf4df68a2409257b5fad7d3c580379 in dict
2023-11-26 00:27:45,536 | top_aggregator.py:127 | DEBUG | MainThread | _aggregate_weights | created new list entry in dict _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': []}
2023-11-26 00:27:45,536 | top_aggregator.py:131 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2]}
2023-11-26 00:27:45,536 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:27:45,537 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:27:45,543 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 3, trainer ver: 1
agg ver: 3, trainer ver: 1
2023-11-26 00:27:45,543 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:27:45,543 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:27:45,544 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:27:45,544 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.044844627380371094
2023-11-26 00:27:45,544 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.044844627380371094
2023-11-26 00:27:45,544 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:45,544 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:27:45,545 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:27:45,545 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:27:45,546 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:45,546 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:45,546 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:45,546 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:45,546 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:45,546 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:27:45,547 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: None
2023-11-26 00:27:45,547 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: None
2023-11-26 00:27:45,547 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: recvd
2023-11-26 00:27:45,547 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:27:45,547 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:45,547 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580371'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:45,547 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:45,548 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None}
2023-11-26 00:27:45,548 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958465.5483036, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:27:45,553 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:27:45,553 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:27:45,553 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:27:45,554 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:45,556 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:45,556 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,558 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:45,559 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,559 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,562 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:45,562 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,562 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,562 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:45,563 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,563 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,563 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,563 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:27:45,564 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:45,565 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:45,565 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,567 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:45,568 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,568 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,568 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:45,568 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,568 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,569 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:45,569 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,569 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,569 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,569 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:27:45,569 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:27:45,570 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:45,570 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,570 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:45,570 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,570 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,572 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:45,572 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,573 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,573 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:45,573 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,574 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,574 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,574 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:27:45,575 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03094029426574707
2023-11-26 00:27:45,576 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03094029426574707
2023-11-26 00:27:45,576 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:27:45,577 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:45,577 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:45,578 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:45,578 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:45,578 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:45,579 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: None
2023-11-26 00:27:45,579 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:27:45,579 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: None
2023-11-26 00:27:45,580 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: None
2023-11-26 00:27:45,580 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:27:45,580 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:45,580 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:45,581 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:27:45,581 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:27:45,582 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:27:45,582 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:45,584 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:45,584 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:45,594 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958465.5945969, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:45,595 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958465.5955765, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:45,597 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:27:45,608 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:27:45,608 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 3, trainer version: 2
2023-11-26 00:27:45,608 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:27:45,608 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:27:45,608 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2]}
2023-11-26 00:27:45,608 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:27:45,609 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:27:45,613 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 3, trainer ver: 2
agg ver: 3, trainer ver: 2
2023-11-26 00:27:45,613 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:27:45,613 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:27:45,614 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:27:45,614 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03752946853637695
2023-11-26 00:27:45,614 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03752946853637695
2023-11-26 00:27:45,614 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:45,614 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:27:45,615 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:27:45,615 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:27:45,615 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:45,616 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:45,616 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:45,616 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:45,616 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:27:45,616 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: None
2023-11-26 00:27:45,616 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:27:45,616 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: None
2023-11-26 00:27:45,617 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: None
2023-11-26 00:27:45,617 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:27:45,617 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:45,617 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580379'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:27:45,617 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:27:45,617 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580379': None}
2023-11-26 00:27:45,617 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958465.6179678, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:27:45,621 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:27:45,622 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:27:45,622 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:27:45,622 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:45,624 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:45,624 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,627 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:45,627 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,627 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,628 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:45,628 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,628 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,629 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:45,629 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,629 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,629 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,629 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:27:45,629 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:45,631 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:45,631 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,633 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:45,633 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,633 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,633 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:45,634 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,634 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,634 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:45,634 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,634 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,634 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,634 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:27:45,635 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:27:45,635 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:45,635 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,635 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:45,635 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,636 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,636 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:45,636 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,636 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,636 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:45,637 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,637 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:45,637 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:45,637 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:27:45,637 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.023346662521362305
2023-11-26 00:27:45,638 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.023346662521362305
2023-11-26 00:27:45,638 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:27:45,638 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:45,639 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:45,639 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:45,639 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:45,639 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:27:45,639 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: None
2023-11-26 00:27:45,639 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:27:45,639 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: None
2023-11-26 00:27:45,639 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: None
2023-11-26 00:27:45,639 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:27:45,640 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:27:45,640 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:27:45,640 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None}
2023-11-26 00:27:45,640 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:27:45,640 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-146' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:27:45,641 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:27:45,641 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:27:45,649 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958465.6497633, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:27:45,650 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958465.650197, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:27:45,651 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580378's parameters trained with 4612 samples
2023-11-26 00:27:45,665 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:27:45,665 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 3, trainer version: 2
2023-11-26 00:27:45,665 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:27:45,665 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580378 in dict
2023-11-26 00:27:45,665 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2]}
2023-11-26 00:27:45,665 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:27:45,666 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:27:45,670 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 3, trainer ver: 2
agg ver: 3, trainer ver: 2
2023-11-26 00:27:45,671 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:27:45,671 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:27:45,672 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:27:45,672 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:27:45,672 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:27:45,674 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 3
2023-11-26 00:27:45,674 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 3, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 3, '505f9fc483cf4df68a2409257b5fad7d3c580376': 1, '505f9fc483cf4df68a2409257b5fad7d3c580378': 2, '505f9fc483cf4df68a2409257b5fad7d3c580372': 1, '505f9fc483cf4df68a2409257b5fad7d3c580377': 1, '505f9fc483cf4df68a2409257b5fad7d3c580379': 1}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 3, '505f9fc483cf4df68a2409257b5fad7d3c580376': 1, '505f9fc483cf4df68a2409257b5fad7d3c580378': 2, '505f9fc483cf4df68a2409257b5fad7d3c580372': 1, '505f9fc483cf4df68a2409257b5fad7d3c580377': 1, '505f9fc483cf4df68a2409257b5fad7d3c580379': 1}
2023-11-26 00:27:45,674 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 0.7777777777777778
2023-11-26 00:27:45,675 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 1, Avg 0.3333333333333333, P50 0.0, P90 0.8, P99 0.98
2023-11-26 00:27:45,676 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 0, Avg 0.0, P50 0.0, P90 0.0, P99 0.0
2023-11-26 00:27:45,677 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:27:45,677 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:27:45,678 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:27:45,679 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:27:45,679 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.041069746017456055
2023-11-26 00:27:45,679 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.041069746017456055
2023-11-26 00:27:45,680 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.384185791015625e-06
2023-11-26 00:27:45,680 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.384185791015625e-06
2023-11-26 00:27:47,705 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:47,720 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:47,721 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:47,727 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:47,727 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:47,728 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:47,729 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:47,729 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:47,729 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:47,732 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:47,734 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 0: 1048576
2023-11-26 00:27:47,735 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:47,736 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:47,736 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:47,737 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:47,737 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:47,740 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 1: 1048576
2023-11-26 00:27:47,740 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:47,741 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:47,742 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:47,742 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:47,742 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 2: 57063
2023-11-26 00:27:47,743 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:47,748 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:27:47,749 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:27:47,821 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:47,825 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:47,826 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:47,829 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:47,830 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:47,831 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:47,832 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:47,833 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:47,834 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:47,835 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:47,838 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 0: 1048576
2023-11-26 00:27:47,839 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:47,840 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:47,840 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:47,840 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:47,841 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:47,842 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:47,843 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:47,847 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 1: 1048576
2023-11-26 00:27:47,848 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:47,849 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 2: 57063
2023-11-26 00:27:47,849 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:47,854 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:27:47,855 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:27:48,687 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:48,698 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:48,698 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:48,702 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:48,703 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:48,703 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:48,704 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:48,705 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:48,706 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:48,708 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:48,710 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 0: 1048576
2023-11-26 00:27:48,711 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:48,712 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:48,713 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:48,713 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:48,713 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:48,714 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:48,715 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:48,718 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 1: 1048576
2023-11-26 00:27:48,718 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:48,720 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 2: 57063
2023-11-26 00:27:48,720 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:48,726 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:27:48,726 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:27:52,236 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.5151369183063506
2023-11-26 00:27:52,237 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1000/10000 (0.1)
2023-11-26 00:27:52,239 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506]
2023-11-26 00:27:52,239 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.558610439300537
2023-11-26 00:27:52,239 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.558610439300537
2023-11-26 00:27:52,240 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:27:52,241 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004343986511230469
2023-11-26 00:27:52,241 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004343986511230469
2023-11-26 00:27:52,241 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 63.9
2023-11-26 00:27:52,242 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 82.9
2023-11-26 00:27:52,242 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 73.12857142857143
2023-11-26 00:27:52,243 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 70.3
2023-11-26 00:27:52,244 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 71.8
2023-11-26 00:27:52,245 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 76.35
2023-11-26 00:27:52,245 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 5.945878352922731
2023-11-26 00:27:52,246 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1034928128
2023-11-26 00:27:52,246 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1045671936
2023-11-26 00:27:52,246 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1041989046.8571428
2023-11-26 00:27:52,247 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1038155776.0
2023-11-26 00:27:52,247 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1045667840.0
2023-11-26 00:27:52,248 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1045671936.0
2023-11-26 00:27:52,248 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 4695050.061547539
2023-11-26 00:27:52,248 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14094290944
2023-11-26 00:27:52,249 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14245343232
2023-11-26 00:27:52,249 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14191378432.0
2023-11-26 00:27:52,249 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14132066304.0
2023-11-26 00:27:52,250 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14245294080.0
2023-11-26 00:27:52,250 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14245294080.0
2023-11-26 00:27:52,251 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 66484436.265581466
2023-11-26 00:27:52,252 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.5151369183063506, 'test-accuracy': 0.1, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0004897117614746094, 'send.bytes': 6462612, 'distribute.runtime': 0.023346662521362305, 'recv.bytes': 6462645, 'aggregate.runtime': 0.041069746017456055, 'train.runtime': 2.384185791015625e-06, 'evaluate.runtime': 6.558610439300537, 'analysis.runtime': 0.0004343986511230469, 'min.cpu_utilization': 63.9, 'max.cpu_utilization': 82.9, 'mean.cpu_utilization': 73.12857142857143, '25th_prcntl.cpu_utilization': 70.3, '50th_prcntl.cpu_utilization': 71.8, '75th_prcntl.cpu_utilization': 76.35, 'std.cpu_utilization': 5.945878352922731, 'min.cpu_memory_rss': 1034928128, 'max.cpu_memory_rss': 1045671936, 'mean.cpu_memory_rss': 1041989046.8571428, '25th_prcntl.cpu_memory_rss': 1038155776.0, '50th_prcntl.cpu_memory_rss': 1045667840.0, '75th_prcntl.cpu_memory_rss': 1045671936.0, 'std.cpu_memory_rss': 4695050.061547539, 'min.cpu_memory_vsz': 14094290944, 'max.cpu_memory_vsz': 14245343232, 'mean.cpu_memory_vsz': 14191378432.0, '25th_prcntl.cpu_memory_vsz': 14132066304.0, '50th_prcntl.cpu_memory_vsz': 14245294080.0, '75th_prcntl.cpu_memory_vsz': 14245294080.0, 'std.cpu_memory_vsz': 66484436.265581466, 'save_metrics.runtime': 0.010892629623413086, 'inc_round.runtime': 0.0008833408355712891}
2023-11-26 00:27:52,252 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:27:52,252 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.010935068130493164
2023-11-26 00:27:52,252 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.010935068130493164
2023-11-26 00:27:52,253 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 3
2023-11-26 00:27:52,253 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:27:52,253 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:52,253 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 4
2023-11-26 00:27:52,253 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008361339569091797
2023-11-26 00:27:52,254 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008361339569091797
2023-11-26 00:27:52,254 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:27:52,254 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:27:52,254 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0003108978271484375
2023-11-26 00:27:52,254 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0003108978271484375
2023-11-26 00:27:52,255 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:52,255 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:27:52,256 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:27:52,257 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:27:52,258 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:52,258 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:52,259 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:52,259 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:52,259 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:27:52,260 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: None
2023-11-26 00:27:52,260 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: recvd
2023-11-26 00:27:52,260 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: None
2023-11-26 00:27:52,261 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: None
2023-11-26 00:27:52,261 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:27:52,261 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:52,262 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:52,262 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:52,263 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:27:52,263 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958472.263468, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:27:52,278 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:27:52,278 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:27:52,279 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:27:52,280 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:52,286 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:52,286 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,288 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:52,288 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,289 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,291 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:52,292 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,292 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,292 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:52,292 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,293 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,293 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,293 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:27:52,294 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:52,295 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:52,295 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,297 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:52,298 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,298 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,298 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:52,298 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,299 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,299 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:52,299 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,299 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,299 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,299 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:27:52,300 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:27:52,300 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:52,300 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,301 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:52,301 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,301 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,302 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:52,302 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,302 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,302 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:52,303 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,303 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,303 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,303 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:27:52,304 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04896354675292969
2023-11-26 00:27:52,304 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04896354675292969
2023-11-26 00:27:52,304 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:27:52,305 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:52,305 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:52,305 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:52,306 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:52,306 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:52,306 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: None
2023-11-26 00:27:52,306 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: None
2023-11-26 00:27:52,306 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: None
2023-11-26 00:27:52,306 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:27:52,306 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:27:52,307 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:52,307 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:52,307 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:27:52,307 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:27:52,308 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:27:52,308 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:52,308 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:27:52,309 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:52,309 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:27:52,309 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:52,309 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:27:52,309 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:52,310 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:27:52,311 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:27:52,321 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958472.3218882, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:27:52,322 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958472.3223636, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:27:52,324 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580380's parameters trained with 5285 samples
2023-11-26 00:27:52,338 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:27:52,339 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 4, trainer version: 2
2023-11-26 00:27:52,339 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:27:52,339 | top_aggregator.py:125 | DEBUG | MainThread | _aggregate_weights | NEW Entry 505f9fc483cf4df68a2409257b5fad7d3c580380 in dict
2023-11-26 00:27:52,339 | top_aggregator.py:127 | DEBUG | MainThread | _aggregate_weights | created new list entry in dict _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2], '505f9fc483cf4df68a2409257b5fad7d3c580380': []}
2023-11-26 00:27:52,339 | top_aggregator.py:131 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2]}
2023-11-26 00:27:52,339 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:27:52,339 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:27:52,345 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 4, trainer ver: 2
agg ver: 4, trainer ver: 2
2023-11-26 00:27:52,345 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:27:52,345 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:27:52,345 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:27:52,345 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.041013240814208984
2023-11-26 00:27:52,346 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.041013240814208984
2023-11-26 00:27:52,346 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:52,346 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:27:52,347 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:27:52,348 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:27:52,348 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:52,349 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:52,349 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:52,350 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:52,350 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:52,351 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: None
2023-11-26 00:27:52,351 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: None
2023-11-26 00:27:52,352 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: recvd
2023-11-26 00:27:52,352 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:27:52,353 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:27:52,353 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:52,354 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580373'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:52,354 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:52,355 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None}
2023-11-26 00:27:52,355 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958472.3556638, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:27:52,364 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:27:52,364 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:27:52,365 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:27:52,365 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:52,367 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:52,368 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,369 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:52,369 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,369 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,372 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:52,372 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,372 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,372 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:52,373 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,373 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,373 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,373 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:27:52,374 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:52,375 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:52,375 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,376 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:52,377 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,377 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,377 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:52,377 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,377 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,377 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:52,378 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,378 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,378 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,378 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:27:52,378 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:27:52,379 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:52,379 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,379 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:52,379 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,379 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,381 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:52,381 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,382 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,383 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:52,384 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,385 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,386 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,386 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:27:52,387 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04119467735290527
2023-11-26 00:27:52,387 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04119467735290527
2023-11-26 00:27:52,387 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:27:52,388 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:52,388 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:52,388 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:52,388 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:52,388 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:52,388 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: None
2023-11-26 00:27:52,389 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: None
2023-11-26 00:27:52,389 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: None
2023-11-26 00:27:52,389 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:27:52,389 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:27:52,389 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:52,389 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:52,389 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:27:52,389 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:27:52,389 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:27:52,390 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:52,390 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:27:52,390 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:27:52,393 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958472.3939853, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:27:52,394 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958472.3941586, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:27:52,395 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580374's parameters trained with 5749 samples
2023-11-26 00:27:52,403 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:27:52,403 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 4, trainer version: 3
2023-11-26 00:27:52,403 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:27:52,403 | top_aggregator.py:125 | DEBUG | MainThread | _aggregate_weights | NEW Entry 505f9fc483cf4df68a2409257b5fad7d3c580374 in dict
2023-11-26 00:27:52,403 | top_aggregator.py:127 | DEBUG | MainThread | _aggregate_weights | created new list entry in dict _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2], '505f9fc483cf4df68a2409257b5fad7d3c580374': []}
2023-11-26 00:27:52,403 | top_aggregator.py:131 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1]}
2023-11-26 00:27:52,403 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:27:52,403 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:27:52,407 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 4, trainer ver: 3
agg ver: 4, trainer ver: 3
2023-11-26 00:27:52,408 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:27:52,408 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:27:52,408 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:27:52,408 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.02081441879272461
2023-11-26 00:27:52,408 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.02081441879272461
2023-11-26 00:27:52,409 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:52,409 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:27:52,409 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:27:52,410 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:27:52,410 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:52,410 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:52,411 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:52,411 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:52,414 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:52,415 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: None
2023-11-26 00:27:52,415 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: None
2023-11-26 00:27:52,415 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: recvd
2023-11-26 00:27:52,416 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:27:52,416 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:27:52,416 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:52,416 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580378'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:52,417 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:52,417 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None}
2023-11-26 00:27:52,418 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958472.41828, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:27:52,430 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:27:52,430 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:27:52,431 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:27:52,432 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:52,435 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:52,436 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,437 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:52,437 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,437 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,439 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:52,439 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,439 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,439 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:52,439 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,440 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,440 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,440 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:27:52,440 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:52,441 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:52,442 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,443 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:52,443 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,443 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,443 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:52,444 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,444 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,444 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:52,444 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,444 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,445 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,445 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:27:52,445 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:27:52,446 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:52,446 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,446 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:52,446 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,447 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,447 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:52,447 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,447 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,447 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:52,447 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,448 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:52,448 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:52,448 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:27:52,448 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.039519309997558594
2023-11-26 00:27:52,448 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.039519309997558594
2023-11-26 00:27:52,448 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:27:52,449 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:52,449 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:52,449 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:52,450 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:52,450 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:52,450 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: None
2023-11-26 00:27:52,450 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: None
2023-11-26 00:27:52,451 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:27:52,451 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:27:52,451 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:27:52,451 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:52,451 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:52,452 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:27:52,452 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:27:52,453 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-185' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:27:52,454 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:27:52,454 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:27:52,458 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958472.4584985, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:27:52,458 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958472.4587164, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:27:52,459 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580379's parameters trained with 7607 samples
2023-11-26 00:27:52,469 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:27:52,470 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 4, trainer version: 3
2023-11-26 00:27:52,470 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:27:52,470 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580379 in dict
2023-11-26 00:27:52,470 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1]}
2023-11-26 00:27:52,470 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:27:52,470 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:27:52,474 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 4, trainer ver: 3
agg ver: 4, trainer ver: 3
2023-11-26 00:27:52,475 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:27:52,476 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:27:52,476 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:27:52,477 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:27:52,477 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:27:52,478 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 4
2023-11-26 00:27:52,479 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 4, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 3, '505f9fc483cf4df68a2409257b5fad7d3c580376': 1, '505f9fc483cf4df68a2409257b5fad7d3c580378': 2, '505f9fc483cf4df68a2409257b5fad7d3c580372': 1, '505f9fc483cf4df68a2409257b5fad7d3c580377': 1, '505f9fc483cf4df68a2409257b5fad7d3c580379': 2, '505f9fc483cf4df68a2409257b5fad7d3c580380': 1, '505f9fc483cf4df68a2409257b5fad7d3c580374': 1}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 3, '505f9fc483cf4df68a2409257b5fad7d3c580376': 1, '505f9fc483cf4df68a2409257b5fad7d3c580378': 2, '505f9fc483cf4df68a2409257b5fad7d3c580372': 1, '505f9fc483cf4df68a2409257b5fad7d3c580377': 1, '505f9fc483cf4df68a2409257b5fad7d3c580379': 2, '505f9fc483cf4df68a2409257b5fad7d3c580380': 1, '505f9fc483cf4df68a2409257b5fad7d3c580374': 1}
2023-11-26 00:27:52,479 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 0.9166666666666666
2023-11-26 00:27:52,480 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 1, Avg 0.3333333333333333, P50 0.0, P90 0.8, P99 0.98
2023-11-26 00:27:52,481 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 0, Avg 0.0, P50 0.0, P90 0.0, P99 0.0
2023-11-26 00:27:52,481 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:27:52,482 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:27:52,485 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:27:52,485 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 1.9, P99 1.99
2023-11-26 00:27:52,488 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:27:52,489 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:27:52,489 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04107356071472168
2023-11-26 00:27:52,490 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04107356071472168
2023-11-26 00:27:52,490 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 3.337860107421875e-06
2023-11-26 00:27:52,493 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 3.337860107421875e-06
2023-11-26 00:27:53,358 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:53,370 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:53,371 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:53,374 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:53,375 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:53,375 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:53,376 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:53,376 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:53,377 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:53,381 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:53,383 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 0: 1048576
2023-11-26 00:27:53,385 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:53,386 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:53,386 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:53,387 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:53,389 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:53,391 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 1: 1048576
2023-11-26 00:27:53,392 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:53,393 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:53,393 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:53,393 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:53,394 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 2: 57063
2023-11-26 00:27:53,394 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:53,399 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:27:53,400 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:27:53,632 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:53,635 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:53,636 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:53,637 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:53,637 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:53,640 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:53,640 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:53,641 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:53,642 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:53,642 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:53,643 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:53,644 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:53,648 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:27:53,649 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:53,650 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:53,650 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:53,651 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:53,652 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:53,656 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:27:53,657 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:53,658 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:27:53,659 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:53,664 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:27:53,664 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:27:53,966 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:53,977 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:53,978 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:53,982 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:53,982 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:53,983 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:53,984 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:53,985 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:53,985 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:27:53,987 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:53,992 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 0: 1048576
2023-11-26 00:27:53,993 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:53,994 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:53,995 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:53,995 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:53,995 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:53,996 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:27:53,998 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:27:54,002 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 1: 1048576
2023-11-26 00:27:54,003 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:27:54,004 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 2: 57063
2023-11-26 00:27:54,005 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:54,016 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:27:54,016 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:27:58,432 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.4641678159713747
2023-11-26 00:27:58,435 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1000/10000 (0.1)
2023-11-26 00:27:58,436 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747]
2023-11-26 00:27:58,437 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 5.94292950630188
2023-11-26 00:27:58,437 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 5.94292950630188
2023-11-26 00:27:58,438 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:27:58,438 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004057884216308594
2023-11-26 00:27:58,439 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004057884216308594
2023-11-26 00:27:58,439 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 68.8
2023-11-26 00:27:58,440 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 86.8
2023-11-26 00:27:58,440 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 72.03333333333332
2023-11-26 00:27:58,441 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 68.9
2023-11-26 00:27:58,442 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 68.9
2023-11-26 00:27:58,443 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 69.65
2023-11-26 00:27:58,443 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 6.614546259738622
2023-11-26 00:27:58,444 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1052147712
2023-11-26 00:27:58,444 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1058582528
2023-11-26 00:27:58,444 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1057469098.6666666
2023-11-26 00:27:58,445 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1058504704.0
2023-11-26 00:27:58,445 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1058519040.0
2023-11-26 00:27:58,446 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1058539520.0
2023-11-26 00:27:58,446 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 2379940.981850507
2023-11-26 00:27:58,446 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14245347328
2023-11-26 00:27:58,446 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14320844800
2023-11-26 00:27:58,447 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14308237312.0
2023-11-26 00:27:58,447 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:27:58,448 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:27:58,448 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14320832512.0
2023-11-26 00:27:58,448 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 28125264.45542996
2023-11-26 00:27:58,449 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.4641678159713747, 'test-accuracy': 0.1, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0003108978271484375, 'send.bytes': 6462612, 'distribute.runtime': 0.039519309997558594, 'recv.bytes': 6462645, 'aggregate.runtime': 0.04107356071472168, 'train.runtime': 3.337860107421875e-06, 'evaluate.runtime': 5.94292950630188, 'analysis.runtime': 0.0004057884216308594, 'min.cpu_utilization': 68.8, 'max.cpu_utilization': 86.8, 'mean.cpu_utilization': 72.03333333333332, '25th_prcntl.cpu_utilization': 68.9, '50th_prcntl.cpu_utilization': 68.9, '75th_prcntl.cpu_utilization': 69.65, 'std.cpu_utilization': 6.614546259738622, 'min.cpu_memory_rss': 1052147712, 'max.cpu_memory_rss': 1058582528, 'mean.cpu_memory_rss': 1057469098.6666666, '25th_prcntl.cpu_memory_rss': 1058504704.0, '50th_prcntl.cpu_memory_rss': 1058519040.0, '75th_prcntl.cpu_memory_rss': 1058539520.0, 'std.cpu_memory_rss': 2379940.981850507, 'min.cpu_memory_vsz': 14245347328, 'max.cpu_memory_vsz': 14320844800, 'mean.cpu_memory_vsz': 14308237312.0, '25th_prcntl.cpu_memory_vsz': 14320795648.0, '50th_prcntl.cpu_memory_vsz': 14320795648.0, '75th_prcntl.cpu_memory_vsz': 14320832512.0, 'std.cpu_memory_vsz': 28125264.45542996, 'save_metrics.runtime': 0.010935068130493164, 'inc_round.runtime': 0.0008361339569091797}
2023-11-26 00:27:58,449 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:27:58,449 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.01034998893737793
2023-11-26 00:27:58,449 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.01034998893737793
2023-11-26 00:27:58,450 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 4
2023-11-26 00:27:58,450 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:27:58,450 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:58,450 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 5
2023-11-26 00:27:58,451 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0009226799011230469
2023-11-26 00:27:58,451 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0009226799011230469
2023-11-26 00:27:58,451 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:27:58,451 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:27:58,452 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0004684925079345703
2023-11-26 00:27:58,452 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0004684925079345703
2023-11-26 00:27:58,452 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:58,453 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:27:58,454 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:27:58,454 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:27:58,456 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:58,456 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:58,456 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:58,457 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:58,457 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:58,457 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: None
2023-11-26 00:27:58,458 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: None
2023-11-26 00:27:58,458 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:27:58,458 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: recvd
2023-11-26 00:27:58,459 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:27:58,459 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:58,459 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580372'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:58,460 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:58,460 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580372': None}
2023-11-26 00:27:58,460 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958478.4608345, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:27:58,474 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:27:58,474 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:27:58,475 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:27:58,475 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:58,482 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:58,482 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,484 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:58,485 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,485 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,487 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:58,488 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,488 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,488 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:58,488 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,488 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,489 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,489 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:27:58,489 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:58,491 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:58,492 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,492 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:58,493 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,493 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,493 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:58,493 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,493 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,493 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:58,494 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,494 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,494 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,494 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:27:58,494 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:27:58,495 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:58,495 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,495 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:58,495 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,495 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,497 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:58,497 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,497 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,497 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:58,497 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,498 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,498 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,498 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:27:58,498 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04607105255126953
2023-11-26 00:27:58,499 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04607105255126953
2023-11-26 00:27:58,499 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:27:58,500 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:58,500 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:58,500 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:58,500 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:58,500 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:58,500 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: None
2023-11-26 00:27:58,501 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: None
2023-11-26 00:27:58,501 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:27:58,501 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:27:58,501 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:27:58,501 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:58,501 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:58,501 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:27:58,501 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:27:58,502 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:27:58,503 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:58,503 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:27:58,504 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:58,504 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:27:58,504 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:27:58,507 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:27:58,507 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:27:58,521 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958478.5218537, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:27:58,522 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958478.5223489, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:27:58,524 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580371's parameters trained with 8920 samples
2023-11-26 00:27:58,539 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:27:58,539 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 5, trainer version: 3
2023-11-26 00:27:58,539 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:27:58,539 | top_aggregator.py:125 | DEBUG | MainThread | _aggregate_weights | NEW Entry 505f9fc483cf4df68a2409257b5fad7d3c580371 in dict
2023-11-26 00:27:58,539 | top_aggregator.py:127 | DEBUG | MainThread | _aggregate_weights | created new list entry in dict _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': []}
2023-11-26 00:27:58,539 | top_aggregator.py:131 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2]}
2023-11-26 00:27:58,540 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:27:58,540 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:27:58,545 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 5, trainer ver: 3
agg ver: 5, trainer ver: 3
2023-11-26 00:27:58,545 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:27:58,545 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:27:58,546 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:27:58,546 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.0467677116394043
2023-11-26 00:27:58,546 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.0467677116394043
2023-11-26 00:27:58,546 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:58,547 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:27:58,547 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:27:58,548 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:27:58,549 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:58,549 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:58,550 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:58,550 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:58,550 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:58,551 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: recvd
2023-11-26 00:27:58,551 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: None
2023-11-26 00:27:58,551 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:27:58,552 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:27:58,552 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:27:58,552 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:58,552 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580380'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:58,553 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:58,553 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580380': None}
2023-11-26 00:27:58,553 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958478.553903, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:27:58,561 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:27:58,561 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:27:58,562 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:27:58,562 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:58,567 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:58,568 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,570 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:58,580 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,581 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,581 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:58,581 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,581 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,581 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:58,582 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,582 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,582 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,582 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:27:58,582 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:58,586 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:58,587 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,588 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:58,588 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,588 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,589 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:58,589 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,589 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,590 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:58,590 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,590 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,590 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,591 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:27:58,591 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:27:58,591 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:58,592 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,592 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:58,592 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,593 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,593 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:58,593 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,593 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,594 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:58,594 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,594 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,595 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,595 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:27:58,596 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04937148094177246
2023-11-26 00:27:58,596 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04937148094177246
2023-11-26 00:27:58,596 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:27:58,597 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:58,597 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:58,598 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:58,598 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:58,598 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:58,598 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: None
2023-11-26 00:27:58,599 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:27:58,599 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:27:58,599 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:27:58,599 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:27:58,599 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:58,599 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:58,600 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:27:58,600 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:27:58,601 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-212' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:27:58,601 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:27:58,602 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:27:58,609 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958478.6095078, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:27:58,609 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958478.6098168, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:27:58,612 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580373's parameters trained with 1384 samples
2023-11-26 00:27:58,622 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:27:58,622 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 5, trainer version: 4
2023-11-26 00:27:58,622 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:27:58,622 | top_aggregator.py:125 | DEBUG | MainThread | _aggregate_weights | NEW Entry 505f9fc483cf4df68a2409257b5fad7d3c580373 in dict
2023-11-26 00:27:58,622 | top_aggregator.py:127 | DEBUG | MainThread | _aggregate_weights | created new list entry in dict _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2], '505f9fc483cf4df68a2409257b5fad7d3c580373': []}
2023-11-26 00:27:58,622 | top_aggregator.py:131 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1]}
2023-11-26 00:27:58,622 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:27:58,623 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:27:58,627 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 5, trainer ver: 4
agg ver: 5, trainer ver: 4
2023-11-26 00:27:58,628 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:27:58,628 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:27:58,629 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:27:58,629 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03235340118408203
2023-11-26 00:27:58,629 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03235340118408203
2023-11-26 00:27:58,629 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:27:58,629 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:27:58,630 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:27:58,631 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:27:58,631 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:58,632 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:58,632 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:58,632 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:58,633 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:58,633 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: recvd
2023-11-26 00:27:58,633 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:27:58,634 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:27:58,634 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:27:58,634 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:27:58,634 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:58,635 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:58,635 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:58,635 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:27:58,636 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958478.636371, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:27:58,643 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:27:58,644 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:27:58,645 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:27:58,645 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:27:58,649 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:58,650 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,668 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:58,669 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,669 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,670 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:58,670 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,670 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,671 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:58,671 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,671 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,671 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,671 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:27:58,671 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:27:58,673 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:58,673 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,674 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:58,674 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,674 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,674 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:58,674 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,674 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,674 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:58,675 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,675 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,675 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,675 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:27:58,675 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:27:58,675 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:58,675 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,676 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:58,676 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,676 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,676 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:58,676 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,676 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,676 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:27:58,676 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,677 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:27:58,677 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:27:58,677 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:27:58,677 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.048174142837524414
2023-11-26 00:27:58,678 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.048174142837524414
2023-11-26 00:27:58,679 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:27:58,679 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:27:58,680 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:27:58,680 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:27:58,680 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:27:58,680 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:58,680 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:27:58,680 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:27:58,680 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:27:58,680 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:27:58,680 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:27:58,681 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:27:58,681 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:27:58,681 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:27:58,685 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:27:58,686 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-219' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:27:58,687 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:27:58,688 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:27:58,697 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958478.6971698, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:27:58,697 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958478.697471, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:27:58,698 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:27:58,708 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:27:58,708 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 5, trainer version: 4
2023-11-26 00:27:58,708 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:27:58,708 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:27:58,708 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1]}
2023-11-26 00:27:58,708 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:27:58,709 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:27:58,713 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 5, trainer ver: 4
agg ver: 5, trainer ver: 4
2023-11-26 00:27:58,714 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:27:58,714 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:27:58,715 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:27:58,715 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:27:58,715 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:27:58,717 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 5
2023-11-26 00:27:58,717 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 5, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 3, '505f9fc483cf4df68a2409257b5fad7d3c580376': 2, '505f9fc483cf4df68a2409257b5fad7d3c580378': 2, '505f9fc483cf4df68a2409257b5fad7d3c580372': 1, '505f9fc483cf4df68a2409257b5fad7d3c580377': 1, '505f9fc483cf4df68a2409257b5fad7d3c580379': 2, '505f9fc483cf4df68a2409257b5fad7d3c580380': 1, '505f9fc483cf4df68a2409257b5fad7d3c580374': 1, '505f9fc483cf4df68a2409257b5fad7d3c580371': 1, '505f9fc483cf4df68a2409257b5fad7d3c580373': 1}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 3, '505f9fc483cf4df68a2409257b5fad7d3c580376': 2, '505f9fc483cf4df68a2409257b5fad7d3c580378': 2, '505f9fc483cf4df68a2409257b5fad7d3c580372': 1, '505f9fc483cf4df68a2409257b5fad7d3c580377': 1, '505f9fc483cf4df68a2409257b5fad7d3c580379': 2, '505f9fc483cf4df68a2409257b5fad7d3c580380': 1, '505f9fc483cf4df68a2409257b5fad7d3c580374': 1, '505f9fc483cf4df68a2409257b5fad7d3c580371': 1, '505f9fc483cf4df68a2409257b5fad7d3c580373': 1}
2023-11-26 00:27:58,717 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.0
2023-11-26 00:27:58,718 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 1, Avg 0.3333333333333333, P50 0.0, P90 0.8, P99 0.98
2023-11-26 00:27:58,719 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 1, Avg 0.5, P50 0.5, P90 0.9, P99 0.99
2023-11-26 00:27:58,720 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:27:58,720 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:27:58,721 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:27:58,722 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 1.9, P99 1.99
2023-11-26 00:27:58,722 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:27:58,723 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:27:58,724 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:27:58,724 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:27:58,724 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.045786380767822266
2023-11-26 00:27:58,725 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.045786380767822266
2023-11-26 00:27:58,725 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 4.0531158447265625e-06
2023-11-26 00:27:58,725 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 4.0531158447265625e-06
2023-11-26 00:27:59,977 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:27:59,995 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:27:59,996 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:00,000 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:00,000 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:00,001 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:00,002 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:00,003 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:00,003 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:00,008 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:00,012 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:28:00,013 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:00,015 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:00,015 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:00,016 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:00,020 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:00,025 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:28:00,025 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:00,026 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:00,027 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:00,028 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:00,028 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:28:00,029 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:00,040 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:00,041 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:28:00,149 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:00,152 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:00,153 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:00,156 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:00,157 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:00,157 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:00,159 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:00,160 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:00,160 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:00,162 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:00,166 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 0: 1048576
2023-11-26 00:28:00,167 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:00,168 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:00,169 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:00,169 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:00,170 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:00,170 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:00,172 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:00,176 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 1: 1048576
2023-11-26 00:28:00,177 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:00,178 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 2: 57063
2023-11-26 00:28:00,179 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:00,184 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:00,185 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:28:00,203 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:00,206 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:00,207 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:00,209 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:00,210 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:00,211 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:00,212 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:00,213 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:00,214 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:00,215 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:00,219 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 0: 1048576
2023-11-26 00:28:00,220 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:00,221 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:00,222 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:00,222 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:00,223 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:00,227 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 1: 1048576
2023-11-26 00:28:00,228 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:00,229 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:00,230 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:00,230 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:00,231 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 2: 57063
2023-11-26 00:28:00,232 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:00,237 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:00,238 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:28:05,046 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.500023926782608
2023-11-26 00:28:05,048 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1000/10000 (0.1)
2023-11-26 00:28:05,051 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608]
2023-11-26 00:28:05,052 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.325788736343384
2023-11-26 00:28:05,052 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.325788736343384
2023-11-26 00:28:05,053 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:28:05,054 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0006070137023925781
2023-11-26 00:28:05,054 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0006070137023925781
2023-11-26 00:28:05,055 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 65.9
2023-11-26 00:28:05,055 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 86.8
2023-11-26 00:28:05,056 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 71.85714285714285
2023-11-26 00:28:05,057 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 67.4
2023-11-26 00:28:05,058 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 68.9
2023-11-26 00:28:05,059 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 73.30000000000001
2023-11-26 00:28:05,060 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 6.7974485009045065
2023-11-26 00:28:05,060 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1058582528
2023-11-26 00:28:05,060 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1062703104
2023-11-26 00:28:05,061 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1061412864.0
2023-11-26 00:28:05,061 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1060513792.0
2023-11-26 00:28:05,062 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1062445056.0
2023-11-26 00:28:05,062 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1062565888.0
2023-11-26 00:28:05,063 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 1793053.7832233112
2023-11-26 00:28:05,063 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14320738304
2023-11-26 00:28:05,063 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14320848896
2023-11-26 00:28:05,063 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14320795062.857143
2023-11-26 00:28:05,064 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:05,064 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:05,065 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:05,065 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 29571.43190614198
2023-11-26 00:28:05,065 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.500023926782608, 'test-accuracy': 0.1, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0004684925079345703, 'send.bytes': 6462612, 'distribute.runtime': 0.048174142837524414, 'recv.bytes': 6462645, 'aggregate.runtime': 0.045786380767822266, 'train.runtime': 4.0531158447265625e-06, 'evaluate.runtime': 6.325788736343384, 'analysis.runtime': 0.0006070137023925781, 'min.cpu_utilization': 65.9, 'max.cpu_utilization': 86.8, 'mean.cpu_utilization': 71.85714285714285, '25th_prcntl.cpu_utilization': 67.4, '50th_prcntl.cpu_utilization': 68.9, '75th_prcntl.cpu_utilization': 73.30000000000001, 'std.cpu_utilization': 6.7974485009045065, 'min.cpu_memory_rss': 1058582528, 'max.cpu_memory_rss': 1062703104, 'mean.cpu_memory_rss': 1061412864.0, '25th_prcntl.cpu_memory_rss': 1060513792.0, '50th_prcntl.cpu_memory_rss': 1062445056.0, '75th_prcntl.cpu_memory_rss': 1062565888.0, 'std.cpu_memory_rss': 1793053.7832233112, 'min.cpu_memory_vsz': 14320738304, 'max.cpu_memory_vsz': 14320848896, 'mean.cpu_memory_vsz': 14320795062.857143, '25th_prcntl.cpu_memory_vsz': 14320795648.0, '50th_prcntl.cpu_memory_vsz': 14320795648.0, '75th_prcntl.cpu_memory_vsz': 14320795648.0, 'std.cpu_memory_vsz': 29571.43190614198, 'save_metrics.runtime': 0.01034998893737793, 'inc_round.runtime': 0.0009226799011230469}
2023-11-26 00:28:05,066 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:28:05,066 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011567354202270508
2023-11-26 00:28:05,066 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011567354202270508
2023-11-26 00:28:05,066 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 5
2023-11-26 00:28:05,067 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:28:05,067 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:05,067 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 6
2023-11-26 00:28:05,067 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008976459503173828
2023-11-26 00:28:05,068 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008976459503173828
2023-11-26 00:28:05,068 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:28:05,068 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:28:05,068 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0004062652587890625
2023-11-26 00:28:05,068 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0004062652587890625
2023-11-26 00:28:05,069 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:05,070 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:05,070 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:05,071 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:05,072 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:05,073 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:05,073 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:05,073 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:05,074 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:05,074 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:28:05,074 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:05,074 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:05,075 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:05,075 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:28:05,075 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:05,076 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580377'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:28:05,076 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:05,076 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None}
2023-11-26 00:28:05,077 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958485.0773306, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:05,090 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:28:05,090 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:05,091 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:05,091 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:05,097 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,097 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,100 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,100 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,101 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,103 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,104 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,104 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,104 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,104 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,105 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,105 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,105 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:28:05,105 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:05,107 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,107 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,109 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,109 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,109 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,110 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,110 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,110 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,110 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,110 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,110 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,111 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,111 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:28:05,111 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:05,111 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,112 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,112 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,112 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,112 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,113 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,114 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,114 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,114 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,114 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,114 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,114 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,115 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:28:05,115 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.0462188720703125
2023-11-26 00:28:05,116 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.0462188720703125
2023-11-26 00:28:05,116 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:05,117 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:05,117 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:05,118 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:05,118 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:05,118 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:05,118 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:05,118 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:28:05,118 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:05,118 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:05,118 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:05,118 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:28:05,118 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:05,119 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:28:05,119 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:05,120 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:28:05,120 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:28:05,120 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:28:05,120 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:28:05,120 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:05,120 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:28:05,122 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:28:05,122 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:28:05,136 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958485.1364565, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:28:05,136 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958485.1368675, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:28:05,138 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580378's parameters trained with 4612 samples
2023-11-26 00:28:05,153 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:05,153 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 6, trainer version: 4
2023-11-26 00:28:05,153 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:28:05,153 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580378 in dict
2023-11-26 00:28:05,153 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1]}
2023-11-26 00:28:05,153 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:05,153 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:05,159 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 6, trainer ver: 4
agg ver: 6, trainer ver: 4
2023-11-26 00:28:05,159 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:05,160 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:28:05,160 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:28:05,160 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04374194145202637
2023-11-26 00:28:05,160 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04374194145202637
2023-11-26 00:28:05,160 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:05,161 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:05,161 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:05,162 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:05,163 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:05,163 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:05,163 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:05,164 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:05,164 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:05,164 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:05,165 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:28:05,165 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: recvd
2023-11-26 00:28:05,165 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:05,165 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:05,166 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:05,166 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580373'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:28:05,166 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:05,167 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None}
2023-11-26 00:28:05,167 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958485.1674712, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:05,173 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:28:05,173 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:05,174 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:05,174 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:05,178 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,179 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,180 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,180 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,181 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,183 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,184 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,184 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,185 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,185 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,185 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,185 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,186 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:28:05,186 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:05,189 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,189 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,194 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,194 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,194 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,195 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,199 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,200 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,202 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,202 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,203 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,203 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,204 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:28:05,204 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:05,205 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,206 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,206 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,207 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,207 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,207 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,208 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,208 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,209 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,209 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,209 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,210 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,210 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:28:05,210 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04970884323120117
2023-11-26 00:28:05,210 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04970884323120117
2023-11-26 00:28:05,211 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:05,215 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:05,216 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:05,216 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:05,216 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:05,217 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:05,217 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:05,218 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:05,218 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:28:05,218 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:05,218 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:05,219 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:28:05,219 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:05,219 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:28:05,219 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:05,220 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-246' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:28:05,220 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:05,221 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:05,225 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958485.2258677, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:05,226 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958485.2260745, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:05,227 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:28:05,235 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:05,235 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 6, trainer version: 5
2023-11-26 00:28:05,235 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:28:05,235 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:28:05,235 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1]}
2023-11-26 00:28:05,235 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:05,235 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:05,240 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 6, trainer ver: 5
agg ver: 6, trainer ver: 5
2023-11-26 00:28:05,240 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:05,240 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:28:05,241 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:28:05,241 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.030077457427978516
2023-11-26 00:28:05,241 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.030077457427978516
2023-11-26 00:28:05,241 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:05,241 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:05,242 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:05,242 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:05,243 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:05,243 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:05,243 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:05,243 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:05,243 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:05,243 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:05,244 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:05,244 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:28:05,244 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:05,244 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:28:05,244 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:05,244 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580379'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:05,244 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:28:05,245 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580379': None}
2023-11-26 00:28:05,245 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958485.245334, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:28:05,252 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:28:05,253 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:05,253 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:05,253 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:05,256 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,257 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,258 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,258 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,258 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,261 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,261 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,261 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,261 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,262 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,262 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,262 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,262 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:28:05,263 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:05,264 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,264 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,265 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,265 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,266 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,266 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,266 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,266 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,266 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,267 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,267 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,267 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,267 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:28:05,267 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:05,267 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,268 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,268 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,268 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,268 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,279 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,279 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,280 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,280 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,280 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,280 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:05,280 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:05,280 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:28:05,280 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03934931755065918
2023-11-26 00:28:05,281 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03934931755065918
2023-11-26 00:28:05,281 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:05,281 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:05,281 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:05,282 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:05,282 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:05,282 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:28:05,282 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:05,282 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:05,282 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:28:05,282 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:05,282 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:28:05,282 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:05,282 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:28:05,283 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None}
2023-11-26 00:28:05,283 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:05,283 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-253' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:28:05,284 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:28:05,284 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:28:05,293 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958485.2932954, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:28:05,293 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958485.2936494, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:28:05,294 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580372's parameters trained with 5929 samples
2023-11-26 00:28:05,304 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:05,304 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 6, trainer version: 5
2023-11-26 00:28:05,304 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:28:05,304 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580372 in dict
2023-11-26 00:28:05,304 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1]}
2023-11-26 00:28:05,305 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:05,305 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:05,311 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 6, trainer ver: 5
agg ver: 6, trainer ver: 5
2023-11-26 00:28:05,311 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:05,312 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:28:05,312 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:28:05,312 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:28:05,313 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:28:05,314 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 6
2023-11-26 00:28:05,314 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 6, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 4, '505f9fc483cf4df68a2409257b5fad7d3c580376': 2, '505f9fc483cf4df68a2409257b5fad7d3c580378': 3, '505f9fc483cf4df68a2409257b5fad7d3c580372': 2, '505f9fc483cf4df68a2409257b5fad7d3c580377': 1, '505f9fc483cf4df68a2409257b5fad7d3c580379': 2, '505f9fc483cf4df68a2409257b5fad7d3c580380': 1, '505f9fc483cf4df68a2409257b5fad7d3c580374': 1, '505f9fc483cf4df68a2409257b5fad7d3c580371': 1, '505f9fc483cf4df68a2409257b5fad7d3c580373': 1}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 4, '505f9fc483cf4df68a2409257b5fad7d3c580376': 2, '505f9fc483cf4df68a2409257b5fad7d3c580378': 3, '505f9fc483cf4df68a2409257b5fad7d3c580372': 2, '505f9fc483cf4df68a2409257b5fad7d3c580377': 1, '505f9fc483cf4df68a2409257b5fad7d3c580379': 2, '505f9fc483cf4df68a2409257b5fad7d3c580380': 1, '505f9fc483cf4df68a2409257b5fad7d3c580374': 1, '505f9fc483cf4df68a2409257b5fad7d3c580371': 1, '505f9fc483cf4df68a2409257b5fad7d3c580373': 1}
2023-11-26 00:28:05,314 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.0555555555555556
2023-11-26 00:28:05,315 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 1, Avg 0.5, P50 0.5, P90 1.0, P99 1.0
2023-11-26 00:28:05,328 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 1, Avg 0.5, P50 0.5, P90 0.9, P99 0.99
2023-11-26 00:28:05,328 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 1.8, P99 1.98
2023-11-26 00:28:05,329 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:05,329 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:05,340 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 1.9, P99 1.99
2023-11-26 00:28:05,340 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:05,341 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:05,341 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:05,342 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:05,342 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.06087493896484375
2023-11-26 00:28:05,342 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.06087493896484375
2023-11-26 00:28:05,342 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.6226043701171875e-06
2023-11-26 00:28:05,342 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.6226043701171875e-06
2023-11-26 00:28:05,753 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:05,761 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,762 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:05,766 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:05,767 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,767 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:05,768 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,768 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:05,768 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:05,771 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:05,775 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 0: 1048576
2023-11-26 00:28:05,776 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:05,777 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:05,777 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,777 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:05,779 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:05,783 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 1: 1048576
2023-11-26 00:28:05,784 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:05,785 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,785 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:05,786 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:05,786 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 2: 57063
2023-11-26 00:28:05,787 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,792 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:05,793 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:28:05,875 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:05,879 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,879 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:05,880 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,881 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:05,884 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,885 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:05,885 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,886 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:05,886 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:05,887 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,888 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:05,890 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:05,894 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 0: 1048576
2023-11-26 00:28:05,895 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,895 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:05,896 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:05,896 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:05,897 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:05,897 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:05,898 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:05,902 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 1: 1048576
2023-11-26 00:28:05,904 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:05,905 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 2: 57063
2023-11-26 00:28:05,906 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:05,911 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:05,912 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:28:07,396 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:07,399 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:07,400 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:07,403 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:07,403 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:07,404 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:07,405 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:07,406 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:07,406 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:07,407 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:07,412 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 0: 1048576
2023-11-26 00:28:07,412 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:07,413 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:07,414 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:07,414 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:07,415 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:07,416 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:07,417 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:07,421 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 1: 1048576
2023-11-26 00:28:07,422 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:07,423 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 2: 57063
2023-11-26 00:28:07,424 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:07,429 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:07,429 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:28:11,047 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,048 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:11,049 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,050 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:11,733 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.4777181664943697
2023-11-26 00:28:11,734 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1000/10000 (0.1)
2023-11-26 00:28:11,735 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697]
2023-11-26 00:28:11,736 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.393301248550415
2023-11-26 00:28:11,736 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.393301248550415
2023-11-26 00:28:11,737 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:28:11,737 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004105567932128906
2023-11-26 00:28:11,737 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004105567932128906
2023-11-26 00:28:11,738 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 70.9
2023-11-26 00:28:11,738 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 75.8
2023-11-26 00:28:11,739 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 73.36666666666666
2023-11-26 00:28:11,740 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 72.075
2023-11-26 00:28:11,741 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 73.4
2023-11-26 00:28:11,742 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 74.65
2023-11-26 00:28:11,742 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 1.698692307498787
2023-11-26 00:28:11,743 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1067028480
2023-11-26 00:28:11,743 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1069469696
2023-11-26 00:28:11,744 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1068535125.3333334
2023-11-26 00:28:11,744 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1067578368.0
2023-11-26 00:28:11,745 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1069228032.0
2023-11-26 00:28:11,746 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1069228032.0
2023-11-26 00:28:11,746 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 1068779.8025503454
2023-11-26 00:28:11,747 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14320795648
2023-11-26 00:28:11,747 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14320848896
2023-11-26 00:28:11,748 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14320804522.666666
2023-11-26 00:28:11,748 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:11,749 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:11,749 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:11,750 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 19844.357944318133
2023-11-26 00:28:11,750 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.4777181664943697, 'test-accuracy': 0.1, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0004062652587890625, 'send.bytes': 6462612, 'distribute.runtime': 0.03934931755065918, 'recv.bytes': 6462645, 'aggregate.runtime': 0.06087493896484375, 'train.runtime': 2.6226043701171875e-06, 'evaluate.runtime': 6.393301248550415, 'analysis.runtime': 0.0004105567932128906, 'min.cpu_utilization': 70.9, 'max.cpu_utilization': 75.8, 'mean.cpu_utilization': 73.36666666666666, '25th_prcntl.cpu_utilization': 72.075, '50th_prcntl.cpu_utilization': 73.4, '75th_prcntl.cpu_utilization': 74.65, 'std.cpu_utilization': 1.698692307498787, 'min.cpu_memory_rss': 1067028480, 'max.cpu_memory_rss': 1069469696, 'mean.cpu_memory_rss': 1068535125.3333334, '25th_prcntl.cpu_memory_rss': 1067578368.0, '50th_prcntl.cpu_memory_rss': 1069228032.0, '75th_prcntl.cpu_memory_rss': 1069228032.0, 'std.cpu_memory_rss': 1068779.8025503454, 'min.cpu_memory_vsz': 14320795648, 'max.cpu_memory_vsz': 14320848896, 'mean.cpu_memory_vsz': 14320804522.666666, '25th_prcntl.cpu_memory_vsz': 14320795648.0, '50th_prcntl.cpu_memory_vsz': 14320795648.0, '75th_prcntl.cpu_memory_vsz': 14320795648.0, 'std.cpu_memory_vsz': 19844.357944318133, 'save_metrics.runtime': 0.011567354202270508, 'inc_round.runtime': 0.0008976459503173828}
2023-11-26 00:28:11,750 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:28:11,750 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.012755870819091797
2023-11-26 00:28:11,751 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.012755870819091797
2023-11-26 00:28:11,751 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 6
2023-11-26 00:28:11,751 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:28:11,751 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:11,752 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 7
2023-11-26 00:28:11,752 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008237361907958984
2023-11-26 00:28:11,752 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008237361907958984
2023-11-26 00:28:11,752 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:28:11,752 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:28:11,753 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0004115104675292969
2023-11-26 00:28:11,753 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0004115104675292969
2023-11-26 00:28:11,753 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:11,754 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:11,754 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:11,754 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:11,755 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:11,756 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:11,756 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:11,756 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:11,756 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:28:11,756 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:11,756 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:11,757 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: recvd
2023-11-26 00:28:11,757 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:11,757 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:28:11,757 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:11,757 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:28:11,757 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:11,758 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:28:11,758 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958491.7583823, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:11,769 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:28:11,770 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:11,770 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:11,771 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:11,773 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,774 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,775 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,775 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,776 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,778 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,779 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,779 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,779 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,779 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,780 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,780 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,780 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:28:11,780 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:11,782 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,782 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,784 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,784 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,785 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,785 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,785 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,785 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,785 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,786 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,786 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,786 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,786 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:28:11,786 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:11,787 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,787 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,788 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,788 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,788 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,789 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,789 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,789 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,789 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,789 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,789 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,790 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,790 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:28:11,790 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03687262535095215
2023-11-26 00:28:11,790 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03687262535095215
2023-11-26 00:28:11,791 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:11,791 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:11,792 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:11,792 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:11,792 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:11,792 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:11,792 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:11,792 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:11,792 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:11,792 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:28:11,793 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:11,793 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:28:11,793 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:11,793 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:28:11,793 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:11,794 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:11,794 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:28:11,794 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:11,794 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:28:11,794 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:28:11,794 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:28:11,795 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:28:11,796 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:28:11,806 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958491.8065312, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:28:11,807 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958491.8070157, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:28:11,808 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580380's parameters trained with 5285 samples
2023-11-26 00:28:11,824 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:11,824 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 7, trainer version: 5
2023-11-26 00:28:11,824 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:28:11,824 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580380 in dict
2023-11-26 00:28:11,825 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1]}
2023-11-26 00:28:11,825 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:11,825 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:11,830 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 7, trainer ver: 5
agg ver: 7, trainer ver: 5
2023-11-26 00:28:11,831 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:11,831 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:28:11,831 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:28:11,831 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04050731658935547
2023-11-26 00:28:11,831 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04050731658935547
2023-11-26 00:28:11,832 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:11,832 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:11,833 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:11,833 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:11,834 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:11,834 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:11,834 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:11,835 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:11,835 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:11,835 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:11,836 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:11,836 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: recvd
2023-11-26 00:28:11,836 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:28:11,837 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:11,837 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:11,837 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580372'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:28:11,838 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:11,838 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580372': None}
2023-11-26 00:28:11,838 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958491.838786, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:28:11,849 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:28:11,850 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:11,850 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:11,850 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:11,853 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,855 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,857 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,858 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,859 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,860 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,861 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,861 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,865 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,865 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,866 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,866 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,867 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:28:11,868 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:11,870 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,870 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,873 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,874 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,874 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,874 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,875 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,875 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,877 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,877 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,878 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,878 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,878 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:28:11,879 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:11,879 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,880 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,882 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,882 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,883 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,883 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,883 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,883 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,887 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,887 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,887 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,887 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,888 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:28:11,888 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.056296586990356445
2023-11-26 00:28:11,888 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.056296586990356445
2023-11-26 00:28:11,888 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:11,889 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:11,889 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:11,890 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:11,890 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:11,890 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:11,895 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:11,895 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:11,896 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:28:11,896 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:28:11,896 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:11,896 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:28:11,896 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:11,896 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:28:11,896 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:11,897 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-280' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:28:11,897 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:11,897 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:11,899 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958491.8999765, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:11,900 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958491.9001586, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:11,901 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580373's parameters trained with 1384 samples
2023-11-26 00:28:11,909 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:11,909 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 7, trainer version: 6
2023-11-26 00:28:11,910 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:28:11,910 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580373 in dict
2023-11-26 00:28:11,910 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1]}
2023-11-26 00:28:11,910 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:11,910 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:11,914 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 7, trainer ver: 6
agg ver: 7, trainer ver: 6
2023-11-26 00:28:11,914 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:11,915 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:28:11,915 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:28:11,915 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.02683544158935547
2023-11-26 00:28:11,915 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.02683544158935547
2023-11-26 00:28:11,916 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:11,916 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:11,916 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:11,916 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:11,917 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:11,917 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:11,917 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:11,917 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:11,917 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:11,917 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: recvd
2023-11-26 00:28:11,917 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:11,918 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:28:11,918 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:28:11,918 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:11,918 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:11,918 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580373'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:28:11,918 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:11,918 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None}
2023-11-26 00:28:11,918 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958491.9189298, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:11,924 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:28:11,925 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:11,926 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:11,927 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:11,929 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,931 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,932 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,933 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,934 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,935 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,935 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,936 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,938 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,938 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,939 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,939 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,940 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:28:11,940 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:11,942 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,942 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,945 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,946 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,946 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,946 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,947 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,947 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,949 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,949 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,950 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,950 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,950 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:28:11,951 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:11,951 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,952 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,952 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,952 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,952 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,952 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:11,952 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,953 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,953 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:11,953 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,953 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:11,953 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:11,954 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:28:11,954 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03831815719604492
2023-11-26 00:28:11,954 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03831815719604492
2023-11-26 00:28:11,954 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:11,955 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:11,955 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:11,955 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:11,955 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:11,955 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:11,955 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:11,955 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:11,955 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:28:11,955 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:28:11,956 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:11,956 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:28:11,956 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:11,956 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:28:11,956 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:11,956 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-287' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:28:11,957 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:11,957 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:11,959 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958491.9598901, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:11,960 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958491.9600897, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:11,962 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580377's parameters trained with 2122 samples
2023-11-26 00:28:11,971 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:11,971 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 7, trainer version: 6
2023-11-26 00:28:11,971 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:28:11,971 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580377 in dict
2023-11-26 00:28:11,971 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1]}
2023-11-26 00:28:11,972 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:11,972 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:11,976 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 7, trainer ver: 6
agg ver: 7, trainer ver: 6
2023-11-26 00:28:11,976 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:11,977 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:28:11,977 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:28:11,977 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:28:11,977 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:28:11,978 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 7
2023-11-26 00:28:11,978 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 7, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 4, '505f9fc483cf4df68a2409257b5fad7d3c580376': 2, '505f9fc483cf4df68a2409257b5fad7d3c580378': 3, '505f9fc483cf4df68a2409257b5fad7d3c580372': 2, '505f9fc483cf4df68a2409257b5fad7d3c580377': 2, '505f9fc483cf4df68a2409257b5fad7d3c580379': 2, '505f9fc483cf4df68a2409257b5fad7d3c580380': 2, '505f9fc483cf4df68a2409257b5fad7d3c580374': 1, '505f9fc483cf4df68a2409257b5fad7d3c580371': 1, '505f9fc483cf4df68a2409257b5fad7d3c580373': 2}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 4, '505f9fc483cf4df68a2409257b5fad7d3c580376': 2, '505f9fc483cf4df68a2409257b5fad7d3c580378': 3, '505f9fc483cf4df68a2409257b5fad7d3c580372': 2, '505f9fc483cf4df68a2409257b5fad7d3c580377': 2, '505f9fc483cf4df68a2409257b5fad7d3c580379': 2, '505f9fc483cf4df68a2409257b5fad7d3c580380': 2, '505f9fc483cf4df68a2409257b5fad7d3c580374': 1, '505f9fc483cf4df68a2409257b5fad7d3c580371': 1, '505f9fc483cf4df68a2409257b5fad7d3c580373': 2}
2023-11-26 00:28:11,979 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.0952380952380953
2023-11-26 00:28:11,979 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 1, Avg 0.5, P50 0.5, P90 1.0, P99 1.0
2023-11-26 00:28:11,980 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 1, Avg 0.5, P50 0.5, P90 0.9, P99 0.99
2023-11-26 00:28:11,980 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 1.8, P99 1.98
2023-11-26 00:28:11,980 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:11,981 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:11,981 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 1.9, P99 1.99
2023-11-26 00:28:11,982 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:11,984 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:11,985 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:11,986 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:11,987 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03281354904174805
2023-11-26 00:28:11,988 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03281354904174805
2023-11-26 00:28:11,989 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 3.5762786865234375e-06
2023-11-26 00:28:11,989 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 3.5762786865234375e-06
2023-11-26 00:28:12,526 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:12,540 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:12,541 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:12,547 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:12,548 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:12,548 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:12,549 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:12,549 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:12,550 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:12,551 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:12,554 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 0: 1048576
2023-11-26 00:28:12,554 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:12,555 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:12,556 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:12,556 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:12,559 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:12,562 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 1: 1048576
2023-11-26 00:28:12,563 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:12,564 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:12,565 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:12,566 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:12,566 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 2: 57063
2023-11-26 00:28:12,567 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:12,572 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:12,573 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:28:12,983 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:12,987 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:12,988 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:12,991 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:12,991 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:12,992 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:12,993 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:12,993 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:12,994 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:12,995 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:13,000 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:28:13,000 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:13,002 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:13,002 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:13,003 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:13,004 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:13,004 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:13,006 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:13,010 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:28:13,010 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:13,012 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:28:13,013 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:13,018 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:13,018 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:28:13,474 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:13,478 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:13,479 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:13,481 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:13,482 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:13,483 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:13,483 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:13,484 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:13,485 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:13,486 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:13,489 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 0: 1048576
2023-11-26 00:28:13,490 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:13,491 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:13,492 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:13,492 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:13,493 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:13,494 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:13,495 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:13,497 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 1: 1048576
2023-11-26 00:28:13,498 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:13,499 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 2: 57063
2023-11-26 00:28:13,499 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:13,505 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:13,506 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:28:18,306 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.655946747112274
2023-11-26 00:28:18,306 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1002/10000 (0.1002)
2023-11-26 00:28:18,308 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274]
2023-11-26 00:28:18,309 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.318937063217163
2023-11-26 00:28:18,310 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.318937063217163
2023-11-26 00:28:18,310 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:28:18,311 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0005855560302734375
2023-11-26 00:28:18,311 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0005855560302734375
2023-11-26 00:28:18,312 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 67.8
2023-11-26 00:28:18,313 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 79.9
2023-11-26 00:28:18,314 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 71.60000000000001
2023-11-26 00:28:18,315 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 68.9
2023-11-26 00:28:18,316 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 68.9
2023-11-26 00:28:18,317 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 73.4
2023-11-26 00:28:18,318 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 4.073959113337157
2023-11-26 00:28:18,318 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1071620096
2023-11-26 00:28:18,319 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1076080640
2023-11-26 00:28:18,319 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1075411236.5714285
2023-11-26 00:28:18,320 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1075968000.0
2023-11-26 00:28:18,320 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1076080640.0
2023-11-26 00:28:18,321 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1076080640.0
2023-11-26 00:28:18,321 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 1549677.256862294
2023-11-26 00:28:18,322 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14320795648
2023-11-26 00:28:18,322 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14320844800
2023-11-26 00:28:18,323 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14320809691.428572
2023-11-26 00:28:18,323 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:18,324 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:18,325 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14320820224.0
2023-11-26 00:28:18,325 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 22204.610221799456
2023-11-26 00:28:18,326 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.655946747112274, 'test-accuracy': 0.1002, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0004115104675292969, 'send.bytes': 6462612, 'distribute.runtime': 0.03831815719604492, 'recv.bytes': 6462645, 'aggregate.runtime': 0.03281354904174805, 'train.runtime': 3.5762786865234375e-06, 'evaluate.runtime': 6.318937063217163, 'analysis.runtime': 0.0005855560302734375, 'min.cpu_utilization': 67.8, 'max.cpu_utilization': 79.9, 'mean.cpu_utilization': 71.60000000000001, '25th_prcntl.cpu_utilization': 68.9, '50th_prcntl.cpu_utilization': 68.9, '75th_prcntl.cpu_utilization': 73.4, 'std.cpu_utilization': 4.073959113337157, 'min.cpu_memory_rss': 1071620096, 'max.cpu_memory_rss': 1076080640, 'mean.cpu_memory_rss': 1075411236.5714285, '25th_prcntl.cpu_memory_rss': 1075968000.0, '50th_prcntl.cpu_memory_rss': 1076080640.0, '75th_prcntl.cpu_memory_rss': 1076080640.0, 'std.cpu_memory_rss': 1549677.256862294, 'min.cpu_memory_vsz': 14320795648, 'max.cpu_memory_vsz': 14320844800, 'mean.cpu_memory_vsz': 14320809691.428572, '25th_prcntl.cpu_memory_vsz': 14320795648.0, '50th_prcntl.cpu_memory_vsz': 14320795648.0, '75th_prcntl.cpu_memory_vsz': 14320820224.0, 'std.cpu_memory_vsz': 22204.610221799456, 'save_metrics.runtime': 0.012755870819091797, 'inc_round.runtime': 0.0008237361907958984}
2023-11-26 00:28:18,326 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:28:18,326 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.014322280883789062
2023-11-26 00:28:18,327 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.014322280883789062
2023-11-26 00:28:18,327 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 7
2023-11-26 00:28:18,327 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:28:18,327 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:18,328 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 8
2023-11-26 00:28:18,328 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008747577667236328
2023-11-26 00:28:18,328 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008747577667236328
2023-11-26 00:28:18,328 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:28:18,329 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:28:18,329 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0004634857177734375
2023-11-26 00:28:18,329 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0004634857177734375
2023-11-26 00:28:18,329 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:18,330 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:18,331 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:18,331 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:18,332 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:18,333 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:18,333 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:18,333 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:18,334 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:18,334 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:18,334 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: recvd
2023-11-26 00:28:18,334 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:28:18,335 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:28:18,335 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:18,335 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:18,336 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:18,336 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:18,336 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:18,337 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958498.3371797, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:18,349 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:28:18,349 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:18,350 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:18,350 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:18,354 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:18,354 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,356 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:18,356 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,357 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,359 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:18,359 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,360 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,360 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:18,360 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,360 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,361 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,361 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:28:18,361 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:18,363 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:18,364 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,365 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:18,365 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,366 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,366 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:18,366 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,366 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,367 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:18,367 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,367 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,367 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,367 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:28:18,367 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:18,368 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:18,368 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,368 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:18,368 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,369 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,370 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:18,370 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,370 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,371 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:18,371 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,371 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,371 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,371 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:28:18,372 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04234766960144043
2023-11-26 00:28:18,372 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04234766960144043
2023-11-26 00:28:18,373 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:18,374 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:18,374 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:18,374 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:18,374 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:18,375 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:18,375 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:18,375 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:28:18,375 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:28:18,375 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:18,375 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:18,376 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:18,376 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:18,376 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:18,376 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:18,377 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:18,377 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:18,377 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:28:18,378 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:18,378 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:18,378 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:18,379 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:28:18,380 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:28:18,387 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958498.3871257, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:28:18,387 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958498.3874977, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:28:18,389 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580379's parameters trained with 7607 samples
2023-11-26 00:28:18,401 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:18,401 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 8, trainer version: 6
2023-11-26 00:28:18,402 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:28:18,402 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580379 in dict
2023-11-26 00:28:18,402 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1]}
2023-11-26 00:28:18,402 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:18,402 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:18,408 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 8, trainer ver: 6
agg ver: 8, trainer ver: 6
2023-11-26 00:28:18,408 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:18,409 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:28:18,409 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:28:18,409 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.036104679107666016
2023-11-26 00:28:18,409 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.036104679107666016
2023-11-26 00:28:18,410 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:18,410 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:18,410 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:18,411 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:18,411 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:18,411 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:18,412 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:18,412 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:18,412 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:18,412 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:18,412 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:28:18,413 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: recvd
2023-11-26 00:28:18,413 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:18,413 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:18,413 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:18,413 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580371'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:18,413 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:18,414 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None}
2023-11-26 00:28:18,414 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958498.4143791, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:28:18,421 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:28:18,421 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:18,422 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:18,422 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:18,426 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:18,426 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,427 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:18,428 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,428 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,431 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:18,431 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,431 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,431 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:18,432 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,432 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,432 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,432 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:28:18,432 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:18,434 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:18,434 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,437 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:18,437 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,437 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,437 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:18,437 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,438 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,438 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:18,438 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,438 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,438 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,438 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:28:18,438 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:18,439 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:18,439 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,439 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:18,439 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,439 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,441 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:18,442 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,442 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,442 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:18,442 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,442 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,442 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,442 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:28:18,443 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03319525718688965
2023-11-26 00:28:18,443 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03319525718688965
2023-11-26 00:28:18,444 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:18,444 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:18,444 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:18,444 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:18,445 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:18,445 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:18,445 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:18,445 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:28:18,445 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:28:18,445 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:18,445 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:18,445 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:18,445 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:18,446 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:18,446 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:18,446 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-314' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:28:18,447 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:18,447 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:18,452 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958498.452289, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:18,452 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958498.4525826, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:18,454 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580373's parameters trained with 1384 samples
2023-11-26 00:28:18,465 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:18,465 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 8, trainer version: 7
2023-11-26 00:28:18,466 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:28:18,466 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580373 in dict
2023-11-26 00:28:18,466 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1]}
2023-11-26 00:28:18,467 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:18,467 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:18,493 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 8, trainer ver: 7
agg ver: 8, trainer ver: 7
2023-11-26 00:28:18,494 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:18,495 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:28:18,495 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:28:18,495 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.05179738998413086
2023-11-26 00:28:18,496 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.05179738998413086
2023-11-26 00:28:18,496 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:18,497 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:18,497 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:18,497 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:18,498 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:18,498 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:18,498 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:18,498 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:18,499 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:18,499 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: recvd
2023-11-26 00:28:18,499 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:28:18,499 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:28:18,499 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:18,499 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:18,499 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:18,499 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580377'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:18,499 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:18,499 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None}
2023-11-26 00:28:18,500 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958498.500397, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:18,506 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:28:18,506 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:18,506 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:18,507 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:18,509 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:18,510 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,511 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:18,511 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,512 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,513 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:18,513 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,514 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,514 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:18,515 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,515 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,516 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,517 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:28:18,518 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:18,520 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:18,521 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,522 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:18,522 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,522 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,522 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:18,523 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,523 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,523 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:18,523 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,523 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,524 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,524 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:28:18,524 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:18,524 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:18,524 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,525 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:18,525 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,525 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,525 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:18,525 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,525 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,526 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:18,526 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,526 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:18,526 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:18,526 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:28:18,527 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.030303478240966797
2023-11-26 00:28:18,527 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.030303478240966797
2023-11-26 00:28:18,527 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:18,527 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:18,527 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:18,528 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:18,528 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:18,528 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:18,528 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:28:18,528 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:18,528 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:28:18,528 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:18,528 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:18,528 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:18,529 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:18,529 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:18,529 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:18,529 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-321' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:28:18,529 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:18,530 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:18,532 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958498.5323656, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:18,532 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958498.532556, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:18,533 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:28:18,542 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:18,542 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 8, trainer version: 7
2023-11-26 00:28:18,542 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:28:18,542 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:28:18,542 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1]}
2023-11-26 00:28:18,543 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:18,543 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:18,547 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 8, trainer ver: 7
agg ver: 8, trainer ver: 7
2023-11-26 00:28:18,548 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:18,548 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:28:18,548 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:28:18,548 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:28:18,549 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:28:18,549 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 8
2023-11-26 00:28:18,550 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 8, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 5, '505f9fc483cf4df68a2409257b5fad7d3c580376': 2, '505f9fc483cf4df68a2409257b5fad7d3c580378': 3, '505f9fc483cf4df68a2409257b5fad7d3c580372': 2, '505f9fc483cf4df68a2409257b5fad7d3c580377': 2, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 2, '505f9fc483cf4df68a2409257b5fad7d3c580374': 1, '505f9fc483cf4df68a2409257b5fad7d3c580371': 1, '505f9fc483cf4df68a2409257b5fad7d3c580373': 3}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 5, '505f9fc483cf4df68a2409257b5fad7d3c580376': 2, '505f9fc483cf4df68a2409257b5fad7d3c580378': 3, '505f9fc483cf4df68a2409257b5fad7d3c580372': 2, '505f9fc483cf4df68a2409257b5fad7d3c580377': 2, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 2, '505f9fc483cf4df68a2409257b5fad7d3c580374': 1, '505f9fc483cf4df68a2409257b5fad7d3c580371': 1, '505f9fc483cf4df68a2409257b5fad7d3c580373': 3}
2023-11-26 00:28:18,550 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.125
2023-11-26 00:28:18,550 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 1, Avg 0.6, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:18,551 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 1, Avg 0.5, P50 0.5, P90 0.9, P99 0.99
2023-11-26 00:28:18,551 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 1.8, P99 1.98
2023-11-26 00:28:18,552 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:18,552 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:18,553 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:18,553 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:18,553 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:18,554 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:18,554 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:18,554 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.027414321899414062
2023-11-26 00:28:18,555 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.027414321899414062
2023-11-26 00:28:18,555 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.1457672119140625e-06
2023-11-26 00:28:18,555 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.1457672119140625e-06
2023-11-26 00:28:19,294 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:19,310 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:19,311 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:19,314 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:19,314 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:19,315 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:19,317 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:19,318 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:19,319 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:19,323 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:19,327 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 0: 1048576
2023-11-26 00:28:19,329 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:19,330 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:19,330 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:19,331 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:19,335 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:19,337 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 1: 1048576
2023-11-26 00:28:19,339 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:19,340 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:19,340 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:19,342 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:19,342 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 2: 57063
2023-11-26 00:28:19,343 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:19,348 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:19,350 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:28:19,781 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:19,784 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:19,785 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:19,788 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:19,789 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:19,789 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:19,790 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:19,791 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:19,792 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:19,793 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:19,797 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:28:19,798 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:19,799 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:19,800 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:19,801 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:19,802 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:19,804 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:28:19,805 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:19,806 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:19,806 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:19,807 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:19,808 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:28:19,808 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:19,818 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:19,819 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:28:20,875 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:20,884 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:20,885 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:20,887 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:20,888 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:20,888 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:20,890 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:20,890 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:20,891 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:20,894 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:20,896 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 0: 1048576
2023-11-26 00:28:20,897 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:20,898 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:20,898 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:20,899 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:20,899 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:20,899 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:20,901 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:20,904 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 1: 1048576
2023-11-26 00:28:20,904 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:20,905 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 2: 57063
2023-11-26 00:28:20,906 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:20,910 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:20,910 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:28:25,034 | main.py:161 | INFO | MainThread | evaluate | Test loss: 3.0670157920360563
2023-11-26 00:28:25,037 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1000/10000 (0.1)
2023-11-26 00:28:25,039 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563]
2023-11-26 00:28:25,039 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.484344959259033
2023-11-26 00:28:25,040 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.484344959259033
2023-11-26 00:28:25,041 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:28:25,041 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004584789276123047
2023-11-26 00:28:25,041 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004584789276123047
2023-11-26 00:28:25,042 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 68.9
2023-11-26 00:28:25,043 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 81.8
2023-11-26 00:28:25,043 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 75.33333333333333
2023-11-26 00:28:25,045 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 74.05
2023-11-26 00:28:25,045 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 75.3
2023-11-26 00:28:25,046 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 76.625
2023-11-26 00:28:25,047 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 3.840862171729442
2023-11-26 00:28:25,047 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1076080640
2023-11-26 00:28:25,048 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1080328192
2023-11-26 00:28:25,048 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1079264597.3333333
2023-11-26 00:28:25,049 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1078729728.0
2023-11-26 00:28:25,049 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1080326144.0
2023-11-26 00:28:25,050 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1080328192.0
2023-11-26 00:28:25,050 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 1622286.0560820408
2023-11-26 00:28:25,050 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14320795648
2023-11-26 00:28:25,051 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14320844800
2023-11-26 00:28:25,051 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14320812032.0
2023-11-26 00:28:25,051 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:25,052 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:25,052 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14320832512.0
2023-11-26 00:28:25,053 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 23170.47500592079
2023-11-26 00:28:25,053 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 3.0670157920360563, 'test-accuracy': 0.1, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0004634857177734375, 'send.bytes': 6462612, 'distribute.runtime': 0.030303478240966797, 'recv.bytes': 6462645, 'aggregate.runtime': 0.027414321899414062, 'train.runtime': 2.1457672119140625e-06, 'evaluate.runtime': 6.484344959259033, 'analysis.runtime': 0.0004584789276123047, 'min.cpu_utilization': 68.9, 'max.cpu_utilization': 81.8, 'mean.cpu_utilization': 75.33333333333333, '25th_prcntl.cpu_utilization': 74.05, '50th_prcntl.cpu_utilization': 75.3, '75th_prcntl.cpu_utilization': 76.625, 'std.cpu_utilization': 3.840862171729442, 'min.cpu_memory_rss': 1076080640, 'max.cpu_memory_rss': 1080328192, 'mean.cpu_memory_rss': 1079264597.3333333, '25th_prcntl.cpu_memory_rss': 1078729728.0, '50th_prcntl.cpu_memory_rss': 1080326144.0, '75th_prcntl.cpu_memory_rss': 1080328192.0, 'std.cpu_memory_rss': 1622286.0560820408, 'min.cpu_memory_vsz': 14320795648, 'max.cpu_memory_vsz': 14320844800, 'mean.cpu_memory_vsz': 14320812032.0, '25th_prcntl.cpu_memory_vsz': 14320795648.0, '50th_prcntl.cpu_memory_vsz': 14320795648.0, '75th_prcntl.cpu_memory_vsz': 14320832512.0, 'std.cpu_memory_vsz': 23170.47500592079, 'save_metrics.runtime': 0.014322280883789062, 'inc_round.runtime': 0.0008747577667236328}
2023-11-26 00:28:25,053 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:28:25,054 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011853218078613281
2023-11-26 00:28:25,054 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011853218078613281
2023-11-26 00:28:25,054 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 8
2023-11-26 00:28:25,054 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:28:25,055 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:25,055 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 9
2023-11-26 00:28:25,055 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0009481906890869141
2023-11-26 00:28:25,055 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0009481906890869141
2023-11-26 00:28:25,056 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:28:25,056 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:28:25,056 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0003993511199951172
2023-11-26 00:28:25,056 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0003993511199951172
2023-11-26 00:28:25,056 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:25,058 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:25,059 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:25,060 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:25,061 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:25,061 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:25,062 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:25,062 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:25,063 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:25,063 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:28:25,064 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:25,064 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:28:25,065 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:28:25,065 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:25,066 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:25,066 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580373'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:25,067 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:25,067 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None}
2023-11-26 00:28:25,068 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958505.0689151, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:25,083 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:28:25,083 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:25,084 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:25,085 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:25,090 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,091 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,093 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,094 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,094 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,097 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,097 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,097 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,098 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,098 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,098 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,099 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,099 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:28:25,100 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:25,101 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,102 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,103 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,103 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,104 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,104 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,104 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,104 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,105 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,105 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,105 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,106 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,106 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:28:25,106 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:25,107 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,107 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,107 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,108 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,108 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,108 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,108 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,109 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,109 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,109 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,109 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,109 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,110 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:28:25,110 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05372786521911621
2023-11-26 00:28:25,111 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05372786521911621
2023-11-26 00:28:25,111 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:25,112 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:25,112 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:25,112 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:25,112 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:25,112 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:25,113 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:25,113 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:28:25,113 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:25,113 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:28:25,113 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:25,113 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:25,113 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:25,114 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:25,114 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:25,115 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:28:25,115 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:25,115 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:25,115 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:25,115 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:25,115 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:25,117 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:28:25,118 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:28:25,127 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958505.1274617, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:28:25,128 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958505.1281402, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:28:25,130 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580372's parameters trained with 5929 samples
2023-11-26 00:28:25,145 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:25,145 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 9, trainer version: 7
2023-11-26 00:28:25,145 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:28:25,145 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580372 in dict
2023-11-26 00:28:25,145 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1]}
2023-11-26 00:28:25,146 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:25,146 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:25,151 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 9, trainer ver: 7
agg ver: 9, trainer ver: 7
2023-11-26 00:28:25,152 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:25,152 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:28:25,152 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:28:25,152 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04125714302062988
2023-11-26 00:28:25,152 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04125714302062988
2023-11-26 00:28:25,153 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:25,153 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:25,154 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:25,154 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:25,155 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:25,155 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:25,156 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:25,156 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:25,157 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:25,157 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:25,157 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:28:25,158 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:25,158 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: recvd
2023-11-26 00:28:25,158 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:25,159 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:25,159 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580380'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:25,160 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:25,160 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580380': None}
2023-11-26 00:28:25,161 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958505.161149, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:28:25,169 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:28:25,170 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:25,170 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:25,171 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:25,174 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,174 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,175 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,176 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,176 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,179 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,179 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,179 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,179 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,180 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,180 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,180 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,180 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:28:25,181 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:25,182 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,183 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,184 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,184 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,184 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,184 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,184 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,185 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,185 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,185 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,185 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,185 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,185 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:28:25,186 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:25,186 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,186 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,186 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,186 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,186 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,187 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,187 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,188 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,188 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,188 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,188 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,188 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,189 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:28:25,189 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03626418113708496
2023-11-26 00:28:25,189 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03626418113708496
2023-11-26 00:28:25,190 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:25,190 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:25,190 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:25,190 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:25,191 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:25,191 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:25,191 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:25,191 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:28:25,191 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:25,191 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:25,193 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:25,194 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:25,194 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:25,195 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:25,196 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:25,196 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-348' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:28:25,197 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:25,198 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:25,204 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958505.2047253, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:25,205 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958505.2050707, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:25,206 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580377's parameters trained with 2122 samples
2023-11-26 00:28:25,215 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:25,216 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 9, trainer version: 8
2023-11-26 00:28:25,216 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:28:25,216 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580377 in dict
2023-11-26 00:28:25,216 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1]}
2023-11-26 00:28:25,216 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:25,216 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:25,221 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 9, trainer ver: 8
agg ver: 9, trainer ver: 8
2023-11-26 00:28:25,221 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:25,222 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:28:25,222 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:28:25,222 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.0325465202331543
2023-11-26 00:28:25,222 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.0325465202331543
2023-11-26 00:28:25,222 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:25,223 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:25,223 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:25,223 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:25,224 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:25,224 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:25,224 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:25,224 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:25,224 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:25,224 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:25,224 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:28:25,225 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: recvd
2023-11-26 00:28:25,225 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:25,225 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:25,225 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:25,225 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580377'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:25,225 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:25,225 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None}
2023-11-26 00:28:25,225 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958505.2258375, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:25,231 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:28:25,231 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:25,231 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:25,232 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:25,233 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,233 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,234 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,234 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,234 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,235 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,236 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,236 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,236 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,236 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,236 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,236 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,236 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:28:25,237 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:25,238 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,239 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,240 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,240 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,240 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,251 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,251 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,252 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,252 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,252 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,252 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,252 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,252 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:28:25,252 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:25,253 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,253 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,253 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,253 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,253 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,253 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,253 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,253 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,254 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,254 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,254 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:25,254 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:25,254 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:28:25,254 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03196239471435547
2023-11-26 00:28:25,255 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03196239471435547
2023-11-26 00:28:25,255 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:25,256 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:25,256 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:25,256 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:25,257 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:25,257 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:25,257 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:25,257 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:28:25,257 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:25,258 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:25,258 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:25,258 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:25,258 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:25,258 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:25,259 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:25,260 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-355' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:28:25,260 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:25,261 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:25,271 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958505.2713113, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:25,272 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958505.2726018, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:25,275 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:28:25,290 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:25,303 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 9, trainer version: 8
2023-11-26 00:28:25,304 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:28:25,304 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:28:25,320 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1]}
2023-11-26 00:28:25,320 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:25,320 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:25,326 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 9, trainer ver: 8
agg ver: 9, trainer ver: 8
2023-11-26 00:28:25,327 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:25,328 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:28:25,329 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:28:25,330 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:28:25,330 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:28:25,332 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 9
2023-11-26 00:28:25,348 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 9, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 5, '505f9fc483cf4df68a2409257b5fad7d3c580376': 3, '505f9fc483cf4df68a2409257b5fad7d3c580378': 3, '505f9fc483cf4df68a2409257b5fad7d3c580372': 3, '505f9fc483cf4df68a2409257b5fad7d3c580377': 3, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 2, '505f9fc483cf4df68a2409257b5fad7d3c580374': 1, '505f9fc483cf4df68a2409257b5fad7d3c580371': 1, '505f9fc483cf4df68a2409257b5fad7d3c580373': 3}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 5, '505f9fc483cf4df68a2409257b5fad7d3c580376': 3, '505f9fc483cf4df68a2409257b5fad7d3c580378': 3, '505f9fc483cf4df68a2409257b5fad7d3c580372': 3, '505f9fc483cf4df68a2409257b5fad7d3c580377': 3, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 2, '505f9fc483cf4df68a2409257b5fad7d3c580374': 1, '505f9fc483cf4df68a2409257b5fad7d3c580371': 1, '505f9fc483cf4df68a2409257b5fad7d3c580373': 3}
2023-11-26 00:28:25,348 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.1481481481481481
2023-11-26 00:28:25,350 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 1, Avg 0.6, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:25,351 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 1, Avg 0.6666666666666666, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:25,352 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 1.8, P99 1.98
2023-11-26 00:28:25,353 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 1.8, P99 1.98
2023-11-26 00:28:25,354 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:25,355 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:25,356 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:25,356 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:25,357 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:25,357 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:25,357 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.10232043266296387
2023-11-26 00:28:25,358 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.10232043266296387
2023-11-26 00:28:25,358 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.6226043701171875e-06
2023-11-26 00:28:25,358 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.6226043701171875e-06
2023-11-26 00:28:25,673 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:25,687 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,688 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:25,694 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:25,694 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,695 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:25,695 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,696 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:25,696 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:25,698 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:25,702 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 0: 1048576
2023-11-26 00:28:25,702 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:25,703 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:25,703 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,703 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:25,705 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:25,708 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 1: 1048576
2023-11-26 00:28:25,709 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:25,710 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:25,710 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:25,710 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:25,711 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 2: 57063
2023-11-26 00:28:25,711 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:25,720 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:25,720 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:28:26,001 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:26,008 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:26,009 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:26,014 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:26,015 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:26,016 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:26,017 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:26,018 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:26,018 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:26,020 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:26,024 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 0: 1048576
2023-11-26 00:28:26,025 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:26,028 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:26,029 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:26,029 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:26,030 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:28:26,030 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:26,033 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:28:26,036 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 1: 1048576
2023-11-26 00:28:26,036 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:26,037 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 2: 57061
2023-11-26 00:28:26,038 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:26,048 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154213
2023-11-26 00:28:26,049 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308428
2023-11-26 00:28:26,692 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:26,700 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:26,701 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:26,704 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:26,705 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:26,705 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:26,706 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:26,706 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:26,707 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:26,708 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:26,713 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 0: 1048576
2023-11-26 00:28:26,714 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:26,715 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:26,716 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:26,716 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:26,717 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:26,718 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:26,719 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:26,723 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 1: 1048576
2023-11-26 00:28:26,724 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:26,725 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 2: 57063
2023-11-26 00:28:26,726 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:26,732 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:26,733 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462643
2023-11-26 00:28:31,570 | main.py:161 | INFO | MainThread | evaluate | Test loss: 4.126767908215522
2023-11-26 00:28:31,573 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1000/10000 (0.1)
2023-11-26 00:28:31,575 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522]
2023-11-26 00:28:31,576 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.217549800872803
2023-11-26 00:28:31,576 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.217549800872803
2023-11-26 00:28:31,577 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:28:31,578 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0005292892456054688
2023-11-26 00:28:31,578 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0005292892456054688
2023-11-26 00:28:31,579 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 68.9
2023-11-26 00:28:31,579 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 78.7
2023-11-26 00:28:31,580 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 73.07142857142857
2023-11-26 00:28:31,581 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 71.25
2023-11-26 00:28:31,582 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 72.8
2023-11-26 00:28:31,583 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 74.3
2023-11-26 00:28:31,584 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 2.9207211857515527
2023-11-26 00:28:31,584 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1080438784
2023-11-26 00:28:31,584 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1082638336
2023-11-26 00:28:31,585 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1082008722.2857144
2023-11-26 00:28:31,586 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1081538560.0
2023-11-26 00:28:31,586 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1082634240.0
2023-11-26 00:28:31,587 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1082636288.0
2023-11-26 00:28:31,587 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 986475.8893732657
2023-11-26 00:28:31,588 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14320738304
2023-11-26 00:28:31,588 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14320848896
2023-11-26 00:28:31,589 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14320802084.571428
2023-11-26 00:28:31,589 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:31,590 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:31,590 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14320820224.0
2023-11-26 00:28:31,591 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 34329.48915960131
2023-11-26 00:28:31,591 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 4.126767908215522, 'test-accuracy': 0.1, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0003993511199951172, 'send.bytes': 6462612, 'distribute.runtime': 0.03196239471435547, 'recv.bytes': 6462643, 'aggregate.runtime': 0.10232043266296387, 'train.runtime': 2.6226043701171875e-06, 'evaluate.runtime': 6.217549800872803, 'analysis.runtime': 0.0005292892456054688, 'min.cpu_utilization': 68.9, 'max.cpu_utilization': 78.7, 'mean.cpu_utilization': 73.07142857142857, '25th_prcntl.cpu_utilization': 71.25, '50th_prcntl.cpu_utilization': 72.8, '75th_prcntl.cpu_utilization': 74.3, 'std.cpu_utilization': 2.9207211857515527, 'min.cpu_memory_rss': 1080438784, 'max.cpu_memory_rss': 1082638336, 'mean.cpu_memory_rss': 1082008722.2857144, '25th_prcntl.cpu_memory_rss': 1081538560.0, '50th_prcntl.cpu_memory_rss': 1082634240.0, '75th_prcntl.cpu_memory_rss': 1082636288.0, 'std.cpu_memory_rss': 986475.8893732657, 'min.cpu_memory_vsz': 14320738304, 'max.cpu_memory_vsz': 14320848896, 'mean.cpu_memory_vsz': 14320802084.571428, '25th_prcntl.cpu_memory_vsz': 14320795648.0, '50th_prcntl.cpu_memory_vsz': 14320795648.0, '75th_prcntl.cpu_memory_vsz': 14320820224.0, 'std.cpu_memory_vsz': 34329.48915960131, 'save_metrics.runtime': 0.011853218078613281, 'inc_round.runtime': 0.0009481906890869141}
2023-11-26 00:28:31,591 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:28:31,592 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.013303995132446289
2023-11-26 00:28:31,592 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.013303995132446289
2023-11-26 00:28:31,592 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 9
2023-11-26 00:28:31,592 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:28:31,593 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:31,593 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 10
2023-11-26 00:28:31,593 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0009636878967285156
2023-11-26 00:28:31,593 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0009636878967285156
2023-11-26 00:28:31,594 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:28:31,594 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:28:31,594 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0004551410675048828
2023-11-26 00:28:31,594 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0004551410675048828
2023-11-26 00:28:31,594 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:31,596 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:31,597 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:31,597 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:31,598 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:31,599 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:31,599 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:31,600 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:31,600 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:31,600 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:31,601 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:28:31,601 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:31,601 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:31,602 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:28:31,602 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:31,602 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580378'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380'}
2023-11-26 00:28:31,603 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380'}}
2023-11-26 00:28:31,603 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None}
2023-11-26 00:28:31,604 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958511.60404, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:28:31,618 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:28:31,619 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:31,619 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:31,621 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:31,625 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:31,625 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,627 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:31,628 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,628 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,631 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:31,631 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,631 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,631 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:31,631 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,632 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,632 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,632 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:28:31,632 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:31,635 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:31,635 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,636 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:31,636 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,636 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,636 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:31,637 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,637 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,637 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:31,637 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,637 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,637 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,637 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:28:31,638 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:31,638 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:31,638 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,638 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:31,638 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,639 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,640 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:31,640 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,640 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,641 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:31,641 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,641 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,641 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,641 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:28:31,642 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04706883430480957
2023-11-26 00:28:31,642 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04706883430480957
2023-11-26 00:28:31,643 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:31,643 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:31,643 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:31,644 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:31,644 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:31,644 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380'}}
2023-11-26 00:28:31,644 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:31,644 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:28:31,644 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:31,644 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:31,644 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:31,644 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380'}
2023-11-26 00:28:31,645 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380'}}
2023-11-26 00:28:31,645 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None}
2023-11-26 00:28:31,645 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:31,646 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:31,646 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:31,646 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:31,646 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:31,646 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:28:31,647 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:31,648 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:28:31,648 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:28:31,662 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958511.6621537, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:28:31,662 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958511.6625705, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:28:31,664 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580371's parameters trained with 8920 samples
2023-11-26 00:28:31,679 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:31,679 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 10, trainer version: 8
2023-11-26 00:28:31,679 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:28:31,679 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580371 in dict
2023-11-26 00:28:31,679 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1]}
2023-11-26 00:28:31,679 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:31,680 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:31,685 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 10, trainer ver: 8
agg ver: 10, trainer ver: 8
2023-11-26 00:28:31,685 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:31,686 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:28:31,686 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:28:31,686 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.0436856746673584
2023-11-26 00:28:31,686 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.0436856746673584
2023-11-26 00:28:31,687 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:31,687 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:31,688 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:31,688 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:31,689 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:31,689 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:31,689 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:31,690 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:31,690 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380'}}
2023-11-26 00:28:31,690 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:31,691 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: recvd
2023-11-26 00:28:31,691 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:31,692 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:31,692 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:31,692 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:31,692 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580374'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380'}
2023-11-26 00:28:31,693 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380'}}
2023-11-26 00:28:31,693 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580374': None}
2023-11-26 00:28:31,694 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958511.693999, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:28:31,702 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:28:31,703 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:31,703 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:31,704 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:31,706 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:31,706 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,708 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:31,708 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,708 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,711 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:31,711 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,712 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,712 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:31,712 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,712 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,713 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,713 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:28:31,713 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:31,715 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:31,715 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,716 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:31,717 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,717 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,717 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:31,717 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,717 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,718 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:31,718 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,718 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,718 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,718 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:28:31,719 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:31,719 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:31,719 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,719 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:31,720 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,720 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,720 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:31,720 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,721 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,721 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:31,721 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,721 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,721 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,722 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:28:31,722 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03542447090148926
2023-11-26 00:28:31,722 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03542447090148926
2023-11-26 00:28:31,722 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:31,723 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:31,723 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:31,723 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:31,723 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:31,724 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380'}}
2023-11-26 00:28:31,724 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:31,724 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:31,724 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:31,724 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:31,724 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:31,725 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380'}
2023-11-26 00:28:31,725 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380'}}
2023-11-26 00:28:31,725 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None}
2023-11-26 00:28:31,725 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:31,726 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-382' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:28:31,729 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:31,731 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:31,738 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958511.738505, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:31,738 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958511.738802, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:31,740 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580373's parameters trained with 1384 samples
2023-11-26 00:28:31,763 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:31,763 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 10, trainer version: 9
2023-11-26 00:28:31,763 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:28:31,763 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580373 in dict
2023-11-26 00:28:31,763 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1]}
2023-11-26 00:28:31,764 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:31,764 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:31,768 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 10, trainer ver: 9
agg ver: 10, trainer ver: 9
2023-11-26 00:28:31,769 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:31,769 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:28:31,769 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:28:31,769 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.046844482421875
2023-11-26 00:28:31,769 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.046844482421875
2023-11-26 00:28:31,770 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:31,770 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:31,770 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:31,771 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:31,771 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:31,772 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:31,772 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:31,772 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:31,772 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380'}}
2023-11-26 00:28:31,773 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: recvd
2023-11-26 00:28:31,773 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:31,773 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:31,773 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:31,773 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:31,774 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:31,774 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:31,774 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:31,774 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:31,775 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958511.7750723, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:31,783 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:28:31,784 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:31,785 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:31,786 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:31,788 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:31,790 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,794 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:31,795 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,795 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,797 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:31,797 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,799 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,802 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:31,802 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,803 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,803 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,804 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:28:31,804 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:31,806 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:31,807 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,809 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:31,809 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,810 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,810 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:31,810 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,811 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,812 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:31,812 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,813 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,813 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,813 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:28:31,814 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:31,814 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:31,814 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,815 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:31,815 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,815 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,816 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:31,816 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,816 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,817 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:31,817 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,817 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:31,817 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:31,818 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:28:31,818 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.0484929084777832
2023-11-26 00:28:31,818 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.0484929084777832
2023-11-26 00:28:31,819 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:31,820 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:31,820 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:31,821 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:31,821 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:31,822 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:31,823 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:31,823 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:31,823 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:31,824 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:31,824 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:31,824 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:31,824 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:31,824 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:31,824 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:31,825 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-389' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:28:31,826 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:31,826 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:31,831 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958511.8313947, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:31,831 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958511.8316655, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:31,833 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580377's parameters trained with 2122 samples
2023-11-26 00:28:31,841 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:31,841 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 10, trainer version: 9
2023-11-26 00:28:31,842 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:28:31,842 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580377 in dict
2023-11-26 00:28:31,842 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1]}
2023-11-26 00:28:31,842 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:31,842 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:31,847 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 10, trainer ver: 9
agg ver: 10, trainer ver: 9
2023-11-26 00:28:31,847 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:31,847 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:28:31,848 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:28:31,848 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:28:31,848 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:28:31,849 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 10
2023-11-26 00:28:31,849 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 10, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 5, '505f9fc483cf4df68a2409257b5fad7d3c580376': 3, '505f9fc483cf4df68a2409257b5fad7d3c580378': 3, '505f9fc483cf4df68a2409257b5fad7d3c580372': 3, '505f9fc483cf4df68a2409257b5fad7d3c580377': 4, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 2, '505f9fc483cf4df68a2409257b5fad7d3c580374': 1, '505f9fc483cf4df68a2409257b5fad7d3c580371': 2, '505f9fc483cf4df68a2409257b5fad7d3c580373': 4}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 5, '505f9fc483cf4df68a2409257b5fad7d3c580376': 3, '505f9fc483cf4df68a2409257b5fad7d3c580378': 3, '505f9fc483cf4df68a2409257b5fad7d3c580372': 3, '505f9fc483cf4df68a2409257b5fad7d3c580377': 4, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 2, '505f9fc483cf4df68a2409257b5fad7d3c580374': 1, '505f9fc483cf4df68a2409257b5fad7d3c580371': 2, '505f9fc483cf4df68a2409257b5fad7d3c580373': 4}
2023-11-26 00:28:31,849 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.1666666666666667
2023-11-26 00:28:31,850 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 1, Avg 0.6, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:31,851 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 1, Avg 0.6666666666666666, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:31,851 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 1.8, P99 1.98
2023-11-26 00:28:31,852 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 1.8, P99 1.98
2023-11-26 00:28:31,852 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:31,853 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:31,854 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:31,854 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:31,855 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:31,856 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:31,856 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.037209272384643555
2023-11-26 00:28:31,856 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.037209272384643555
2023-11-26 00:28:31,856 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 3.0994415283203125e-06
2023-11-26 00:28:31,856 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 3.0994415283203125e-06
2023-11-26 00:28:33,016 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:33,034 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:33,035 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:33,040 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:33,040 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:33,041 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:33,041 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:33,042 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:33,043 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:33,044 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:33,048 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 0: 1048576
2023-11-26 00:28:33,049 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:33,050 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:33,050 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:33,051 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:33,052 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:33,056 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 1: 1048576
2023-11-26 00:28:33,056 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:33,057 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:33,058 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:33,058 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:33,059 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 2: 57063
2023-11-26 00:28:33,059 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:33,069 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:33,070 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:28:33,168 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:33,171 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:33,172 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:33,175 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:33,176 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:33,176 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:33,177 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:33,178 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:33,179 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:33,180 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:33,184 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:28:33,185 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:33,186 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:33,187 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:33,188 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:33,189 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:33,189 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:33,193 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:33,197 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:28:33,198 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:33,199 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:28:33,200 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:33,208 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:33,209 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:28:33,317 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:33,320 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:33,321 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:33,324 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:33,325 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:33,326 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:33,327 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:33,327 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:33,328 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:33,329 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:33,334 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 0: 1048576
2023-11-26 00:28:33,334 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:33,336 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:33,336 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:33,337 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:33,337 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:33,338 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:33,339 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:33,343 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 1: 1048576
2023-11-26 00:28:33,344 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:33,345 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 2: 57063
2023-11-26 00:28:33,346 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:33,351 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:33,351 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:28:38,224 | main.py:161 | INFO | MainThread | evaluate | Test loss: 3.7170086502552033
2023-11-26 00:28:38,226 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1000/10000 (0.1)
2023-11-26 00:28:38,227 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033]
2023-11-26 00:28:38,228 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.371042966842651
2023-11-26 00:28:38,228 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.371042966842651
2023-11-26 00:28:38,229 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:28:38,229 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004642009735107422
2023-11-26 00:28:38,230 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004642009735107422
2023-11-26 00:28:38,230 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 68.8
2023-11-26 00:28:38,231 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 85.8
2023-11-26 00:28:38,231 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 74.81428571428572
2023-11-26 00:28:38,233 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 69.35
2023-11-26 00:28:38,233 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 73.8
2023-11-26 00:28:38,234 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 78.3
2023-11-26 00:28:38,235 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 6.033342729349619
2023-11-26 00:28:38,236 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1082630144
2023-11-26 00:28:38,236 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1084784640
2023-11-26 00:28:38,236 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1084152685.7142856
2023-11-26 00:28:38,237 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1083701248.0
2023-11-26 00:28:38,238 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1084686336.0
2023-11-26 00:28:38,239 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1084782592.0
2023-11-26 00:28:38,239 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 936882.6058366902
2023-11-26 00:28:38,240 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14320795648
2023-11-26 00:28:38,240 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14320848896
2023-11-26 00:28:38,241 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14320817298.285715
2023-11-26 00:28:38,242 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:38,243 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:38,244 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14320844800.0
2023-11-26 00:28:38,245 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 25031.533288544477
2023-11-26 00:28:38,245 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 3.7170086502552033, 'test-accuracy': 0.1, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0004551410675048828, 'send.bytes': 6462612, 'distribute.runtime': 0.0484929084777832, 'recv.bytes': 6462645, 'aggregate.runtime': 0.037209272384643555, 'train.runtime': 3.0994415283203125e-06, 'evaluate.runtime': 6.371042966842651, 'analysis.runtime': 0.0004642009735107422, 'min.cpu_utilization': 68.8, 'max.cpu_utilization': 85.8, 'mean.cpu_utilization': 74.81428571428572, '25th_prcntl.cpu_utilization': 69.35, '50th_prcntl.cpu_utilization': 73.8, '75th_prcntl.cpu_utilization': 78.3, 'std.cpu_utilization': 6.033342729349619, 'min.cpu_memory_rss': 1082630144, 'max.cpu_memory_rss': 1084784640, 'mean.cpu_memory_rss': 1084152685.7142856, '25th_prcntl.cpu_memory_rss': 1083701248.0, '50th_prcntl.cpu_memory_rss': 1084686336.0, '75th_prcntl.cpu_memory_rss': 1084782592.0, 'std.cpu_memory_rss': 936882.6058366902, 'min.cpu_memory_vsz': 14320795648, 'max.cpu_memory_vsz': 14320848896, 'mean.cpu_memory_vsz': 14320817298.285715, '25th_prcntl.cpu_memory_vsz': 14320795648.0, '50th_prcntl.cpu_memory_vsz': 14320795648.0, '75th_prcntl.cpu_memory_vsz': 14320844800.0, 'std.cpu_memory_vsz': 25031.533288544477, 'save_metrics.runtime': 0.013303995132446289, 'inc_round.runtime': 0.0009636878967285156}
2023-11-26 00:28:38,246 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:28:38,246 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.01617121696472168
2023-11-26 00:28:38,247 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.01617121696472168
2023-11-26 00:28:38,247 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 10
2023-11-26 00:28:38,247 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:28:38,248 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:38,248 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 11
2023-11-26 00:28:38,248 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0014538764953613281
2023-11-26 00:28:38,249 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0014538764953613281
2023-11-26 00:28:38,249 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:28:38,250 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:28:38,250 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0007181167602539062
2023-11-26 00:28:38,250 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0007181167602539062
2023-11-26 00:28:38,251 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:38,252 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:38,253 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:38,253 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:38,255 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:38,255 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:38,255 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:38,256 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:38,256 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:38,256 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: recvd
2023-11-26 00:28:38,257 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:38,257 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:38,257 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:38,257 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:38,257 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:38,258 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580377'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:38,258 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:38,258 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None}
2023-11-26 00:28:38,259 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958518.259213, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:38,275 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:28:38,276 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:38,276 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:38,278 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:38,283 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:38,283 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,285 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:38,285 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,286 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,288 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:38,288 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,288 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,289 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:38,289 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,289 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,289 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,289 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:28:38,290 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:38,292 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:38,292 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,294 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:38,294 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,294 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,294 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:38,295 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,295 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,295 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:38,295 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,295 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,295 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,296 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:28:38,296 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:38,296 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:38,296 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,297 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:38,297 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,297 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,298 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:38,299 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,299 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,299 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:38,299 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,299 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,299 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,300 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:28:38,300 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04935884475708008
2023-11-26 00:28:38,301 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04935884475708008
2023-11-26 00:28:38,301 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:38,302 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:38,302 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:38,302 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:38,302 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:38,302 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:38,302 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:38,302 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:38,302 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:38,302 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:38,303 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:38,303 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:38,303 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:38,303 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:38,303 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:38,304 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:28:38,304 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:38,304 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:28:38,304 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:38,304 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:38,304 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:38,306 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:28:38,306 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:28:38,318 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958518.3182662, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:28:38,318 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958518.318772, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:28:38,320 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580380's parameters trained with 5285 samples
2023-11-26 00:28:38,337 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:38,337 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 11, trainer version: 9
2023-11-26 00:28:38,337 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:28:38,337 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580380 in dict
2023-11-26 00:28:38,337 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1]}
2023-11-26 00:28:38,337 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:38,338 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:38,343 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 11, trainer ver: 9
agg ver: 11, trainer ver: 9
2023-11-26 00:28:38,344 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:38,344 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:28:38,344 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:28:38,344 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04339599609375
2023-11-26 00:28:38,345 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04339599609375
2023-11-26 00:28:38,345 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:38,345 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:38,346 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:38,346 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:38,347 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:38,347 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:38,348 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:38,348 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:38,348 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:38,348 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:38,349 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:38,349 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:38,349 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: recvd
2023-11-26 00:28:38,350 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:38,350 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:38,350 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:38,350 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:38,351 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:28:38,351 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958518.351662, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:38,363 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:28:38,363 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:38,364 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:38,364 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:38,367 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:38,367 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,369 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:38,369 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,370 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,371 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:38,371 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,371 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,372 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:38,372 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,372 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,372 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,373 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:28:38,373 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:38,375 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:38,375 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,376 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:38,377 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,377 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,377 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:38,378 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,378 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,378 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:38,378 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,378 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,379 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,379 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:28:38,379 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:38,379 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:38,380 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,380 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:38,380 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,380 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,381 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:38,381 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,381 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,381 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:38,381 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,382 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,382 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,382 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:28:38,382 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.037457942962646484
2023-11-26 00:28:38,383 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.037457942962646484
2023-11-26 00:28:38,383 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:38,384 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:38,384 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:38,384 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:38,384 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:38,384 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:38,384 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:38,384 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:38,384 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:38,384 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:38,385 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:38,385 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:38,385 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:38,385 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:38,385 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:38,386 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-416' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:28:38,387 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:28:38,387 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:28:38,394 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958518.3942509, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:28:38,394 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958518.394782, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:28:38,408 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580378's parameters trained with 4612 samples
2023-11-26 00:28:38,419 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:38,419 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 11, trainer version: 10
2023-11-26 00:28:38,419 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:28:38,419 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580378 in dict
2023-11-26 00:28:38,420 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1]}
2023-11-26 00:28:38,420 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:38,420 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:38,425 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 11, trainer ver: 10
agg ver: 11, trainer ver: 10
2023-11-26 00:28:38,425 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:38,426 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:28:38,426 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:28:38,426 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.043494224548339844
2023-11-26 00:28:38,427 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.043494224548339844
2023-11-26 00:28:38,427 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:38,427 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:38,428 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:38,428 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:38,428 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:38,429 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:38,429 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:38,429 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:38,429 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:38,429 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:38,430 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: recvd
2023-11-26 00:28:38,430 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:38,430 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:38,430 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:38,430 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:38,431 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580373'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:38,431 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:38,431 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None}
2023-11-26 00:28:38,431 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958518.431892, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:38,438 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:28:38,439 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:38,439 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:38,440 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:38,442 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:38,443 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,447 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:38,448 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,448 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,449 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:38,450 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,450 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,453 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:38,453 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,454 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,454 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,454 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:28:38,455 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:38,457 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:38,458 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,462 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:38,462 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,463 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,463 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:38,464 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,465 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,466 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:38,467 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,467 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,468 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,468 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:28:38,469 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:38,469 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:38,470 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,470 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:38,471 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,471 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,472 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:38,472 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,472 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,473 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:38,473 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,474 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:38,474 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:38,475 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:28:38,475 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04818391799926758
2023-11-26 00:28:38,475 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04818391799926758
2023-11-26 00:28:38,476 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:38,476 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:38,479 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:38,480 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:38,480 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:38,480 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:38,480 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:38,480 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:38,480 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:38,481 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:38,481 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:38,481 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:38,481 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:38,481 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:38,482 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:38,482 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-423' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:28:38,483 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:38,483 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:38,490 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958518.4904027, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:38,490 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958518.490668, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:38,491 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:28:38,502 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:38,502 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 11, trainer version: 10
2023-11-26 00:28:38,503 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:28:38,503 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:28:38,503 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1]}
2023-11-26 00:28:38,503 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:38,503 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:38,509 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 11, trainer ver: 10
agg ver: 11, trainer ver: 10
2023-11-26 00:28:38,509 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:38,510 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:28:38,510 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:28:38,510 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:28:38,510 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:28:38,512 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 11
2023-11-26 00:28:38,512 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 11, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 5, '505f9fc483cf4df68a2409257b5fad7d3c580376': 4, '505f9fc483cf4df68a2409257b5fad7d3c580378': 4, '505f9fc483cf4df68a2409257b5fad7d3c580372': 3, '505f9fc483cf4df68a2409257b5fad7d3c580377': 4, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 3, '505f9fc483cf4df68a2409257b5fad7d3c580374': 1, '505f9fc483cf4df68a2409257b5fad7d3c580371': 2, '505f9fc483cf4df68a2409257b5fad7d3c580373': 4}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 5, '505f9fc483cf4df68a2409257b5fad7d3c580376': 4, '505f9fc483cf4df68a2409257b5fad7d3c580378': 4, '505f9fc483cf4df68a2409257b5fad7d3c580372': 3, '505f9fc483cf4df68a2409257b5fad7d3c580377': 4, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 3, '505f9fc483cf4df68a2409257b5fad7d3c580374': 1, '505f9fc483cf4df68a2409257b5fad7d3c580371': 2, '505f9fc483cf4df68a2409257b5fad7d3c580373': 4}
2023-11-26 00:28:38,512 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.1818181818181819
2023-11-26 00:28:38,513 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 1, Avg 0.6, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:38,514 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 1, Avg 0.75, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:38,514 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.25, P50 1.0, P90 1.7000000000000002, P99 1.9699999999999998
2023-11-26 00:28:38,515 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 1.8, P99 1.98
2023-11-26 00:28:38,516 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:38,516 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:38,517 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:38,517 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:38,518 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:38,519 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:38,519 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04346179962158203
2023-11-26 00:28:38,519 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04346179962158203
2023-11-26 00:28:38,519 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 3.337860107421875e-06
2023-11-26 00:28:38,520 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 3.337860107421875e-06
2023-11-26 00:28:39,024 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:39,041 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:39,041 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:39,045 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:39,046 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:39,047 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:39,048 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:39,048 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:39,049 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:39,051 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:39,056 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 0: 1048576
2023-11-26 00:28:39,056 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:39,058 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:39,058 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:39,059 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:39,062 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:39,066 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 1: 1048576
2023-11-26 00:28:39,067 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:39,068 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:39,068 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:39,069 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:39,070 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 2: 57063
2023-11-26 00:28:39,070 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:39,081 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:39,082 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:28:39,090 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:39,093 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:39,094 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:39,095 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:39,096 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:39,097 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:39,097 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:39,098 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:39,099 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:39,104 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 0: 1048576
2023-11-26 00:28:39,104 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:39,106 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:39,108 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:39,109 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:39,110 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:39,111 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:39,112 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:39,112 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:39,113 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:39,114 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:39,115 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:39,116 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:39,120 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 1: 1048576
2023-11-26 00:28:39,121 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:39,122 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 2: 57063
2023-11-26 00:28:39,123 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:39,129 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:39,130 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:28:39,551 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:39,555 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:39,556 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:39,559 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:39,560 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:39,561 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:39,562 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:39,563 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:39,563 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:39,564 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:39,568 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:28:39,569 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:39,603 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:39,604 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:39,605 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:39,605 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:39,606 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:39,607 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:39,612 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:28:39,612 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:39,614 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:28:39,615 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:39,625 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:39,626 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:28:44,848 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.4037589122772216
2023-11-26 00:28:44,851 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1926/10000 (0.1926)
2023-11-26 00:28:44,853 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216]
2023-11-26 00:28:44,853 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.333410024642944
2023-11-26 00:28:44,854 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.333410024642944
2023-11-26 00:28:44,854 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:28:44,855 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.00042366981506347656
2023-11-26 00:28:44,855 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.00042366981506347656
2023-11-26 00:28:44,856 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 69.8
2023-11-26 00:28:44,856 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 79.8
2023-11-26 00:28:44,857 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 75.61666666666667
2023-11-26 00:28:44,858 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 74.8
2023-11-26 00:28:44,859 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 75.25
2023-11-26 00:28:44,859 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 78.025
2023-11-26 00:28:44,860 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 3.235437459688497
2023-11-26 00:28:44,861 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1086459904
2023-11-26 00:28:44,861 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1086984192
2023-11-26 00:28:44,861 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1086732288.0
2023-11-26 00:28:44,862 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1086732288.0
2023-11-26 00:28:44,863 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1086738432.0
2023-11-26 00:28:44,863 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1086741504.0
2023-11-26 00:28:44,864 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 151565.83720614616
2023-11-26 00:28:44,864 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14320795648
2023-11-26 00:28:44,864 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14320844800
2023-11-26 00:28:44,864 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14320820224.0
2023-11-26 00:28:44,865 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:44,865 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14320820224.0
2023-11-26 00:28:44,866 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14320844800.0
2023-11-26 00:28:44,866 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 24576.0
2023-11-26 00:28:44,866 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.4037589122772216, 'test-accuracy': 0.1926, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0007181167602539062, 'send.bytes': 6462612, 'distribute.runtime': 0.04818391799926758, 'recv.bytes': 6462645, 'aggregate.runtime': 0.04346179962158203, 'train.runtime': 3.337860107421875e-06, 'evaluate.runtime': 6.333410024642944, 'analysis.runtime': 0.00042366981506347656, 'min.cpu_utilization': 69.8, 'max.cpu_utilization': 79.8, 'mean.cpu_utilization': 75.61666666666667, '25th_prcntl.cpu_utilization': 74.8, '50th_prcntl.cpu_utilization': 75.25, '75th_prcntl.cpu_utilization': 78.025, 'std.cpu_utilization': 3.235437459688497, 'min.cpu_memory_rss': 1086459904, 'max.cpu_memory_rss': 1086984192, 'mean.cpu_memory_rss': 1086732288.0, '25th_prcntl.cpu_memory_rss': 1086732288.0, '50th_prcntl.cpu_memory_rss': 1086738432.0, '75th_prcntl.cpu_memory_rss': 1086741504.0, 'std.cpu_memory_rss': 151565.83720614616, 'min.cpu_memory_vsz': 14320795648, 'max.cpu_memory_vsz': 14320844800, 'mean.cpu_memory_vsz': 14320820224.0, '25th_prcntl.cpu_memory_vsz': 14320795648.0, '50th_prcntl.cpu_memory_vsz': 14320820224.0, '75th_prcntl.cpu_memory_vsz': 14320844800.0, 'std.cpu_memory_vsz': 24576.0, 'save_metrics.runtime': 0.01617121696472168, 'inc_round.runtime': 0.0014538764953613281}
2023-11-26 00:28:44,867 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:28:44,867 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011283636093139648
2023-11-26 00:28:44,867 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011283636093139648
2023-11-26 00:28:44,867 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 11
2023-11-26 00:28:44,867 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:28:44,868 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:44,868 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 12
2023-11-26 00:28:44,868 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008854866027832031
2023-11-26 00:28:44,868 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008854866027832031
2023-11-26 00:28:44,869 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:28:44,869 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:28:44,869 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0003864765167236328
2023-11-26 00:28:44,869 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0003864765167236328
2023-11-26 00:28:44,869 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:44,870 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:44,871 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:44,872 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:44,873 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:44,874 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:44,874 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:44,874 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:44,875 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:44,875 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:44,875 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:44,876 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:44,876 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:44,876 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:28:44,876 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:44,877 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580378'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:28:44,877 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:44,877 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None}
2023-11-26 00:28:44,878 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958524.8783743, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:28:44,897 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:28:44,898 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:44,898 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:44,899 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:44,906 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:44,906 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,908 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:44,908 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,908 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,911 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:44,911 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,911 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,912 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:44,912 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,912 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,912 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,912 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:28:44,913 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:44,914 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:44,914 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,916 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:44,916 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,917 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,917 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:44,917 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,917 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,917 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:44,917 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,917 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,918 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,918 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:28:44,918 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:44,918 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:44,918 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,919 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:44,919 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,919 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,920 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:44,920 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,921 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,921 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:44,921 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,921 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,921 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,921 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:28:44,922 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05215907096862793
2023-11-26 00:28:44,922 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05215907096862793
2023-11-26 00:28:44,923 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:44,924 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:44,924 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:44,924 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:44,924 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:44,924 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:44,925 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:44,925 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:44,925 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:44,925 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:44,925 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:44,925 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:28:44,925 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:44,925 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:28:44,925 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:44,926 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:44,926 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:44,927 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:44,927 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:44,927 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:44,927 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:44,928 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:28:44,929 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:28:44,944 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958524.9439971, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:28:44,944 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958524.9443505, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:28:44,945 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580374's parameters trained with 5749 samples
2023-11-26 00:28:44,959 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:44,960 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 12, trainer version: 10
2023-11-26 00:28:44,960 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:28:44,960 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580374 in dict
2023-11-26 00:28:44,960 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1]}
2023-11-26 00:28:44,960 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:44,960 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:44,965 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 12, trainer ver: 10
agg ver: 12, trainer ver: 10
2023-11-26 00:28:44,966 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:44,966 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:28:44,966 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:28:44,966 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04332113265991211
2023-11-26 00:28:44,966 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04332113265991211
2023-11-26 00:28:44,967 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:44,967 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:44,968 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:44,968 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:44,969 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:44,969 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:44,969 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:44,970 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:44,970 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:44,970 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:44,971 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:44,971 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:44,971 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: recvd
2023-11-26 00:28:44,971 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:44,972 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:44,972 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:44,972 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:44,973 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:44,973 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958524.9734576, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:44,983 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:28:44,983 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:44,984 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:44,984 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:44,986 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:44,986 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,988 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:44,988 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,988 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,991 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:44,991 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,991 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,992 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:44,992 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,992 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,992 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,993 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:28:44,993 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:44,994 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:44,995 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,996 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:44,996 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,996 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,997 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:44,997 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,997 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,997 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:44,998 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,998 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,998 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:44,998 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:28:44,998 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:44,999 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:44,999 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:44,999 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:45,000 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:45,000 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:45,015 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:45,016 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:45,016 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:45,016 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:45,016 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:45,016 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:45,017 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:45,017 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:28:45,017 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05043363571166992
2023-11-26 00:28:45,017 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05043363571166992
2023-11-26 00:28:45,018 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:45,018 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:45,018 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:45,018 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:45,018 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:45,018 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:45,018 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:45,019 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:45,019 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:45,019 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:45,019 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:45,019 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:45,019 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:45,019 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:45,019 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:45,020 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-450' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:28:45,021 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:45,021 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:45,025 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958525.0257385, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:45,025 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958525.025954, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:45,027 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580373's parameters trained with 1384 samples
2023-11-26 00:28:45,036 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:45,036 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 12, trainer version: 11
2023-11-26 00:28:45,036 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:28:45,036 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580373 in dict
2023-11-26 00:28:45,036 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1]}
2023-11-26 00:28:45,036 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:45,036 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:45,041 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 12, trainer ver: 11
agg ver: 12, trainer ver: 11
2023-11-26 00:28:45,042 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:45,042 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:28:45,042 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:28:45,042 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.02485966682434082
2023-11-26 00:28:45,043 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.02485966682434082
2023-11-26 00:28:45,043 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:45,043 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:45,043 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:45,044 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:45,044 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:45,044 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:45,044 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:45,044 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:45,045 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:45,045 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: recvd
2023-11-26 00:28:45,045 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:45,045 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:45,045 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:45,045 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:45,045 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:45,045 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580374'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:45,045 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:45,045 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580374': None}
2023-11-26 00:28:45,046 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958525.046251, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:28:45,055 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:28:45,055 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:45,056 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:45,057 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:45,060 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:45,060 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:45,062 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:45,062 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:45,063 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:45,063 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:45,064 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:45,064 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:45,065 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:45,065 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:45,066 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:45,066 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:45,067 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:28:45,067 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:45,071 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:45,077 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:45,078 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:45,082 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:45,082 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:45,082 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:45,083 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:45,083 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:45,083 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:45,084 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:45,084 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:45,084 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:45,085 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:28:45,085 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:45,085 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:45,086 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:45,086 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:45,086 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:45,087 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:45,087 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:45,088 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:45,089 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:45,089 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:45,090 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:45,090 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:45,090 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:45,092 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:28:45,092 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04922986030578613
2023-11-26 00:28:45,092 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04922986030578613
2023-11-26 00:28:45,092 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:45,093 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:45,093 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:45,093 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:45,093 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:45,093 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:45,093 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:45,093 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:45,093 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:45,094 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:45,094 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:45,094 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:45,094 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:45,094 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:45,095 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:45,095 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-457' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:28:45,095 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:45,096 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:45,109 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958525.1098619, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:45,110 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958525.110239, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:45,112 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580377's parameters trained with 2122 samples
2023-11-26 00:28:45,122 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:45,122 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 12, trainer version: 11
2023-11-26 00:28:45,122 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:28:45,123 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580377 in dict
2023-11-26 00:28:45,123 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1]}
2023-11-26 00:28:45,123 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:45,123 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:45,128 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 12, trainer ver: 11
agg ver: 12, trainer ver: 11
2023-11-26 00:28:45,129 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:45,130 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:28:45,130 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:28:45,131 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:28:45,131 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:28:45,133 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 12
2023-11-26 00:28:45,133 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 12, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 5, '505f9fc483cf4df68a2409257b5fad7d3c580376': 4, '505f9fc483cf4df68a2409257b5fad7d3c580378': 4, '505f9fc483cf4df68a2409257b5fad7d3c580372': 3, '505f9fc483cf4df68a2409257b5fad7d3c580377': 5, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 3, '505f9fc483cf4df68a2409257b5fad7d3c580374': 2, '505f9fc483cf4df68a2409257b5fad7d3c580371': 2, '505f9fc483cf4df68a2409257b5fad7d3c580373': 5}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 5, '505f9fc483cf4df68a2409257b5fad7d3c580376': 4, '505f9fc483cf4df68a2409257b5fad7d3c580378': 4, '505f9fc483cf4df68a2409257b5fad7d3c580372': 3, '505f9fc483cf4df68a2409257b5fad7d3c580377': 5, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 3, '505f9fc483cf4df68a2409257b5fad7d3c580374': 2, '505f9fc483cf4df68a2409257b5fad7d3c580371': 2, '505f9fc483cf4df68a2409257b5fad7d3c580373': 5}
2023-11-26 00:28:45,134 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.1944444444444444
2023-11-26 00:28:45,135 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 1, Avg 0.6, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:45,135 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 1, Avg 0.75, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:45,136 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.25, P50 1.0, P90 1.7000000000000002, P99 1.9699999999999998
2023-11-26 00:28:45,137 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 1.8, P99 1.98
2023-11-26 00:28:45,138 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:45,139 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:45,140 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:45,141 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 1.9, P99 1.99
2023-11-26 00:28:45,141 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:45,142 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:45,142 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.050011634826660156
2023-11-26 00:28:45,143 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.050011634826660156
2023-11-26 00:28:45,143 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 3.5762786865234375e-06
2023-11-26 00:28:45,143 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 3.5762786865234375e-06
2023-11-26 00:28:46,291 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:46,308 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:46,309 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:46,315 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:46,315 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:46,316 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:46,317 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:46,318 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:46,318 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:46,322 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:46,326 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 0: 1048576
2023-11-26 00:28:46,327 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:46,328 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:46,329 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:46,329 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:46,331 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:46,336 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 1: 1048576
2023-11-26 00:28:46,336 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:46,337 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:46,337 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:46,338 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:46,338 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 2: 57063
2023-11-26 00:28:46,339 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:46,342 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:46,343 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:28:46,441 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:46,444 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:46,445 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:46,445 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:46,446 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:46,449 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:46,449 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:46,450 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:46,451 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:46,452 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:46,453 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:46,454 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:46,459 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:28:46,459 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:46,460 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:46,461 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:46,461 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:46,463 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:46,467 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:28:46,468 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:46,469 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:28:46,470 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:46,480 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:46,481 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:28:46,798 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:46,802 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:46,803 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:46,806 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:46,807 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:46,808 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:46,808 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:46,809 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:46,810 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:46,811 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:46,815 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 0: 1048576
2023-11-26 00:28:46,816 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:46,818 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:46,818 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:46,819 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:46,820 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:46,820 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:46,821 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:46,826 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 1: 1048576
2023-11-26 00:28:46,826 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:46,827 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 2: 57063
2023-11-26 00:28:46,828 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:46,838 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:46,839 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:28:51,211 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.358183361911774
2023-11-26 00:28:51,214 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 2224/10000 (0.2224)
2023-11-26 00:28:51,215 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774]
2023-11-26 00:28:51,216 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.072590351104736
2023-11-26 00:28:51,216 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.072590351104736
2023-11-26 00:28:51,217 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:28:51,218 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004792213439941406
2023-11-26 00:28:51,218 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004792213439941406
2023-11-26 00:28:51,219 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 67.9
2023-11-26 00:28:51,219 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 81.8
2023-11-26 00:28:51,220 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 72.0142857142857
2023-11-26 00:28:51,221 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 68.4
2023-11-26 00:28:51,222 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 68.9
2023-11-26 00:28:51,222 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 74.35
2023-11-26 00:28:51,223 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 5.338921392252654
2023-11-26 00:28:51,223 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1089114112
2023-11-26 00:28:51,223 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1091440640
2023-11-26 00:28:51,223 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1090722084.5714285
2023-11-26 00:28:51,224 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1090187264.0
2023-11-26 00:28:51,224 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1091244032.0
2023-11-26 00:28:51,225 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1091440640.0
2023-11-26 00:28:51,225 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 1013852.1579220031
2023-11-26 00:28:51,225 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14320738304
2023-11-26 00:28:51,226 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14320844800
2023-11-26 00:28:51,226 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:51,226 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:51,227 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:51,227 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14320799744.0
2023-11-26 00:28:51,227 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 28630.173573646785
2023-11-26 00:28:51,228 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.358183361911774, 'test-accuracy': 0.2224, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0003864765167236328, 'send.bytes': 6462612, 'distribute.runtime': 0.04922986030578613, 'recv.bytes': 6462645, 'aggregate.runtime': 0.050011634826660156, 'train.runtime': 3.5762786865234375e-06, 'evaluate.runtime': 6.072590351104736, 'analysis.runtime': 0.0004792213439941406, 'min.cpu_utilization': 67.9, 'max.cpu_utilization': 81.8, 'mean.cpu_utilization': 72.0142857142857, '25th_prcntl.cpu_utilization': 68.4, '50th_prcntl.cpu_utilization': 68.9, '75th_prcntl.cpu_utilization': 74.35, 'std.cpu_utilization': 5.338921392252654, 'min.cpu_memory_rss': 1089114112, 'max.cpu_memory_rss': 1091440640, 'mean.cpu_memory_rss': 1090722084.5714285, '25th_prcntl.cpu_memory_rss': 1090187264.0, '50th_prcntl.cpu_memory_rss': 1091244032.0, '75th_prcntl.cpu_memory_rss': 1091440640.0, 'std.cpu_memory_rss': 1013852.1579220031, 'min.cpu_memory_vsz': 14320738304, 'max.cpu_memory_vsz': 14320844800, 'mean.cpu_memory_vsz': 14320795648.0, '25th_prcntl.cpu_memory_vsz': 14320795648.0, '50th_prcntl.cpu_memory_vsz': 14320795648.0, '75th_prcntl.cpu_memory_vsz': 14320799744.0, 'std.cpu_memory_vsz': 28630.173573646785, 'save_metrics.runtime': 0.011283636093139648, 'inc_round.runtime': 0.0008854866027832031}
2023-11-26 00:28:51,228 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:28:51,228 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.009770393371582031
2023-11-26 00:28:51,228 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.009770393371582031
2023-11-26 00:28:51,229 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 12
2023-11-26 00:28:51,229 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:28:51,229 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:51,229 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 13
2023-11-26 00:28:51,229 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008089542388916016
2023-11-26 00:28:51,230 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008089542388916016
2023-11-26 00:28:51,230 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:28:51,230 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:28:51,230 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0003783702850341797
2023-11-26 00:28:51,230 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0003783702850341797
2023-11-26 00:28:51,231 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:51,232 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:51,232 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:51,233 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:51,234 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:51,234 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:51,235 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:51,235 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:51,235 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:51,236 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: recvd
2023-11-26 00:28:51,236 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:51,236 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:51,237 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:51,237 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:51,237 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:51,238 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580380'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:51,238 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:51,238 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580380': None}
2023-11-26 00:28:51,239 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958531.23922, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:28:51,254 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:28:51,254 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:51,255 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:51,257 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:51,260 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,261 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,262 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,263 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,263 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,265 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,265 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,266 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,266 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,266 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,266 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,266 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,267 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:28:51,267 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:51,268 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,269 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,270 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,270 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,270 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,270 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,270 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,271 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,271 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,271 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,271 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,271 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,271 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:28:51,272 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:51,272 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,272 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,272 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,272 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,273 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,274 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,274 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,274 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,274 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,275 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,275 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,275 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,275 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:28:51,275 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.044710397720336914
2023-11-26 00:28:51,276 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.044710397720336914
2023-11-26 00:28:51,276 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:51,277 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:51,277 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:51,277 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:51,277 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:51,278 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:51,278 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:51,278 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:51,278 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:51,278 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:51,278 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:51,278 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:51,278 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:51,278 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:51,279 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:51,279 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:28:51,280 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:51,280 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:28:51,280 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:51,280 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:51,280 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:51,281 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:51,282 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:51,295 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958531.2950518, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:51,295 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958531.2954018, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:51,296 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:28:51,311 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:51,311 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 13, trainer version: 11
2023-11-26 00:28:51,311 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:28:51,311 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:28:51,312 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1]}
2023-11-26 00:28:51,312 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:51,312 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:51,316 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 13, trainer ver: 11
agg ver: 13, trainer ver: 11
2023-11-26 00:28:51,317 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:51,317 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:28:51,317 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:28:51,317 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04088950157165527
2023-11-26 00:28:51,317 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04088950157165527
2023-11-26 00:28:51,317 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:51,318 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:51,318 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:51,318 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:51,319 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:51,319 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:51,319 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:51,320 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:51,320 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:51,320 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:51,320 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:51,320 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:51,321 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:28:51,321 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:51,321 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:51,321 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580373'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:51,322 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:51,322 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None}
2023-11-26 00:28:51,322 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958531.3225806, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:51,328 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:28:51,329 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:51,329 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:51,330 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:51,332 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,332 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,333 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,333 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,334 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,336 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,336 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,336 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,336 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,337 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,337 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,337 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,337 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:28:51,338 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:51,339 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,340 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,340 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,341 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,341 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,341 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,341 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,342 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,342 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,342 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,342 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,343 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,343 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:28:51,343 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:51,343 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,344 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,344 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,344 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,344 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,345 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,345 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,345 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,345 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,346 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,346 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,346 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,346 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:28:51,346 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.02893376350402832
2023-11-26 00:28:51,347 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.02893376350402832
2023-11-26 00:28:51,349 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:51,351 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:51,351 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:51,351 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:51,351 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:51,352 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:51,352 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:51,353 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:28:51,353 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:51,353 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:51,354 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:51,354 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:51,355 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:51,355 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:51,356 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:51,369 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-484' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:28:51,375 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:28:51,375 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:28:51,379 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958531.379002, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:28:51,379 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958531.3792007, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:28:51,380 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580378's parameters trained with 4612 samples
2023-11-26 00:28:51,389 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:51,389 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 13, trainer version: 12
2023-11-26 00:28:51,389 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:28:51,390 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580378 in dict
2023-11-26 00:28:51,390 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1]}
2023-11-26 00:28:51,390 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:51,390 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:51,395 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 13, trainer ver: 12
agg ver: 13, trainer ver: 12
2023-11-26 00:28:51,395 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:51,396 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:28:51,397 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:28:51,397 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04814624786376953
2023-11-26 00:28:51,397 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04814624786376953
2023-11-26 00:28:51,398 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:51,398 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:51,399 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:51,399 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:51,400 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:51,400 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:51,400 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:51,400 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:51,401 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:51,401 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:51,401 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: recvd
2023-11-26 00:28:51,401 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:51,401 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:51,401 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:51,401 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:51,401 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:51,401 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:51,401 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:28:51,402 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958531.40257, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:51,407 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:28:51,408 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:51,408 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:51,409 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:51,410 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,411 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,412 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,412 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,413 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,427 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,427 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,428 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,428 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,429 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,430 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,430 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,430 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:28:51,430 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:51,432 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,432 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,433 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,433 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,433 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,434 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,434 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,434 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,436 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,436 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,436 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,436 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,436 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:28:51,437 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:51,437 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,437 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,437 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,437 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,438 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,438 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,438 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,438 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,438 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,438 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,438 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:51,439 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:51,439 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:28:51,439 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.041425466537475586
2023-11-26 00:28:51,439 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.041425466537475586
2023-11-26 00:28:51,440 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:51,441 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:51,441 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:51,442 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:51,442 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:51,442 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:51,442 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:51,442 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:51,442 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:51,442 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:51,442 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:51,442 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:51,443 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:51,443 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:51,444 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:51,444 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-491' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:28:51,445 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:51,445 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:51,448 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958531.4487631, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:51,448 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958531.4489443, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:51,449 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:28:51,458 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:51,458 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 13, trainer version: 12
2023-11-26 00:28:51,459 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:28:51,459 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:28:51,459 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1]}
2023-11-26 00:28:51,459 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:51,459 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:51,465 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 13, trainer ver: 12
agg ver: 13, trainer ver: 12
2023-11-26 00:28:51,465 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:51,466 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:28:51,466 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:28:51,466 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:28:51,466 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:28:51,467 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 13
2023-11-26 00:28:51,468 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 13, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 6, '505f9fc483cf4df68a2409257b5fad7d3c580376': 5, '505f9fc483cf4df68a2409257b5fad7d3c580378': 5, '505f9fc483cf4df68a2409257b5fad7d3c580372': 3, '505f9fc483cf4df68a2409257b5fad7d3c580377': 5, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 3, '505f9fc483cf4df68a2409257b5fad7d3c580374': 2, '505f9fc483cf4df68a2409257b5fad7d3c580371': 2, '505f9fc483cf4df68a2409257b5fad7d3c580373': 5}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 6, '505f9fc483cf4df68a2409257b5fad7d3c580376': 5, '505f9fc483cf4df68a2409257b5fad7d3c580378': 5, '505f9fc483cf4df68a2409257b5fad7d3c580372': 3, '505f9fc483cf4df68a2409257b5fad7d3c580377': 5, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 3, '505f9fc483cf4df68a2409257b5fad7d3c580374': 2, '505f9fc483cf4df68a2409257b5fad7d3c580371': 2, '505f9fc483cf4df68a2409257b5fad7d3c580373': 5}
2023-11-26 00:28:51,468 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.205128205128205
2023-11-26 00:28:51,469 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.8333333333333334, P50 1.0, P90 1.5, P99 1.9500000000000002
2023-11-26 00:28:51,470 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 1, Avg 0.8, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:51,471 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.2, P50 1.0, P90 1.6, P99 1.96
2023-11-26 00:28:51,472 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 1.8, P99 1.98
2023-11-26 00:28:51,473 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:51,473 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:51,474 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:51,475 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 1.9, P99 1.99
2023-11-26 00:28:51,476 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:51,477 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:51,477 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03759407997131348
2023-11-26 00:28:51,478 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03759407997131348
2023-11-26 00:28:51,478 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 3.0994415283203125e-06
2023-11-26 00:28:51,479 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 3.0994415283203125e-06
2023-11-26 00:28:51,916 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:51,927 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,928 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:51,931 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:51,931 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,932 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:51,933 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,933 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:51,934 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:51,936 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:51,938 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 0: 1048576
2023-11-26 00:28:51,939 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:51,939 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:51,940 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,940 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:51,942 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:51,945 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 1: 1048576
2023-11-26 00:28:51,945 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:51,946 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:51,946 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:51,947 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:51,947 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 2: 57063
2023-11-26 00:28:51,947 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:51,957 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:51,958 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:28:52,657 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:52,661 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:52,662 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:52,665 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:52,666 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:52,667 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:52,668 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:52,669 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:52,670 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:52,671 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:52,675 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:28:52,676 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:52,677 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:52,677 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:52,678 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:52,678 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:52,679 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:52,680 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:52,684 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:28:52,684 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:52,686 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:28:52,686 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:52,696 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:52,696 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:28:52,934 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:52,938 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:52,939 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:52,942 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:52,943 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:52,944 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:52,945 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:52,946 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:52,947 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:52,948 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:52,953 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 0: 1048576
2023-11-26 00:28:52,953 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:52,954 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:52,955 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:52,955 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:52,956 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:52,957 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:52,958 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:52,962 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 1: 1048576
2023-11-26 00:28:52,963 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:52,964 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 2: 57063
2023-11-26 00:28:52,966 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:52,978 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:52,979 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:28:58,010 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.3447366854190825
2023-11-26 00:28:58,013 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 2241/10000 (0.2241)
2023-11-26 00:28:58,015 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825]
2023-11-26 00:28:58,016 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.536326885223389
2023-11-26 00:28:58,016 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.536326885223389
2023-11-26 00:28:58,017 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:28:58,017 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.00041747093200683594
2023-11-26 00:28:58,017 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.00041747093200683594
2023-11-26 00:28:58,018 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 71.8
2023-11-26 00:28:58,018 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 86.8
2023-11-26 00:28:58,019 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 77.13333333333334
2023-11-26 00:28:58,020 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 74.05
2023-11-26 00:28:58,021 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 76.3
2023-11-26 00:28:58,021 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 77.8
2023-11-26 00:28:58,022 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 4.818944098266987
2023-11-26 00:28:58,023 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1091444736
2023-11-26 00:28:58,023 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1091452928
2023-11-26 00:28:58,023 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1091448149.3333333
2023-11-26 00:28:58,024 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1091444736.0
2023-11-26 00:28:58,025 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1091446784.0
2023-11-26 00:28:58,025 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1091451904.0
2023-11-26 00:28:58,026 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 3676.272508337155
2023-11-26 00:28:58,026 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14320795648
2023-11-26 00:28:58,027 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14320795648
2023-11-26 00:28:58,027 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:58,027 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:58,028 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:58,028 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14320795648.0
2023-11-26 00:28:58,028 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 0.0
2023-11-26 00:28:58,029 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.3447366854190825, 'test-accuracy': 0.2241, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0003783702850341797, 'send.bytes': 6462612, 'distribute.runtime': 0.041425466537475586, 'recv.bytes': 6462645, 'aggregate.runtime': 0.03759407997131348, 'train.runtime': 3.0994415283203125e-06, 'evaluate.runtime': 6.536326885223389, 'analysis.runtime': 0.00041747093200683594, 'min.cpu_utilization': 71.8, 'max.cpu_utilization': 86.8, 'mean.cpu_utilization': 77.13333333333334, '25th_prcntl.cpu_utilization': 74.05, '50th_prcntl.cpu_utilization': 76.3, '75th_prcntl.cpu_utilization': 77.8, 'std.cpu_utilization': 4.818944098266987, 'min.cpu_memory_rss': 1091444736, 'max.cpu_memory_rss': 1091452928, 'mean.cpu_memory_rss': 1091448149.3333333, '25th_prcntl.cpu_memory_rss': 1091444736.0, '50th_prcntl.cpu_memory_rss': 1091446784.0, '75th_prcntl.cpu_memory_rss': 1091451904.0, 'std.cpu_memory_rss': 3676.272508337155, 'min.cpu_memory_vsz': 14320795648, 'max.cpu_memory_vsz': 14320795648, 'mean.cpu_memory_vsz': 14320795648.0, '25th_prcntl.cpu_memory_vsz': 14320795648.0, '50th_prcntl.cpu_memory_vsz': 14320795648.0, '75th_prcntl.cpu_memory_vsz': 14320795648.0, 'std.cpu_memory_vsz': 0.0, 'save_metrics.runtime': 0.009770393371582031, 'inc_round.runtime': 0.0008089542388916016}
2023-11-26 00:28:58,029 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:28:58,029 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011633872985839844
2023-11-26 00:28:58,029 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011633872985839844
2023-11-26 00:28:58,030 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 13
2023-11-26 00:28:58,030 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:28:58,030 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:58,030 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 14
2023-11-26 00:28:58,030 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008349418640136719
2023-11-26 00:28:58,031 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008349418640136719
2023-11-26 00:28:58,031 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:28:58,031 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:28:58,031 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00042629241943359375
2023-11-26 00:28:58,032 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00042629241943359375
2023-11-26 00:28:58,032 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:58,033 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:58,034 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:58,035 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:58,036 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:58,036 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:58,037 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:58,037 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:58,038 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:58,038 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:58,038 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:58,039 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:58,039 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:58,040 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:28:58,040 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:58,041 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580377'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:28:58,041 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:58,042 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None}
2023-11-26 00:28:58,042 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958538.0425773, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:28:58,056 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:28:58,057 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:58,057 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:58,059 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:58,065 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,065 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,066 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,067 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,067 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,070 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,070 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,070 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,071 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,071 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,071 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,072 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,072 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:28:58,072 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:58,075 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,075 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,076 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,076 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,077 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,077 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,077 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,077 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,077 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,078 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,078 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,078 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,078 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:28:58,078 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:58,079 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,079 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,079 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,080 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,080 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,081 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,081 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,081 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,081 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,081 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,082 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,082 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,082 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:28:58,082 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05062294006347656
2023-11-26 00:28:58,083 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05062294006347656
2023-11-26 00:28:58,083 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:58,084 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:58,084 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:58,084 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:58,085 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:58,085 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:58,085 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:58,085 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:58,085 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:28:58,085 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:58,086 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:58,086 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:28:58,086 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:58,086 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:28:58,086 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:58,087 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:58,087 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:58,087 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:28:58,088 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:58,088 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:58,088 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:28:58,089 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:28:58,090 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:28:58,103 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958538.103382, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:28:58,103 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958538.1038563, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:28:58,105 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580374's parameters trained with 5749 samples
2023-11-26 00:28:58,120 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:58,120 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 14, trainer version: 12
2023-11-26 00:28:58,120 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:28:58,121 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580374 in dict
2023-11-26 00:28:58,121 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1]}
2023-11-26 00:28:58,121 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:58,121 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:58,126 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 14, trainer ver: 12
agg ver: 14, trainer ver: 12
2023-11-26 00:28:58,127 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:58,127 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:28:58,128 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:28:58,128 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.044307708740234375
2023-11-26 00:28:58,128 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.044307708740234375
2023-11-26 00:28:58,128 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:58,128 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:58,129 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:58,130 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:58,130 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:58,131 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:58,131 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:58,132 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:58,132 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:28:58,133 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:58,133 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:58,134 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: recvd
2023-11-26 00:28:58,134 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:58,134 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:58,135 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:58,135 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:58,136 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:58,136 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:58,137 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958538.1373909, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:28:58,148 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:28:58,148 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:58,149 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:58,150 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:58,153 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,154 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,155 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,156 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,157 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,171 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,172 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,173 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,173 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,174 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,174 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,175 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,176 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:28:58,177 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:58,180 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,180 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,182 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,182 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,183 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,183 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,184 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,184 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,184 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,184 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,184 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,185 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,185 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:28:58,185 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:58,185 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,185 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,186 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,186 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,186 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,186 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,186 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,187 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,187 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,187 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,187 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,187 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,187 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:28:58,188 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05970430374145508
2023-11-26 00:28:58,188 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05970430374145508
2023-11-26 00:28:58,188 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:58,188 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:58,189 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:58,189 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:58,189 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:58,189 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:58,189 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:58,189 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:58,189 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:58,190 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:58,190 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:58,190 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:58,190 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:58,190 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:58,190 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:58,191 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-518' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:28:58,191 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:58,191 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:58,198 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958538.1980424, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:58,198 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958538.1987581, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:58,200 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580373's parameters trained with 1384 samples
2023-11-26 00:28:58,213 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:58,213 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 14, trainer version: 13
2023-11-26 00:28:58,213 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:28:58,214 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580373 in dict
2023-11-26 00:28:58,214 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1]}
2023-11-26 00:28:58,214 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:58,214 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:58,220 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 14, trainer ver: 13
agg ver: 14, trainer ver: 13
2023-11-26 00:28:58,221 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:58,222 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:28:58,222 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:28:58,222 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03421974182128906
2023-11-26 00:28:58,223 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03421974182128906
2023-11-26 00:28:58,223 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:28:58,223 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:28:58,224 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:28:58,224 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:28:58,225 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:58,225 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:58,226 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:58,226 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:58,226 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:58,226 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: recvd
2023-11-26 00:28:58,226 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:58,227 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:58,227 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:58,227 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:58,227 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:58,227 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580373'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:58,228 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:58,228 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None}
2023-11-26 00:28:58,228 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958538.2286448, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:28:58,235 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:28:58,235 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:28:58,235 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:28:58,236 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:28:58,237 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,238 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,239 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,239 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,239 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,242 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,242 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,242 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,242 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,242 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,242 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,242 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,242 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:28:58,243 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:28:58,244 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,244 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,246 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,246 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,246 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,246 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,246 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,246 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,247 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,247 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,247 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,247 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,247 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:28:58,247 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:28:58,247 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,248 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,248 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,248 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,248 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,249 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,250 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,250 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,250 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,250 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,250 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:28:58,250 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:28:58,250 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:28:58,251 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.027738571166992188
2023-11-26 00:28:58,251 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.027738571166992188
2023-11-26 00:28:58,252 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:28:58,252 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:28:58,252 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:28:58,252 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:28:58,252 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:28:58,252 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:58,253 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:28:58,253 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:28:58,253 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:28:58,253 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:28:58,253 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:28:58,253 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:28:58,253 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:28:58,253 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:28:58,253 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:28:58,254 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-525' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:28:58,255 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:58,255 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:58,261 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958538.2610862, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:58,261 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958538.2614298, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:28:58,263 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:28:58,272 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:28:58,272 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 14, trainer version: 13
2023-11-26 00:28:58,272 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:28:58,273 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:28:58,273 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1]}
2023-11-26 00:28:58,273 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:28:58,273 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:28:58,278 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 14, trainer ver: 13
agg ver: 14, trainer ver: 13
2023-11-26 00:28:58,278 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:28:58,279 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:28:58,279 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:28:58,279 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:28:58,279 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:28:58,280 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 14
2023-11-26 00:28:58,280 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 14, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 7, '505f9fc483cf4df68a2409257b5fad7d3c580376': 5, '505f9fc483cf4df68a2409257b5fad7d3c580378': 5, '505f9fc483cf4df68a2409257b5fad7d3c580372': 3, '505f9fc483cf4df68a2409257b5fad7d3c580377': 5, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 3, '505f9fc483cf4df68a2409257b5fad7d3c580374': 3, '505f9fc483cf4df68a2409257b5fad7d3c580371': 2, '505f9fc483cf4df68a2409257b5fad7d3c580373': 6}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 7, '505f9fc483cf4df68a2409257b5fad7d3c580376': 5, '505f9fc483cf4df68a2409257b5fad7d3c580378': 5, '505f9fc483cf4df68a2409257b5fad7d3c580372': 3, '505f9fc483cf4df68a2409257b5fad7d3c580377': 5, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 3, '505f9fc483cf4df68a2409257b5fad7d3c580374': 3, '505f9fc483cf4df68a2409257b5fad7d3c580371': 2, '505f9fc483cf4df68a2409257b5fad7d3c580373': 6}
2023-11-26 00:28:58,280 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2142857142857142
2023-11-26 00:28:58,281 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.8571428571428571, P50 1.0, P90 1.4000000000000004, P99 1.9399999999999995
2023-11-26 00:28:58,282 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 1, Avg 0.8, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:58,282 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.2, P50 1.0, P90 1.6, P99 1.96
2023-11-26 00:28:58,283 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 1.8, P99 1.98
2023-11-26 00:28:58,283 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:58,283 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:58,284 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:58,284 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:58,285 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:28:58,285 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:28:58,286 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03412461280822754
2023-11-26 00:28:58,286 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03412461280822754
2023-11-26 00:28:58,286 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.384185791015625e-06
2023-11-26 00:28:58,286 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.384185791015625e-06
2023-11-26 00:28:58,851 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:58,865 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,866 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:58,870 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:58,870 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,870 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:58,871 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,872 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:58,872 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:58,876 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:58,880 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 0: 1048576
2023-11-26 00:28:58,881 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:58,882 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:58,882 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,882 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:58,884 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:58,889 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 1: 1048576
2023-11-26 00:28:58,889 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:58,891 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,891 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:58,892 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:58,892 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 2: 57063
2023-11-26 00:28:58,893 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,904 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:58,905 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:28:58,913 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:58,919 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,920 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:58,922 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:58,923 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,923 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:58,924 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,925 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:58,926 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:58,927 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:58,931 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 0: 1048576
2023-11-26 00:28:58,932 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:58,934 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:58,934 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,935 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:58,936 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:58,940 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 1: 1048576
2023-11-26 00:28:58,941 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:58,942 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:58,942 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:58,943 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:58,944 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 2: 57063
2023-11-26 00:28:58,944 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:58,954 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:58,955 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:28:59,547 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:59,552 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:59,553 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:59,556 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:59,557 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:59,558 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:59,559 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:59,560 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:59,560 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:28:59,561 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:59,564 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:28:59,565 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:59,565 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:28:59,565 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:59,566 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:28:59,566 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:59,567 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:28:59,568 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:28:59,570 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:28:59,571 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:28:59,572 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:28:59,573 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:28:59,577 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:28:59,577 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:29:04,731 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.335713644695282
2023-11-26 00:29:04,734 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1686/10000 (0.1686)
2023-11-26 00:29:04,736 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282]
2023-11-26 00:29:04,736 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.450138807296753
2023-11-26 00:29:04,737 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.450138807296753
2023-11-26 00:29:04,738 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:29:04,738 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004863739013671875
2023-11-26 00:29:04,738 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004863739013671875
2023-11-26 00:29:04,739 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 72.9
2023-11-26 00:29:04,740 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 78.9
2023-11-26 00:29:04,740 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 74.84285714285716
2023-11-26 00:29:04,742 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 73.8
2023-11-26 00:29:04,743 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 73.9
2023-11-26 00:29:04,743 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 75.3
2023-11-26 00:29:04,744 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 1.8599978055725486
2023-11-26 00:29:04,744 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1091428352
2023-11-26 00:29:04,745 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1093488640
2023-11-26 00:29:04,745 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1092903497.142857
2023-11-26 00:29:04,746 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1092470784.0
2023-11-26 00:29:04,746 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1093488640.0
2023-11-26 00:29:04,747 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1093488640.0
2023-11-26 00:29:04,747 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 923929.6393092509
2023-11-26 00:29:04,747 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14320738304
2023-11-26 00:29:04,748 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321106944
2023-11-26 00:29:04,748 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321019172.571428
2023-11-26 00:29:04,749 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321057792.0
2023-11-26 00:29:04,749 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321057792.0
2023-11-26 00:29:04,750 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321057792.0
2023-11-26 00:29:04,750 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 115911.46831323726
2023-11-26 00:29:04,750 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.335713644695282, 'test-accuracy': 0.1686, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00042629241943359375, 'send.bytes': 6462612, 'distribute.runtime': 0.027738571166992188, 'recv.bytes': 6462645, 'aggregate.runtime': 0.03412461280822754, 'train.runtime': 2.384185791015625e-06, 'evaluate.runtime': 6.450138807296753, 'analysis.runtime': 0.0004863739013671875, 'min.cpu_utilization': 72.9, 'max.cpu_utilization': 78.9, 'mean.cpu_utilization': 74.84285714285716, '25th_prcntl.cpu_utilization': 73.8, '50th_prcntl.cpu_utilization': 73.9, '75th_prcntl.cpu_utilization': 75.3, 'std.cpu_utilization': 1.8599978055725486, 'min.cpu_memory_rss': 1091428352, 'max.cpu_memory_rss': 1093488640, 'mean.cpu_memory_rss': 1092903497.142857, '25th_prcntl.cpu_memory_rss': 1092470784.0, '50th_prcntl.cpu_memory_rss': 1093488640.0, '75th_prcntl.cpu_memory_rss': 1093488640.0, 'std.cpu_memory_rss': 923929.6393092509, 'min.cpu_memory_vsz': 14320738304, 'max.cpu_memory_vsz': 14321106944, 'mean.cpu_memory_vsz': 14321019172.571428, '25th_prcntl.cpu_memory_vsz': 14321057792.0, '50th_prcntl.cpu_memory_vsz': 14321057792.0, '75th_prcntl.cpu_memory_vsz': 14321057792.0, 'std.cpu_memory_vsz': 115911.46831323726, 'save_metrics.runtime': 0.011633872985839844, 'inc_round.runtime': 0.0008349418640136719}
2023-11-26 00:29:04,751 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:29:04,751 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.012127876281738281
2023-11-26 00:29:04,751 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.012127876281738281
2023-11-26 00:29:04,752 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 14
2023-11-26 00:29:04,752 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:29:04,752 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:04,752 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 15
2023-11-26 00:29:04,753 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0010879039764404297
2023-11-26 00:29:04,753 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0010879039764404297
2023-11-26 00:29:04,753 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:29:04,754 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:29:04,754 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0004410743713378906
2023-11-26 00:29:04,754 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0004410743713378906
2023-11-26 00:29:04,754 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:04,755 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:04,756 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:04,757 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:04,758 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:04,758 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:04,759 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:04,759 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:04,760 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:04,760 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:29:04,760 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:04,761 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:04,761 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:29:04,761 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:04,762 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:04,762 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580371'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:04,762 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:04,763 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None}
2023-11-26 00:29:04,763 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958544.7636445, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:29:04,782 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:29:04,782 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:04,783 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:04,785 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:04,789 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:04,789 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,791 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:04,791 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,791 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,794 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:04,794 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,794 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,795 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:04,795 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,795 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,795 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,795 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:29:04,796 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:04,797 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:04,798 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,799 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:04,799 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,799 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,800 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:04,800 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,800 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,800 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:04,800 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,800 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,801 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,801 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:29:04,801 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:04,801 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:04,802 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,802 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:04,802 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,802 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,803 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:04,804 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,804 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,804 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:04,804 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,804 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,804 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,804 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:29:04,805 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05055952072143555
2023-11-26 00:29:04,805 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05055952072143555
2023-11-26 00:29:04,806 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:04,806 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:04,807 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:04,807 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:04,807 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:04,807 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:04,807 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:29:04,807 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:04,807 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:04,807 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:04,808 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:04,808 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:04,808 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:04,808 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:04,808 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:04,809 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:29:04,809 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:29:04,809 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:04,809 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:29:04,809 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:04,810 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:29:04,811 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:29:04,811 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:29:04,825 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958544.825431, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:29:04,825 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958544.8257768, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:29:04,827 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580380's parameters trained with 5285 samples
2023-11-26 00:29:04,841 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:04,841 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 15, trainer version: 13
2023-11-26 00:29:04,842 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:29:04,842 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580380 in dict
2023-11-26 00:29:04,842 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:04,842 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:04,842 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:04,847 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 15, trainer ver: 13
agg ver: 15, trainer ver: 13
2023-11-26 00:29:04,847 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:04,848 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:29:04,848 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:29:04,848 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.042348623275756836
2023-11-26 00:29:04,848 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.042348623275756836
2023-11-26 00:29:04,848 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:04,849 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:04,849 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:04,849 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:04,850 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:04,850 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:04,850 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:04,850 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:04,851 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:04,851 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:29:04,851 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:04,851 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:04,851 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: recvd
2023-11-26 00:29:04,851 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:04,851 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:04,852 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580378'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:04,852 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:04,852 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None}
2023-11-26 00:29:04,852 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958544.8525236, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:29:04,859 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:29:04,859 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:04,859 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:04,860 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:04,862 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:04,862 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,863 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:04,863 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,864 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,866 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:04,867 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,867 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,867 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:04,867 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,867 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,867 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,868 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:29:04,868 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:04,869 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:04,870 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,871 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:04,871 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,871 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,871 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:04,871 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,871 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,872 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:04,872 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,872 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,872 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,872 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:29:04,872 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:04,873 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:04,873 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,873 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:04,873 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,873 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,875 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:04,876 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,876 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,876 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:04,876 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,876 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,876 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,877 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:29:04,877 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.0284726619720459
2023-11-26 00:29:04,878 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.0284726619720459
2023-11-26 00:29:04,878 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:04,879 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:04,879 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:04,879 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:04,879 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:04,880 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:04,880 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:29:04,880 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:04,880 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:04,880 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:04,880 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:04,880 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:04,880 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:04,880 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:04,881 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:04,881 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-552' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:29:04,882 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:29:04,883 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:29:04,889 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958544.8898427, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:29:04,890 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958544.8902242, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:29:04,891 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580373's parameters trained with 1384 samples
2023-11-26 00:29:04,916 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:04,916 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 15, trainer version: 14
2023-11-26 00:29:04,916 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:29:04,917 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580373 in dict
2023-11-26 00:29:04,917 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:04,917 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:04,917 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:04,922 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 15, trainer ver: 14
agg ver: 15, trainer ver: 14
2023-11-26 00:29:04,922 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:04,922 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:29:04,923 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:29:04,923 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04487013816833496
2023-11-26 00:29:04,923 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04487013816833496
2023-11-26 00:29:04,923 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:04,924 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:04,924 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:04,924 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:04,924 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:04,925 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:04,925 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:04,925 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:04,925 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:04,925 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: recvd
2023-11-26 00:29:04,925 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:04,925 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:04,925 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:04,926 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:04,926 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:04,926 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580373'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:04,926 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:04,926 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None}
2023-11-26 00:29:04,927 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958544.9270844, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:29:04,934 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:29:04,935 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:04,935 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:04,937 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:04,940 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:04,959 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,961 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:04,962 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,962 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,971 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:04,971 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,972 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,972 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:04,972 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,972 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,972 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,973 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:29:04,973 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:04,975 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:04,975 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,976 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:04,976 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,976 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,976 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:04,976 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,976 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,976 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:04,976 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,977 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,977 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,977 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:29:04,977 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:04,977 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:04,977 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,978 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:04,978 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,978 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,978 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:04,978 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,978 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,978 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:04,979 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,979 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:04,979 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:04,979 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:29:04,979 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05608773231506348
2023-11-26 00:29:04,980 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05608773231506348
2023-11-26 00:29:04,980 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:04,980 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:04,981 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:04,981 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:04,981 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:04,981 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:04,981 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:29:04,981 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:04,981 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:04,981 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:04,981 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:04,981 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:04,982 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:04,982 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:04,982 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:04,982 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-559' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:29:04,983 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:04,984 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:04,990 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958544.990452, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:04,990 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958544.9906833, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:04,992 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580377's parameters trained with 2122 samples
2023-11-26 00:29:05,003 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:05,003 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 15, trainer version: 14
2023-11-26 00:29:05,003 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:29:05,003 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580377 in dict
2023-11-26 00:29:05,004 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:05,004 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:05,004 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:05,010 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 15, trainer ver: 14
agg ver: 15, trainer ver: 14
2023-11-26 00:29:05,010 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:05,011 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:29:05,011 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:29:05,011 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:29:05,012 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:29:05,013 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 15
2023-11-26 00:29:05,013 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 15, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 7, '505f9fc483cf4df68a2409257b5fad7d3c580376': 5, '505f9fc483cf4df68a2409257b5fad7d3c580378': 5, '505f9fc483cf4df68a2409257b5fad7d3c580372': 3, '505f9fc483cf4df68a2409257b5fad7d3c580377': 6, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 4, '505f9fc483cf4df68a2409257b5fad7d3c580374': 3, '505f9fc483cf4df68a2409257b5fad7d3c580371': 2, '505f9fc483cf4df68a2409257b5fad7d3c580373': 7}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 7, '505f9fc483cf4df68a2409257b5fad7d3c580376': 5, '505f9fc483cf4df68a2409257b5fad7d3c580378': 5, '505f9fc483cf4df68a2409257b5fad7d3c580372': 3, '505f9fc483cf4df68a2409257b5fad7d3c580377': 6, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 4, '505f9fc483cf4df68a2409257b5fad7d3c580374': 3, '505f9fc483cf4df68a2409257b5fad7d3c580371': 2, '505f9fc483cf4df68a2409257b5fad7d3c580373': 7}
2023-11-26 00:29:05,013 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2222222222222223
2023-11-26 00:29:05,014 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.8571428571428571, P50 1.0, P90 1.4000000000000004, P99 1.9399999999999995
2023-11-26 00:29:05,015 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 1, Avg 0.8, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:05,015 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.2, P50 1.0, P90 1.6, P99 1.96
2023-11-26 00:29:05,016 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 1.8, P99 1.98
2023-11-26 00:29:05,017 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:05,017 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:05,018 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:05,019 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:05,019 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:05,020 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:05,020 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04030299186706543
2023-11-26 00:29:05,020 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04030299186706543
2023-11-26 00:29:05,021 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.6226043701171875e-06
2023-11-26 00:29:05,021 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.6226043701171875e-06
2023-11-26 00:29:05,509 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:05,526 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:05,527 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:05,531 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:05,531 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:05,532 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:05,533 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:05,533 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:05,533 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:05,536 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:05,540 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 0: 1048576
2023-11-26 00:29:05,541 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:05,542 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:05,542 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:05,542 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:05,545 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:05,549 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 1: 1048576
2023-11-26 00:29:05,550 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:05,551 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:05,551 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:05,552 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:05,553 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 2: 57063
2023-11-26 00:29:05,553 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:05,564 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:05,565 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:29:06,299 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:06,309 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:06,310 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:06,314 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:06,315 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:06,315 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:06,316 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:06,317 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:06,317 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:06,319 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:06,323 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 0: 1048576
2023-11-26 00:29:06,323 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:06,324 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:06,325 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:06,325 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:06,325 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:06,326 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:06,327 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:06,331 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 1: 1048576
2023-11-26 00:29:06,332 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:06,333 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 2: 57063
2023-11-26 00:29:06,334 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:06,339 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:06,340 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:29:07,247 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:07,257 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:07,258 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:07,262 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:07,262 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:07,263 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:07,264 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:07,265 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:07,265 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:07,267 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:07,269 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 0: 1048576
2023-11-26 00:29:07,270 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:07,271 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:07,272 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:07,272 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:07,272 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:07,273 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:07,274 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:07,277 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 1: 1048576
2023-11-26 00:29:07,277 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:07,278 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 2: 57063
2023-11-26 00:29:07,279 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:07,287 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:07,288 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:29:11,148 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,150 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:11,150 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,151 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:11,408 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.336042481184006
2023-11-26 00:29:11,409 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 2062/10000 (0.2062)
2023-11-26 00:29:11,410 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006]
2023-11-26 00:29:11,411 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.3899126052856445
2023-11-26 00:29:11,412 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.3899126052856445
2023-11-26 00:29:11,412 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:29:11,413 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004544258117675781
2023-11-26 00:29:11,413 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004544258117675781
2023-11-26 00:29:11,414 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 65.9
2023-11-26 00:29:11,414 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 79.8
2023-11-26 00:29:11,415 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 73.25714285714285
2023-11-26 00:29:11,416 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 71.35
2023-11-26 00:29:11,417 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 73.8
2023-11-26 00:29:11,418 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 75.3
2023-11-26 00:29:11,419 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 4.031255438218129
2023-11-26 00:29:11,419 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1093496832
2023-11-26 00:29:11,420 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1095606272
2023-11-26 00:29:11,420 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1094970221.7142856
2023-11-26 00:29:11,421 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1094512640.0
2023-11-26 00:29:11,422 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1095524352.0
2023-11-26 00:29:11,423 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1095569408.0
2023-11-26 00:29:11,423 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 928603.4629586386
2023-11-26 00:29:11,424 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321057792
2023-11-26 00:29:11,424 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321111040
2023-11-26 00:29:11,424 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321065398.857143
2023-11-26 00:29:11,425 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321057792.0
2023-11-26 00:29:11,425 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321057792.0
2023-11-26 00:29:11,425 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321057792.0
2023-11-26 00:29:11,426 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 18632.918546245528
2023-11-26 00:29:11,426 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.336042481184006, 'test-accuracy': 0.2062, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0004410743713378906, 'send.bytes': 6462612, 'distribute.runtime': 0.05608773231506348, 'recv.bytes': 6462645, 'aggregate.runtime': 0.04030299186706543, 'train.runtime': 2.6226043701171875e-06, 'evaluate.runtime': 6.3899126052856445, 'analysis.runtime': 0.0004544258117675781, 'min.cpu_utilization': 65.9, 'max.cpu_utilization': 79.8, 'mean.cpu_utilization': 73.25714285714285, '25th_prcntl.cpu_utilization': 71.35, '50th_prcntl.cpu_utilization': 73.8, '75th_prcntl.cpu_utilization': 75.3, 'std.cpu_utilization': 4.031255438218129, 'min.cpu_memory_rss': 1093496832, 'max.cpu_memory_rss': 1095606272, 'mean.cpu_memory_rss': 1094970221.7142856, '25th_prcntl.cpu_memory_rss': 1094512640.0, '50th_prcntl.cpu_memory_rss': 1095524352.0, '75th_prcntl.cpu_memory_rss': 1095569408.0, 'std.cpu_memory_rss': 928603.4629586386, 'min.cpu_memory_vsz': 14321057792, 'max.cpu_memory_vsz': 14321111040, 'mean.cpu_memory_vsz': 14321065398.857143, '25th_prcntl.cpu_memory_vsz': 14321057792.0, '50th_prcntl.cpu_memory_vsz': 14321057792.0, '75th_prcntl.cpu_memory_vsz': 14321057792.0, 'std.cpu_memory_vsz': 18632.918546245528, 'save_metrics.runtime': 0.012127876281738281, 'inc_round.runtime': 0.0010879039764404297}
2023-11-26 00:29:11,427 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:29:11,427 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.013235330581665039
2023-11-26 00:29:11,427 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.013235330581665039
2023-11-26 00:29:11,427 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 15
2023-11-26 00:29:11,427 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:29:11,428 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:11,428 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 16
2023-11-26 00:29:11,428 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008580684661865234
2023-11-26 00:29:11,428 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008580684661865234
2023-11-26 00:29:11,429 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:29:11,429 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:29:11,429 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00039458274841308594
2023-11-26 00:29:11,429 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00039458274841308594
2023-11-26 00:29:11,429 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:11,430 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:11,431 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:11,432 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:11,433 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:11,433 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:11,434 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:11,434 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:11,434 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:11,435 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:29:11,435 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:11,435 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: recvd
2023-11-26 00:29:11,436 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:11,436 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:11,436 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:11,437 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:11,437 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:11,438 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:29:11,438 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958551.438469, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:11,457 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:29:11,458 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:11,458 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:11,460 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:11,464 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,464 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,466 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,467 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,467 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,469 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,470 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,470 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,470 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,470 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,471 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,471 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,471 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:29:11,472 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:11,473 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,474 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,475 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,475 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,475 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,475 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,475 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,476 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,476 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,476 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,476 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,476 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,476 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:29:11,476 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:11,477 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,477 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,477 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,477 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,478 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,479 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,479 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,480 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,480 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,480 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,480 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,480 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,480 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:29:11,481 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05137991905212402
2023-11-26 00:29:11,481 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05137991905212402
2023-11-26 00:29:11,482 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:11,482 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:11,483 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:11,483 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:11,483 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:11,483 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:11,483 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:29:11,483 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:11,483 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:11,483 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:11,483 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:11,484 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:11,484 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:11,484 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:11,484 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:11,485 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:29:11,485 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:29:11,485 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:29:11,485 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:29:11,485 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:29:11,485 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:29:11,487 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:11,487 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:11,501 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958551.5019124, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:11,502 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958551.502433, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:11,504 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:29:11,520 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:11,520 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 16, trainer version: 14
2023-11-26 00:29:11,520 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:29:11,520 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:29:11,520 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:11,520 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:11,520 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:11,526 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 16, trainer ver: 14
agg ver: 16, trainer ver: 14
2023-11-26 00:29:11,527 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:11,527 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:29:11,527 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:29:11,527 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.045706987380981445
2023-11-26 00:29:11,528 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.045706987380981445
2023-11-26 00:29:11,528 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:11,528 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:11,529 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:11,529 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:11,530 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:11,530 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:11,530 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:11,530 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:11,531 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:11,531 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:29:11,531 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:11,531 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:11,531 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:11,531 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:29:11,532 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:11,532 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580377'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:11,532 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:11,532 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None}
2023-11-26 00:29:11,533 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958551.533139, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:11,545 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:29:11,546 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:11,546 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:11,546 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:11,548 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,549 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,552 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,553 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,554 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,555 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,556 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,556 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,556 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,556 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,557 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,557 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,557 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:29:11,557 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:11,559 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,559 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,561 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,561 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,562 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,563 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,564 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,564 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,566 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,567 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,571 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,573 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,573 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:29:11,574 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:11,574 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,575 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,575 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,576 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,576 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,576 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,576 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,576 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,577 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,577 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,577 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,577 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,577 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:29:11,578 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05031394958496094
2023-11-26 00:29:11,578 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05031394958496094
2023-11-26 00:29:11,579 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:11,579 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:11,580 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:11,580 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:11,580 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:11,580 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:11,580 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:29:11,581 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:11,581 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:11,581 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:11,581 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:11,581 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:11,581 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:11,581 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:29:11,582 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:11,582 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-586' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:29:11,583 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:29:11,583 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:29:11,590 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958551.5903914, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:29:11,590 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958551.5906522, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:29:11,592 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580373's parameters trained with 1384 samples
2023-11-26 00:29:11,602 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:11,602 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 16, trainer version: 15
2023-11-26 00:29:11,602 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:29:11,602 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580373 in dict
2023-11-26 00:29:11,602 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:11,602 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:11,603 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:11,608 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 16, trainer ver: 15
agg ver: 16, trainer ver: 15
2023-11-26 00:29:11,608 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:11,608 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:29:11,609 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:29:11,609 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.030165433883666992
2023-11-26 00:29:11,609 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.030165433883666992
2023-11-26 00:29:11,609 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:11,610 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:11,610 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:11,611 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:11,612 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:11,613 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:11,613 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:11,613 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:11,614 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:11,614 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: recvd
2023-11-26 00:29:11,614 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:11,614 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:11,615 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:11,615 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:11,615 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:11,616 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580372'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:11,616 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:11,616 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580372': None}
2023-11-26 00:29:11,617 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958551.617264, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:29:11,628 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:29:11,630 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:11,631 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:11,633 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:11,649 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,650 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,651 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,652 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,653 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,653 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,654 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,654 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,655 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,655 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,656 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,657 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,657 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:29:11,658 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:11,661 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,662 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,663 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,663 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,664 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,664 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,665 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,665 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,666 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,666 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,667 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,668 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,668 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:29:11,668 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:11,668 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,669 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,669 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,669 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,669 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,669 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:11,669 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,669 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,669 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:11,670 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,670 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:11,670 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:11,670 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:29:11,670 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.060956716537475586
2023-11-26 00:29:11,670 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.060956716537475586
2023-11-26 00:29:11,670 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:11,671 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:11,671 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:11,671 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:11,671 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:11,671 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:11,671 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:11,671 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:11,671 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:29:11,671 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:11,672 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:11,672 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:11,672 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:11,672 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:29:11,672 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:11,672 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-593' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:29:11,673 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:29:11,673 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:29:11,678 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958551.6780856, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:29:11,678 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958551.6784415, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:29:11,680 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580378's parameters trained with 4612 samples
2023-11-26 00:29:11,688 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:11,689 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 16, trainer version: 15
2023-11-26 00:29:11,689 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:29:11,689 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580378 in dict
2023-11-26 00:29:11,689 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:11,689 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:11,689 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:11,694 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 16, trainer ver: 15
agg ver: 16, trainer ver: 15
2023-11-26 00:29:11,695 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:11,695 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:29:11,695 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:29:11,696 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:29:11,696 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:29:11,697 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 16
2023-11-26 00:29:11,697 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 16, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 7, '505f9fc483cf4df68a2409257b5fad7d3c580376': 6, '505f9fc483cf4df68a2409257b5fad7d3c580378': 6, '505f9fc483cf4df68a2409257b5fad7d3c580372': 3, '505f9fc483cf4df68a2409257b5fad7d3c580377': 6, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 4, '505f9fc483cf4df68a2409257b5fad7d3c580374': 3, '505f9fc483cf4df68a2409257b5fad7d3c580371': 2, '505f9fc483cf4df68a2409257b5fad7d3c580373': 8}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 7, '505f9fc483cf4df68a2409257b5fad7d3c580376': 6, '505f9fc483cf4df68a2409257b5fad7d3c580378': 6, '505f9fc483cf4df68a2409257b5fad7d3c580372': 3, '505f9fc483cf4df68a2409257b5fad7d3c580377': 6, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 4, '505f9fc483cf4df68a2409257b5fad7d3c580374': 3, '505f9fc483cf4df68a2409257b5fad7d3c580371': 2, '505f9fc483cf4df68a2409257b5fad7d3c580373': 8}
2023-11-26 00:29:11,697 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2291666666666667
2023-11-26 00:29:11,698 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.8571428571428571, P50 1.0, P90 1.4000000000000004, P99 1.9399999999999995
2023-11-26 00:29:11,699 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.5, P99 1.9500000000000002
2023-11-26 00:29:11,699 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.1666666666666667, P50 1.0, P90 1.5, P99 1.9500000000000002
2023-11-26 00:29:11,700 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 1.8, P99 1.98
2023-11-26 00:29:11,700 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:11,700 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:11,701 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:11,701 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:11,702 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:11,702 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:11,702 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03201580047607422
2023-11-26 00:29:11,703 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03201580047607422
2023-11-26 00:29:11,703 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.86102294921875e-06
2023-11-26 00:29:11,703 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.86102294921875e-06
2023-11-26 00:29:12,348 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:12,356 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:12,357 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:12,361 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:12,362 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:12,362 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:12,363 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:12,364 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:12,365 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:12,367 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:12,370 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 0: 1048576
2023-11-26 00:29:12,371 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:12,372 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:12,372 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:12,373 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:12,375 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:12,378 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 1: 1048576
2023-11-26 00:29:12,378 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:12,379 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:12,379 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:12,380 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:12,380 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 2: 57063
2023-11-26 00:29:12,381 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:12,390 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:12,391 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:29:12,635 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:12,643 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:12,644 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:12,649 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:12,649 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:12,650 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:12,652 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:12,652 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:12,653 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:12,655 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:12,659 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:29:12,659 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:12,660 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:12,661 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:12,661 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:12,661 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:12,662 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:12,664 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:12,668 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:29:12,669 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:12,670 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:29:12,671 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:12,677 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:12,678 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:29:13,316 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:13,321 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:13,322 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:13,325 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:13,325 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:13,326 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:13,327 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:13,328 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:13,328 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:13,329 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:13,334 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 0: 1048576
2023-11-26 00:29:13,334 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:13,335 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:13,336 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:13,336 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:13,337 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:13,337 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:13,338 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:13,341 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 1: 1048576
2023-11-26 00:29:13,341 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:13,342 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 2: 57063
2023-11-26 00:29:13,343 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:13,351 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:13,352 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:29:17,870 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.4654999679803846
2023-11-26 00:29:17,872 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 2197/10000 (0.2197)
2023-11-26 00:29:17,874 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846]
2023-11-26 00:29:17,875 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.171669006347656
2023-11-26 00:29:17,875 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.171669006347656
2023-11-26 00:29:17,876 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:29:17,877 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004858970642089844
2023-11-26 00:29:17,877 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004858970642089844
2023-11-26 00:29:17,878 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 67.9
2023-11-26 00:29:17,878 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 82.8
2023-11-26 00:29:17,879 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 72.53333333333332
2023-11-26 00:29:17,880 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 68.15
2023-11-26 00:29:17,881 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 70.85
2023-11-26 00:29:17,882 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 74.375
2023-11-26 00:29:17,882 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 5.279099249766844
2023-11-26 00:29:17,883 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1095905280
2023-11-26 00:29:17,883 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1097965568
2023-11-26 00:29:17,883 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1097523882.6666667
2023-11-26 00:29:17,884 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1097818112.0
2023-11-26 00:29:17,884 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1097818112.0
2023-11-26 00:29:17,885 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1097818112.0
2023-11-26 00:29:17,885 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 725860.8829747535
2023-11-26 00:29:17,885 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321352704
2023-11-26 00:29:17,886 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321401856
2023-11-26 00:29:17,886 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321377280.0
2023-11-26 00:29:17,886 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321352704.0
2023-11-26 00:29:17,887 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321377280.0
2023-11-26 00:29:17,887 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321401856.0
2023-11-26 00:29:17,888 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 24576.0
2023-11-26 00:29:17,888 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.4654999679803846, 'test-accuracy': 0.2197, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00039458274841308594, 'send.bytes': 6462612, 'distribute.runtime': 0.060956716537475586, 'recv.bytes': 6462645, 'aggregate.runtime': 0.03201580047607422, 'train.runtime': 2.86102294921875e-06, 'evaluate.runtime': 6.171669006347656, 'analysis.runtime': 0.0004858970642089844, 'min.cpu_utilization': 67.9, 'max.cpu_utilization': 82.8, 'mean.cpu_utilization': 72.53333333333332, '25th_prcntl.cpu_utilization': 68.15, '50th_prcntl.cpu_utilization': 70.85, '75th_prcntl.cpu_utilization': 74.375, 'std.cpu_utilization': 5.279099249766844, 'min.cpu_memory_rss': 1095905280, 'max.cpu_memory_rss': 1097965568, 'mean.cpu_memory_rss': 1097523882.6666667, '25th_prcntl.cpu_memory_rss': 1097818112.0, '50th_prcntl.cpu_memory_rss': 1097818112.0, '75th_prcntl.cpu_memory_rss': 1097818112.0, 'std.cpu_memory_rss': 725860.8829747535, 'min.cpu_memory_vsz': 14321352704, 'max.cpu_memory_vsz': 14321401856, 'mean.cpu_memory_vsz': 14321377280.0, '25th_prcntl.cpu_memory_vsz': 14321352704.0, '50th_prcntl.cpu_memory_vsz': 14321377280.0, '75th_prcntl.cpu_memory_vsz': 14321401856.0, 'std.cpu_memory_vsz': 24576.0, 'save_metrics.runtime': 0.013235330581665039, 'inc_round.runtime': 0.0008580684661865234}
2023-11-26 00:29:17,888 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:29:17,889 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011450529098510742
2023-11-26 00:29:17,889 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011450529098510742
2023-11-26 00:29:17,889 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 16
2023-11-26 00:29:17,889 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:29:17,890 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:17,890 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 17
2023-11-26 00:29:17,890 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008225440979003906
2023-11-26 00:29:17,890 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008225440979003906
2023-11-26 00:29:17,891 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:29:17,891 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:29:17,891 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00039696693420410156
2023-11-26 00:29:17,891 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00039696693420410156
2023-11-26 00:29:17,891 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:17,892 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:17,893 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:17,894 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:17,895 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:17,896 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:17,896 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:17,896 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:17,897 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:17,897 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:17,897 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:17,898 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:29:17,898 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: recvd
2023-11-26 00:29:17,898 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:17,899 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:17,899 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580374'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:17,899 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:17,900 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580374': None}
2023-11-26 00:29:17,900 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958557.9006615, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:29:17,916 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:29:17,916 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:17,917 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:17,918 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:17,924 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:17,925 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:17,927 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:17,927 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:17,927 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:17,930 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:17,930 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:17,930 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:17,931 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:17,931 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:17,931 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:17,931 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:17,932 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:29:17,932 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:17,934 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:17,934 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:17,935 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:17,936 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:17,936 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:17,936 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:17,936 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:17,936 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:17,937 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:17,937 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:17,937 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:17,937 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:17,937 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:29:17,937 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:17,938 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:17,938 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:17,938 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:17,938 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:17,938 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:17,940 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:17,940 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:17,940 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:17,940 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:17,941 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:17,941 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:17,941 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:17,941 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:29:17,941 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05004262924194336
2023-11-26 00:29:17,942 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05004262924194336
2023-11-26 00:29:17,942 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:17,943 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:17,943 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:17,944 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:17,944 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:17,944 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:17,944 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:17,944 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:17,944 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:29:17,944 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:17,944 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:17,944 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:17,944 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:17,945 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:29:17,945 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:17,946 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:17,946 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:29:17,946 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:29:17,946 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:29:17,947 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:17,947 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:17,948 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:29:17,949 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:29:17,964 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958557.9640613, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:29:17,964 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958557.9645576, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:29:17,966 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580371's parameters trained with 8920 samples
2023-11-26 00:29:17,981 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:17,981 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 17, trainer version: 15
2023-11-26 00:29:17,981 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:29:17,981 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580371 in dict
2023-11-26 00:29:17,981 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:17,982 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:17,982 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:17,987 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 17, trainer ver: 15
agg ver: 17, trainer ver: 15
2023-11-26 00:29:17,988 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:17,988 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:29:17,988 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:29:17,988 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04600191116333008
2023-11-26 00:29:17,989 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04600191116333008
2023-11-26 00:29:17,989 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:17,989 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:17,990 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:17,990 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:17,991 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:17,991 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:17,991 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:17,991 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:17,992 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:17,992 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: recvd
2023-11-26 00:29:17,992 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:17,992 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:29:17,992 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:17,992 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:17,993 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:17,993 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:17,993 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:17,993 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:17,994 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958557.994142, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:18,005 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:29:18,006 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:18,006 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:18,007 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:18,009 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:18,009 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,010 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:18,011 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,011 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,014 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:18,014 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,014 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,014 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:18,015 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,015 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,015 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,015 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:29:18,016 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:18,017 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:18,018 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,019 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:18,019 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,019 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,020 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:18,020 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,020 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,020 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:18,020 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,021 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,021 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,021 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:29:18,021 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:18,021 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:18,022 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,022 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:18,022 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,022 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,024 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:18,024 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,025 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,025 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:18,025 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,025 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,025 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,025 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:29:18,026 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03692746162414551
2023-11-26 00:29:18,026 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03692746162414551
2023-11-26 00:29:18,027 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:18,028 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:18,028 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:18,028 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:18,029 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:18,029 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:18,029 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:18,030 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:29:18,030 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:18,030 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:18,030 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:18,031 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:18,031 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:18,031 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:18,032 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:18,033 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-620' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:29:18,034 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:18,034 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:18,040 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958558.040254, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:18,040 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958558.040637, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:18,041 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580377's parameters trained with 2122 samples
2023-11-26 00:29:18,056 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:18,057 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 17, trainer version: 16
2023-11-26 00:29:18,057 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:29:18,057 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580377 in dict
2023-11-26 00:29:18,057 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:18,057 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:18,057 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:18,062 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 17, trainer ver: 16
agg ver: 17, trainer ver: 16
2023-11-26 00:29:18,062 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:18,062 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:29:18,063 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:29:18,063 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03587079048156738
2023-11-26 00:29:18,063 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03587079048156738
2023-11-26 00:29:18,063 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:18,063 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:18,064 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:18,064 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:18,064 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:18,064 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:18,064 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:18,065 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:18,065 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:18,065 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: recvd
2023-11-26 00:29:18,065 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:29:18,065 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:18,065 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:18,065 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:18,066 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:18,066 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580373'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:18,066 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:18,066 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None}
2023-11-26 00:29:18,066 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958558.066616, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:29:18,072 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:29:18,074 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:18,074 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:18,075 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:18,077 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:18,077 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,078 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:18,078 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,078 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,079 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:18,079 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,079 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,079 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:18,080 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,080 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,080 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,080 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:29:18,080 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:18,082 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:18,082 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,082 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:18,083 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,083 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,083 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:18,083 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,083 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,083 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:18,083 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,084 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,084 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,084 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:29:18,084 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:18,084 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:18,084 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,084 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:18,085 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,085 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,085 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:18,085 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,085 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,085 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:18,085 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,085 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:18,086 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:18,086 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:29:18,086 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.02295684814453125
2023-11-26 00:29:18,086 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.02295684814453125
2023-11-26 00:29:18,087 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:18,087 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:18,087 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:18,087 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:18,087 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:18,088 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:18,088 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:29:18,088 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:29:18,088 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:18,088 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:18,088 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:18,088 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:18,088 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:18,088 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:18,088 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:18,089 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-627' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:29:18,089 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:18,090 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:18,095 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958558.0957592, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:18,096 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958558.096075, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:18,097 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:29:18,105 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:18,105 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 17, trainer version: 16
2023-11-26 00:29:18,106 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:29:18,106 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:29:18,107 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:18,107 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:18,108 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:18,113 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 17, trainer ver: 16
agg ver: 17, trainer ver: 16
2023-11-26 00:29:18,114 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:18,115 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:29:18,115 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:29:18,115 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:29:18,116 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:29:18,116 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 17
2023-11-26 00:29:18,117 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 17, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 8, '505f9fc483cf4df68a2409257b5fad7d3c580376': 6, '505f9fc483cf4df68a2409257b5fad7d3c580378': 6, '505f9fc483cf4df68a2409257b5fad7d3c580372': 3, '505f9fc483cf4df68a2409257b5fad7d3c580377': 7, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 4, '505f9fc483cf4df68a2409257b5fad7d3c580374': 3, '505f9fc483cf4df68a2409257b5fad7d3c580371': 3, '505f9fc483cf4df68a2409257b5fad7d3c580373': 8}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 8, '505f9fc483cf4df68a2409257b5fad7d3c580376': 6, '505f9fc483cf4df68a2409257b5fad7d3c580378': 6, '505f9fc483cf4df68a2409257b5fad7d3c580372': 3, '505f9fc483cf4df68a2409257b5fad7d3c580377': 7, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 4, '505f9fc483cf4df68a2409257b5fad7d3c580374': 3, '505f9fc483cf4df68a2409257b5fad7d3c580371': 3, '505f9fc483cf4df68a2409257b5fad7d3c580373': 8}
2023-11-26 00:29:18,117 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2352941176470589
2023-11-26 00:29:18,117 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.875, P50 1.0, P90 1.2999999999999998, P99 1.9299999999999997
2023-11-26 00:29:18,118 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.5, P99 1.9500000000000002
2023-11-26 00:29:18,118 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.1666666666666667, P50 1.0, P90 1.5, P99 1.9500000000000002
2023-11-26 00:29:18,119 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 1.8, P99 1.98
2023-11-26 00:29:18,119 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:18,120 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:18,120 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:18,120 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:18,121 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:18,121 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:18,122 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03488874435424805
2023-11-26 00:29:18,122 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03488874435424805
2023-11-26 00:29:18,122 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.1457672119140625e-06
2023-11-26 00:29:18,122 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.1457672119140625e-06
2023-11-26 00:29:18,676 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:18,692 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:18,693 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:18,697 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:18,697 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:18,697 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:18,699 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:18,699 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:18,700 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:18,701 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:18,704 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 0: 1048576
2023-11-26 00:29:18,705 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:18,706 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:18,706 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:18,706 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:18,709 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:18,713 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 1: 1048576
2023-11-26 00:29:18,714 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:18,715 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:18,715 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:18,715 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:18,716 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:18,716 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 2: 57063
2023-11-26 00:29:18,726 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:18,726 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:29:19,377 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:19,380 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:19,380 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:19,380 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:19,381 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:19,384 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:19,384 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:19,384 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:19,385 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:19,385 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:19,385 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:19,386 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:19,390 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:29:19,392 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:19,393 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:19,393 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:19,393 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:19,393 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:19,394 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:19,394 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:19,399 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:29:19,399 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:19,400 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:19,400 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:19,401 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:19,401 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:29:19,402 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:19,410 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:19,411 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:29:19,639 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:19,642 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:19,643 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:19,644 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:19,644 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:19,647 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:19,648 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:19,649 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:19,650 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:19,650 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:19,651 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:19,653 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:19,660 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 0: 1048576
2023-11-26 00:29:19,660 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:19,662 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:19,663 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:19,664 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:19,670 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 1: 1048576
2023-11-26 00:29:19,671 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:19,691 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:19,692 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:19,693 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:19,694 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:19,695 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:19,695 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 2: 57063
2023-11-26 00:29:19,696 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:19,702 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:19,703 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:29:24,468 | main.py:161 | INFO | MainThread | evaluate | Test loss: 3.414678170979023
2023-11-26 00:29:24,469 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1744/10000 (0.1744)
2023-11-26 00:29:24,470 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023]
2023-11-26 00:29:24,471 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.34843635559082
2023-11-26 00:29:24,471 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.34843635559082
2023-11-26 00:29:24,472 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:29:24,472 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004220008850097656
2023-11-26 00:29:24,472 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004220008850097656
2023-11-26 00:29:24,473 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 68.9
2023-11-26 00:29:24,473 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 79.9
2023-11-26 00:29:24,474 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 73.91428571428571
2023-11-26 00:29:24,475 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 71.4
2023-11-26 00:29:24,476 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 72.9
2023-11-26 00:29:24,477 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 76.45
2023-11-26 00:29:24,477 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 3.7986571204002266
2023-11-26 00:29:24,478 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1097969664
2023-11-26 00:29:24,478 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1100095488
2023-11-26 00:29:24,479 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1099488694.857143
2023-11-26 00:29:24,479 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1099034624.0
2023-11-26 00:29:24,480 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1100095488.0
2023-11-26 00:29:24,481 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1100095488.0
2023-11-26 00:29:24,481 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 959424.8245270151
2023-11-26 00:29:24,482 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321352704
2023-11-26 00:29:24,482 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321405952
2023-11-26 00:29:24,482 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321367332.571428
2023-11-26 00:29:24,483 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321352704.0
2023-11-26 00:29:24,483 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321352704.0
2023-11-26 00:29:24,484 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321377280.0
2023-11-26 00:29:24,484 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 23155.693202179664
2023-11-26 00:29:24,484 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 3.414678170979023, 'test-accuracy': 0.1744, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00039696693420410156, 'send.bytes': 6462612, 'distribute.runtime': 0.02295684814453125, 'recv.bytes': 6462645, 'aggregate.runtime': 0.03488874435424805, 'train.runtime': 2.1457672119140625e-06, 'evaluate.runtime': 6.34843635559082, 'analysis.runtime': 0.0004220008850097656, 'min.cpu_utilization': 68.9, 'max.cpu_utilization': 79.9, 'mean.cpu_utilization': 73.91428571428571, '25th_prcntl.cpu_utilization': 71.4, '50th_prcntl.cpu_utilization': 72.9, '75th_prcntl.cpu_utilization': 76.45, 'std.cpu_utilization': 3.7986571204002266, 'min.cpu_memory_rss': 1097969664, 'max.cpu_memory_rss': 1100095488, 'mean.cpu_memory_rss': 1099488694.857143, '25th_prcntl.cpu_memory_rss': 1099034624.0, '50th_prcntl.cpu_memory_rss': 1100095488.0, '75th_prcntl.cpu_memory_rss': 1100095488.0, 'std.cpu_memory_rss': 959424.8245270151, 'min.cpu_memory_vsz': 14321352704, 'max.cpu_memory_vsz': 14321405952, 'mean.cpu_memory_vsz': 14321367332.571428, '25th_prcntl.cpu_memory_vsz': 14321352704.0, '50th_prcntl.cpu_memory_vsz': 14321352704.0, '75th_prcntl.cpu_memory_vsz': 14321377280.0, 'std.cpu_memory_vsz': 23155.693202179664, 'save_metrics.runtime': 0.011450529098510742, 'inc_round.runtime': 0.0008225440979003906}
2023-11-26 00:29:24,485 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:29:24,485 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011986970901489258
2023-11-26 00:29:24,485 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011986970901489258
2023-11-26 00:29:24,485 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 17
2023-11-26 00:29:24,485 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:29:24,486 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:24,486 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 18
2023-11-26 00:29:24,486 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0007131099700927734
2023-11-26 00:29:24,486 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0007131099700927734
2023-11-26 00:29:24,486 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:29:24,487 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:29:24,487 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00036787986755371094
2023-11-26 00:29:24,487 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00036787986755371094
2023-11-26 00:29:24,487 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:24,488 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:24,488 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:24,489 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:24,490 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:24,490 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:24,491 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:24,491 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:24,491 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:24,492 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:29:24,492 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:29:24,492 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:24,492 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:29:24,493 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:24,493 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:24,493 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580377'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:24,494 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:24,494 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None}
2023-11-26 00:29:24,495 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958564.4949925, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:24,506 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:29:24,506 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:24,507 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:24,507 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:24,509 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:24,509 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,511 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:24,512 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,512 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,514 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:24,515 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,515 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,516 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:24,516 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,516 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,516 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,517 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:29:24,517 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:24,518 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:24,519 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,520 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:24,520 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,520 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,521 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:24,521 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,521 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,521 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:24,522 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,522 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,522 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,522 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:29:24,522 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:24,523 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:24,523 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,523 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:24,524 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,524 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,525 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:24,525 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,526 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,526 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:24,526 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,526 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,527 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,527 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:29:24,527 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.039945125579833984
2023-11-26 00:29:24,528 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.039945125579833984
2023-11-26 00:29:24,528 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:24,529 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:24,529 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:24,529 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:24,529 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:24,529 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:24,530 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:29:24,530 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:24,530 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:29:24,530 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:24,530 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:24,530 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:24,530 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:24,530 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:24,531 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:24,532 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:29:24,532 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:24,532 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:29:24,532 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:24,532 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:24,532 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:24,534 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:29:24,534 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:29:24,547 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958564.5477595, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:29:24,548 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958564.5481875, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:29:24,550 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580372's parameters trained with 5929 samples
2023-11-26 00:29:24,566 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:24,566 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 18, trainer version: 16
2023-11-26 00:29:24,566 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:29:24,566 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580372 in dict
2023-11-26 00:29:24,566 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:24,566 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:24,567 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:24,572 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 18, trainer ver: 16
agg ver: 18, trainer ver: 16
2023-11-26 00:29:24,572 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:24,573 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:29:24,573 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:29:24,573 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.044998884201049805
2023-11-26 00:29:24,573 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.044998884201049805
2023-11-26 00:29:24,573 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:24,574 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:24,574 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:24,575 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:24,576 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:24,576 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:24,576 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:24,577 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:24,577 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:24,577 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:29:24,577 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:24,578 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: recvd
2023-11-26 00:29:24,578 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:24,578 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:24,579 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:24,579 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580380'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:24,579 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:24,579 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580380': None}
2023-11-26 00:29:24,580 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958564.5803754, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:29:24,591 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:29:24,592 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:24,592 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:24,593 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:24,595 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:24,596 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,598 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:24,599 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,599 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,601 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:24,602 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,603 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,604 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:24,604 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,606 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,607 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,609 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:29:24,611 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:24,613 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:24,614 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,619 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:24,619 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,619 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,627 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:24,628 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,628 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,628 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:24,628 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,628 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,628 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,628 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:29:24,628 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:24,629 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:24,629 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,629 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:24,629 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,629 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,629 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:24,629 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,630 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,630 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:24,630 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,630 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,630 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,630 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:29:24,630 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05695056915283203
2023-11-26 00:29:24,631 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05695056915283203
2023-11-26 00:29:24,631 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:24,631 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:24,631 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:24,631 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:24,631 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:24,631 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:24,632 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:29:24,632 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:24,632 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:24,632 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:24,632 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:24,632 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:24,632 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:24,632 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:24,632 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:24,633 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-654' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:29:24,633 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:29:24,633 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:29:24,636 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958564.6362545, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:29:24,636 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958564.6365235, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:29:24,637 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580373's parameters trained with 1384 samples
2023-11-26 00:29:24,645 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:24,645 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 18, trainer version: 17
2023-11-26 00:29:24,645 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:29:24,645 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580373 in dict
2023-11-26 00:29:24,645 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:24,646 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:24,646 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:24,650 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 18, trainer ver: 17
agg ver: 18, trainer ver: 17
2023-11-26 00:29:24,650 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:24,651 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:29:24,651 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:29:24,651 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.020083189010620117
2023-11-26 00:29:24,651 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.020083189010620117
2023-11-26 00:29:24,651 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:24,651 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:24,652 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:24,652 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:24,652 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:24,653 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:24,653 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:24,653 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:24,653 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:24,653 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: recvd
2023-11-26 00:29:24,653 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:24,654 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:24,654 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:24,654 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:24,654 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:24,654 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580379'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:24,654 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:24,654 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580379': None}
2023-11-26 00:29:24,655 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958564.655175, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:29:24,659 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:29:24,659 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:24,660 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:24,660 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:24,661 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:24,662 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,663 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:24,663 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,663 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,665 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:24,665 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,665 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,666 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:24,666 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,666 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,666 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,666 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:29:24,667 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:24,668 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:24,668 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,669 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:24,670 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,670 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,670 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:24,670 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,670 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,670 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:24,671 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,671 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,671 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,671 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:29:24,671 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:24,671 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:24,672 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,672 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:24,672 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,672 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,673 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:24,674 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,674 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,675 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:24,675 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,676 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:24,676 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:24,676 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:29:24,677 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.025636911392211914
2023-11-26 00:29:24,677 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.025636911392211914
2023-11-26 00:29:24,677 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:24,678 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:24,678 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:24,678 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:24,679 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:24,679 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:24,679 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:24,680 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:24,680 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:24,680 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:24,680 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:24,681 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:24,681 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:24,681 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:24,682 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:24,682 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-661' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:29:24,683 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:24,683 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:24,686 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958564.6865447, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:24,686 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958564.686936, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:24,689 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:29:24,701 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:24,702 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 18, trainer version: 17
2023-11-26 00:29:24,702 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:29:24,703 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:29:24,703 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:24,704 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:24,704 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:24,709 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 18, trainer ver: 17
agg ver: 18, trainer ver: 17
2023-11-26 00:29:24,710 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:24,710 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:29:24,711 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:29:24,711 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:29:24,712 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:29:24,715 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 18
2023-11-26 00:29:24,715 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 18, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 8, '505f9fc483cf4df68a2409257b5fad7d3c580376': 7, '505f9fc483cf4df68a2409257b5fad7d3c580378': 6, '505f9fc483cf4df68a2409257b5fad7d3c580372': 4, '505f9fc483cf4df68a2409257b5fad7d3c580377': 7, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 4, '505f9fc483cf4df68a2409257b5fad7d3c580374': 3, '505f9fc483cf4df68a2409257b5fad7d3c580371': 3, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 8, '505f9fc483cf4df68a2409257b5fad7d3c580376': 7, '505f9fc483cf4df68a2409257b5fad7d3c580378': 6, '505f9fc483cf4df68a2409257b5fad7d3c580372': 4, '505f9fc483cf4df68a2409257b5fad7d3c580377': 7, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 4, '505f9fc483cf4df68a2409257b5fad7d3c580374': 3, '505f9fc483cf4df68a2409257b5fad7d3c580371': 3, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}
2023-11-26 00:29:24,716 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2407407407407407
2023-11-26 00:29:24,716 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.875, P50 1.0, P90 1.2999999999999998, P99 1.9299999999999997
2023-11-26 00:29:24,717 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.4000000000000004, P99 1.9399999999999995
2023-11-26 00:29:24,718 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.1666666666666667, P50 1.0, P90 1.5, P99 1.9500000000000002
2023-11-26 00:29:24,719 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 2.0, P99 2.0
2023-11-26 00:29:24,720 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:24,724 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:24,724 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:24,724 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:24,725 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:24,725 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:24,726 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.048371315002441406
2023-11-26 00:29:24,726 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.048371315002441406
2023-11-26 00:29:24,726 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.6226043701171875e-06
2023-11-26 00:29:24,726 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.6226043701171875e-06
2023-11-26 00:29:25,326 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:25,337 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:25,337 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:25,341 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:25,342 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:25,342 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:25,343 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:25,343 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:25,344 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:25,346 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:25,348 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 0: 1048576
2023-11-26 00:29:25,348 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:25,349 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:25,349 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:25,349 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:25,351 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:25,353 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 1: 1048576
2023-11-26 00:29:25,353 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:25,354 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:25,354 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:25,355 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:25,355 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 2: 57063
2023-11-26 00:29:25,355 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:25,360 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:25,360 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:29:26,075 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:26,079 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:26,081 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:26,084 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:26,084 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:26,085 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:26,086 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:26,086 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:26,087 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:26,088 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:26,092 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 0: 1048576
2023-11-26 00:29:26,093 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:26,094 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:26,095 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:26,095 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:26,096 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:29:26,096 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:26,097 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:29:26,101 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 1: 1048576
2023-11-26 00:29:26,102 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:26,103 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 2: 57061
2023-11-26 00:29:26,105 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:26,109 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154213
2023-11-26 00:29:26,110 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308428
2023-11-26 00:29:26,869 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:26,872 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:26,873 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:26,873 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:26,874 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:26,876 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:26,876 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:26,877 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:26,877 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:26,877 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:26,878 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:26,879 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:26,883 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 0: 1048576
2023-11-26 00:29:26,884 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:26,885 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:26,885 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:26,885 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:26,885 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:26,886 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:26,887 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:26,891 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 1: 1048576
2023-11-26 00:29:26,891 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:26,893 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:26,893 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:26,893 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:26,894 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 2: 57063
2023-11-26 00:29:26,894 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:26,904 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:26,904 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462643
2023-11-26 00:29:31,104 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.9595007150650026
2023-11-26 00:29:31,107 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1476/10000 (0.1476)
2023-11-26 00:29:31,109 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026]
2023-11-26 00:29:31,109 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.382909774780273
2023-11-26 00:29:31,110 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.382909774780273
2023-11-26 00:29:31,110 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:29:31,111 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004749298095703125
2023-11-26 00:29:31,111 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004749298095703125
2023-11-26 00:29:31,112 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 67.9
2023-11-26 00:29:31,113 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 80.9
2023-11-26 00:29:31,113 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 73.71666666666665
2023-11-26 00:29:31,114 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 70.9
2023-11-26 00:29:31,115 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 71.9
2023-11-26 00:29:31,116 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 77.325
2023-11-26 00:29:31,116 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 4.615342770465578
2023-11-26 00:29:31,117 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1100111872
2023-11-26 00:29:31,117 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1102176256
2023-11-26 00:29:31,117 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1101832192.0
2023-11-26 00:29:31,118 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1102176256.0
2023-11-26 00:29:31,118 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1102176256.0
2023-11-26 00:29:31,119 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1102176256.0
2023-11-26 00:29:31,119 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 769350.4926104876
2023-11-26 00:29:31,119 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321352704
2023-11-26 00:29:31,120 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321401856
2023-11-26 00:29:31,120 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321369088.0
2023-11-26 00:29:31,121 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321352704.0
2023-11-26 00:29:31,121 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321352704.0
2023-11-26 00:29:31,122 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321389568.0
2023-11-26 00:29:31,122 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 23170.47500592079
2023-11-26 00:29:31,123 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.9595007150650026, 'test-accuracy': 0.1476, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00036787986755371094, 'send.bytes': 6462612, 'distribute.runtime': 0.025636911392211914, 'recv.bytes': 6462643, 'aggregate.runtime': 0.048371315002441406, 'train.runtime': 2.6226043701171875e-06, 'evaluate.runtime': 6.382909774780273, 'analysis.runtime': 0.0004749298095703125, 'min.cpu_utilization': 67.9, 'max.cpu_utilization': 80.9, 'mean.cpu_utilization': 73.71666666666665, '25th_prcntl.cpu_utilization': 70.9, '50th_prcntl.cpu_utilization': 71.9, '75th_prcntl.cpu_utilization': 77.325, 'std.cpu_utilization': 4.615342770465578, 'min.cpu_memory_rss': 1100111872, 'max.cpu_memory_rss': 1102176256, 'mean.cpu_memory_rss': 1101832192.0, '25th_prcntl.cpu_memory_rss': 1102176256.0, '50th_prcntl.cpu_memory_rss': 1102176256.0, '75th_prcntl.cpu_memory_rss': 1102176256.0, 'std.cpu_memory_rss': 769350.4926104876, 'min.cpu_memory_vsz': 14321352704, 'max.cpu_memory_vsz': 14321401856, 'mean.cpu_memory_vsz': 14321369088.0, '25th_prcntl.cpu_memory_vsz': 14321352704.0, '50th_prcntl.cpu_memory_vsz': 14321352704.0, '75th_prcntl.cpu_memory_vsz': 14321389568.0, 'std.cpu_memory_vsz': 23170.47500592079, 'save_metrics.runtime': 0.011986970901489258, 'inc_round.runtime': 0.0007131099700927734}
2023-11-26 00:29:31,123 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:29:31,123 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011335611343383789
2023-11-26 00:29:31,123 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011335611343383789
2023-11-26 00:29:31,124 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 18
2023-11-26 00:29:31,124 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:29:31,124 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:31,124 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 19
2023-11-26 00:29:31,124 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0007350444793701172
2023-11-26 00:29:31,125 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0007350444793701172
2023-11-26 00:29:31,125 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:29:31,125 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:29:31,125 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00042557716369628906
2023-11-26 00:29:31,126 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00042557716369628906
2023-11-26 00:29:31,126 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:31,127 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:31,128 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:31,129 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:31,130 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:31,130 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:31,131 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:31,131 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:31,132 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:31,132 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:31,132 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:31,133 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:31,133 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:31,133 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:29:31,134 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:31,134 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:31,135 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:31,135 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:29:31,136 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958571.1359906, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:31,153 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:29:31,153 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:31,154 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:31,155 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:31,160 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:31,160 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,162 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:31,163 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,163 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,166 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:31,166 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,166 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,166 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:31,166 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,167 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,167 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,167 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:29:31,167 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:31,169 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:31,170 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,171 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:31,171 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,172 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,172 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:31,172 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,172 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,172 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:31,173 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,173 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,173 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,173 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:29:31,173 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:31,173 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:31,174 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,174 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:31,174 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,174 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,176 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:31,176 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,176 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,176 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:31,176 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,176 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,177 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,177 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:29:31,177 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.051253557205200195
2023-11-26 00:29:31,178 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.051253557205200195
2023-11-26 00:29:31,178 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:31,179 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:31,179 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:31,179 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:31,179 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:31,179 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:31,179 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:31,180 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:31,180 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:31,180 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:31,180 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:31,180 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:31,180 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:31,180 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:29:31,181 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:31,181 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:31,182 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:31,182 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:29:31,182 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:31,182 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:29:31,182 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:31,184 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:29:31,184 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:29:31,193 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958571.1932523, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:29:31,193 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958571.1938248, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:29:31,195 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580374's parameters trained with 5749 samples
2023-11-26 00:29:31,211 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:31,211 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 19, trainer version: 17
2023-11-26 00:29:31,211 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:29:31,211 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580374 in dict
2023-11-26 00:29:31,212 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:31,212 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:31,212 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:31,218 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 19, trainer ver: 17
agg ver: 19, trainer ver: 17
2023-11-26 00:29:31,218 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:31,218 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:29:31,218 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:29:31,219 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04048800468444824
2023-11-26 00:29:31,219 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04048800468444824
2023-11-26 00:29:31,219 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:31,219 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:31,220 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:31,220 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:31,222 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:31,222 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:31,222 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:31,223 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:31,223 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:31,223 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:31,224 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: recvd
2023-11-26 00:29:31,224 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:31,224 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:31,224 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:31,225 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:31,225 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580374'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:31,225 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:31,226 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580374': None}
2023-11-26 00:29:31,226 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958571.2264268, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:29:31,237 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:29:31,238 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:31,239 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:31,240 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:31,242 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:31,242 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,244 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:31,244 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,245 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,247 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:31,248 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,248 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,248 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:31,249 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,249 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,250 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,250 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:29:31,250 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:31,252 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:31,253 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,254 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:31,255 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,255 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,256 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:31,256 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,256 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,257 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:31,257 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,258 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,258 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,258 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:29:31,259 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:31,259 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:31,260 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,260 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:31,261 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,261 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,261 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:31,262 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,262 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,262 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:31,263 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,263 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,263 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,264 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:29:31,264 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04523801803588867
2023-11-26 00:29:31,264 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04523801803588867
2023-11-26 00:29:31,265 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:31,268 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:31,268 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:31,269 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:31,269 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:31,269 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:31,270 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:31,270 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:31,270 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:31,270 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:31,271 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:31,271 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:31,271 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:31,272 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:29:31,272 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:31,273 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-688' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:29:31,274 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:31,274 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:31,280 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958571.2806027, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:31,280 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958571.2808237, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:31,281 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580377's parameters trained with 2122 samples
2023-11-26 00:29:31,290 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:31,290 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 19, trainer version: 18
2023-11-26 00:29:31,290 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:29:31,290 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580377 in dict
2023-11-26 00:29:31,290 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:31,290 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:31,290 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:31,295 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 19, trainer ver: 18
agg ver: 19, trainer ver: 18
2023-11-26 00:29:31,295 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:31,296 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:29:31,296 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:29:31,296 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.031373023986816406
2023-11-26 00:29:31,296 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.031373023986816406
2023-11-26 00:29:31,296 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:31,297 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:31,297 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:31,297 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:31,298 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:31,298 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:31,298 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:31,299 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:31,299 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:31,299 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: recvd
2023-11-26 00:29:31,299 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:31,300 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:31,300 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:31,300 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:31,300 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:31,300 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:31,301 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:31,301 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:31,301 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958571.3016891, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:31,308 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:29:31,309 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:31,310 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:31,310 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:31,312 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:31,313 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,314 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:31,314 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,315 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,317 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:31,317 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,318 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,318 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:31,318 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,318 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,319 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,319 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:29:31,319 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:31,321 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:31,321 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,323 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:31,323 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,323 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,324 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:31,324 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,325 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,325 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:31,325 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,325 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,326 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,326 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:29:31,326 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:31,327 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:31,327 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,327 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:31,327 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,328 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,328 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:31,328 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,328 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,329 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:31,329 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,329 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:31,330 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:31,330 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:29:31,330 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03388404846191406
2023-11-26 00:29:31,331 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03388404846191406
2023-11-26 00:29:31,331 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:31,343 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:31,344 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:31,344 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:31,344 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:31,344 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:31,344 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:31,344 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:31,345 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:31,345 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:31,345 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:31,345 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:31,345 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:31,345 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:31,345 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:31,346 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-695' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:29:31,347 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:29:31,347 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:29:31,351 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958571.3518558, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:29:31,352 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958571.3520942, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:29:31,353 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580380's parameters trained with 5285 samples
2023-11-26 00:29:31,366 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:31,366 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 19, trainer version: 18
2023-11-26 00:29:31,367 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:29:31,367 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580380 in dict
2023-11-26 00:29:31,367 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:31,367 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:31,367 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:31,371 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 19, trainer ver: 18
agg ver: 19, trainer ver: 18
2023-11-26 00:29:31,372 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:31,372 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:29:31,372 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:29:31,372 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:29:31,373 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:29:31,373 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 19
2023-11-26 00:29:31,374 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 19, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 8, '505f9fc483cf4df68a2409257b5fad7d3c580376': 7, '505f9fc483cf4df68a2409257b5fad7d3c580378': 6, '505f9fc483cf4df68a2409257b5fad7d3c580372': 4, '505f9fc483cf4df68a2409257b5fad7d3c580377': 8, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 5, '505f9fc483cf4df68a2409257b5fad7d3c580374': 4, '505f9fc483cf4df68a2409257b5fad7d3c580371': 3, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 8, '505f9fc483cf4df68a2409257b5fad7d3c580376': 7, '505f9fc483cf4df68a2409257b5fad7d3c580378': 6, '505f9fc483cf4df68a2409257b5fad7d3c580372': 4, '505f9fc483cf4df68a2409257b5fad7d3c580377': 8, '505f9fc483cf4df68a2409257b5fad7d3c580379': 3, '505f9fc483cf4df68a2409257b5fad7d3c580380': 5, '505f9fc483cf4df68a2409257b5fad7d3c580374': 4, '505f9fc483cf4df68a2409257b5fad7d3c580371': 3, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}
2023-11-26 00:29:31,374 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2456140350877194
2023-11-26 00:29:31,374 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.875, P50 1.0, P90 1.2999999999999998, P99 1.9299999999999997
2023-11-26 00:29:31,375 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.4000000000000004, P99 1.9399999999999995
2023-11-26 00:29:31,376 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.1666666666666667, P50 1.0, P90 1.5, P99 1.9500000000000002
2023-11-26 00:29:31,377 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 2.0, P99 2.0
2023-11-26 00:29:31,378 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:31,379 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:31,380 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.8, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:31,381 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.75, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:31,381 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:31,388 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:31,388 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.05757927894592285
2023-11-26 00:29:31,388 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.05757927894592285
2023-11-26 00:29:31,389 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 3.0994415283203125e-06
2023-11-26 00:29:31,389 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 3.0994415283203125e-06
2023-11-26 00:29:32,257 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:32,272 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:32,273 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:32,279 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:32,280 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:32,281 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:32,282 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:32,283 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:32,284 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:32,286 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:32,290 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:29:32,291 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:32,292 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:32,292 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:32,293 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:32,295 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:32,299 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:29:32,300 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:29:32,301 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:32,301 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:29:32,301 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:32,302 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57061
2023-11-26 00:29:32,302 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:32,313 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154213
2023-11-26 00:29:32,314 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154213
2023-11-26 00:29:32,624 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:32,628 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:32,629 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:32,631 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:32,632 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:32,633 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:32,634 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:32,635 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:32,635 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:32,637 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:32,641 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:29:32,642 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:32,643 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:32,644 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:32,644 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:32,645 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:32,645 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:32,646 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:32,649 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:29:32,650 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:32,651 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:29:32,651 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:32,659 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:32,660 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308428
2023-11-26 00:29:32,929 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:32,932 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:32,933 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:32,936 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:32,937 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:32,938 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:32,939 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:32,939 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:32,940 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:32,941 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:32,945 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 0: 1048576
2023-11-26 00:29:32,945 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:32,947 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:32,947 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:32,948 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:32,948 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:32,948 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:32,950 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:32,953 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 1: 1048576
2023-11-26 00:29:32,953 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:32,955 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 2: 57063
2023-11-26 00:29:32,955 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:32,965 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:32,966 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462643
2023-11-26 00:29:37,731 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.2169849021673205
2023-11-26 00:29:37,733 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1666/10000 (0.1666)
2023-11-26 00:29:37,735 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205]
2023-11-26 00:29:37,735 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.34607458114624
2023-11-26 00:29:37,736 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.34607458114624
2023-11-26 00:29:37,736 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:29:37,737 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.00044155120849609375
2023-11-26 00:29:37,737 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.00044155120849609375
2023-11-26 00:29:37,738 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 68.9
2023-11-26 00:29:37,738 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 82.8
2023-11-26 00:29:37,739 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 72.88571428571429
2023-11-26 00:29:37,740 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 70.1
2023-11-26 00:29:37,741 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 70.9
2023-11-26 00:29:37,742 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 73.69999999999999
2023-11-26 00:29:37,743 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 4.5224609518739305
2023-11-26 00:29:37,743 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1102159872
2023-11-26 00:29:37,743 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1102528512
2023-11-26 00:29:37,744 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1102453028.5714285
2023-11-26 00:29:37,744 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1102460928.0
2023-11-26 00:29:37,745 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1102516224.0
2023-11-26 00:29:37,745 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1102522368.0
2023-11-26 00:29:37,745 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 126206.51106461206
2023-11-26 00:29:37,746 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321295360
2023-11-26 00:29:37,746 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321631232
2023-11-26 00:29:37,746 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321555748.571428
2023-11-26 00:29:37,747 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:29:37,747 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:29:37,748 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321608704.0
2023-11-26 00:29:37,748 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 108366.81418069586
2023-11-26 00:29:37,749 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.2169849021673205, 'test-accuracy': 0.1666, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00042557716369628906, 'send.bytes': 6462612, 'distribute.runtime': 0.03388404846191406, 'recv.bytes': 6462643, 'aggregate.runtime': 0.05757927894592285, 'train.runtime': 3.0994415283203125e-06, 'evaluate.runtime': 6.34607458114624, 'analysis.runtime': 0.00044155120849609375, 'min.cpu_utilization': 68.9, 'max.cpu_utilization': 82.8, 'mean.cpu_utilization': 72.88571428571429, '25th_prcntl.cpu_utilization': 70.1, '50th_prcntl.cpu_utilization': 70.9, '75th_prcntl.cpu_utilization': 73.69999999999999, 'std.cpu_utilization': 4.5224609518739305, 'min.cpu_memory_rss': 1102159872, 'max.cpu_memory_rss': 1102528512, 'mean.cpu_memory_rss': 1102453028.5714285, '25th_prcntl.cpu_memory_rss': 1102460928.0, '50th_prcntl.cpu_memory_rss': 1102516224.0, '75th_prcntl.cpu_memory_rss': 1102522368.0, 'std.cpu_memory_rss': 126206.51106461206, 'min.cpu_memory_vsz': 14321295360, 'max.cpu_memory_vsz': 14321631232, 'mean.cpu_memory_vsz': 14321555748.571428, '25th_prcntl.cpu_memory_vsz': 14321582080.0, '50th_prcntl.cpu_memory_vsz': 14321582080.0, '75th_prcntl.cpu_memory_vsz': 14321608704.0, 'std.cpu_memory_vsz': 108366.81418069586, 'save_metrics.runtime': 0.011335611343383789, 'inc_round.runtime': 0.0007350444793701172}
2023-11-26 00:29:37,749 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:29:37,749 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011473655700683594
2023-11-26 00:29:37,749 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011473655700683594
2023-11-26 00:29:37,749 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 19
2023-11-26 00:29:37,750 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:29:37,750 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:37,750 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 20
2023-11-26 00:29:37,750 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008471012115478516
2023-11-26 00:29:37,751 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008471012115478516
2023-11-26 00:29:37,751 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:29:37,751 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:29:37,751 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00046896934509277344
2023-11-26 00:29:37,751 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00046896934509277344
2023-11-26 00:29:37,752 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:37,753 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:37,754 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:37,754 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:37,755 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:37,756 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:37,756 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:37,757 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:37,757 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:37,757 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:37,758 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: recvd
2023-11-26 00:29:37,758 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:37,759 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:37,759 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:37,759 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:37,760 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580377'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:37,760 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:37,760 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None}
2023-11-26 00:29:37,761 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958577.7614892, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:37,777 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:29:37,778 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:37,778 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:37,780 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:37,784 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:37,784 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,786 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:37,786 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,787 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,789 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:37,790 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,790 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,790 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:37,790 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,790 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,791 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,791 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:29:37,791 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:37,793 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:37,793 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,794 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:37,794 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,794 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,794 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:37,795 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,795 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,795 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:37,795 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,795 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,796 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,796 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:29:37,796 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:37,796 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:37,796 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,797 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:37,797 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,797 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,798 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:37,799 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,799 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,799 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:37,799 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,799 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,799 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,800 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:29:37,800 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.0481877326965332
2023-11-26 00:29:37,801 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.0481877326965332
2023-11-26 00:29:37,801 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:37,802 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:37,802 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:37,802 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:37,802 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:37,802 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:37,802 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:37,802 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:37,802 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:37,803 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:37,803 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:37,803 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:37,803 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:37,803 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:37,803 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:37,804 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:29:37,804 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:29:37,804 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:37,804 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:29:37,805 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:37,805 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:29:37,806 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:29:37,807 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:29:37,820 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958577.820826, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:29:37,821 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958577.8212657, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:29:37,823 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580379's parameters trained with 7607 samples
2023-11-26 00:29:37,837 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:37,837 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 20, trainer version: 18
2023-11-26 00:29:37,837 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:29:37,837 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580379 in dict
2023-11-26 00:29:37,837 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:37,838 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:37,838 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:37,843 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 20, trainer ver: 18
agg ver: 20, trainer ver: 18
2023-11-26 00:29:37,844 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:37,844 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:29:37,844 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:29:37,844 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04352235794067383
2023-11-26 00:29:37,845 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04352235794067383
2023-11-26 00:29:37,845 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:37,845 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:37,846 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:37,846 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:37,847 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:37,847 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:37,848 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:37,848 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:37,848 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:37,849 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:37,849 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:37,849 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: recvd
2023-11-26 00:29:37,850 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:37,850 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:37,850 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:37,851 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580378'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:37,851 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:37,851 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None}
2023-11-26 00:29:37,852 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958577.85242, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:29:37,860 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:29:37,861 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:37,861 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:37,862 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:37,864 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:37,864 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,865 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:37,866 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,866 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,868 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:37,869 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,869 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,869 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:37,870 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,870 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,870 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,871 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:29:37,871 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:37,873 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:37,873 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,875 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:37,875 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,876 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,876 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:37,876 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,876 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,877 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:37,877 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,877 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,877 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,877 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:29:37,878 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:37,878 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:37,878 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,878 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:37,879 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,879 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,880 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:37,880 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,880 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,880 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:37,881 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,881 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,881 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,881 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:29:37,881 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03670644760131836
2023-11-26 00:29:37,882 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03670644760131836
2023-11-26 00:29:37,882 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:37,883 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:37,883 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:37,883 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:37,883 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:37,884 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:37,884 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:37,884 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:37,884 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:37,884 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:37,884 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:37,884 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:37,884 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:37,885 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:37,885 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:37,886 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-722' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:29:37,886 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:37,887 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:37,892 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958577.8926773, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:37,893 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958577.8930335, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:37,894 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:29:37,915 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:37,915 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 20, trainer version: 19
2023-11-26 00:29:37,916 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:29:37,916 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:29:37,916 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:37,916 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:37,916 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:37,920 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 20, trainer ver: 19
agg ver: 20, trainer ver: 19
2023-11-26 00:29:37,920 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:37,921 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:29:37,921 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:29:37,921 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03883051872253418
2023-11-26 00:29:37,921 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03883051872253418
2023-11-26 00:29:37,921 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:37,922 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:37,922 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:37,922 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:37,923 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:37,923 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:37,923 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:37,923 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:37,923 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:37,923 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:37,923 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:37,924 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:37,924 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:29:37,924 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:37,924 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:37,924 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:37,924 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:37,924 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:29:37,924 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958577.9249067, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:37,928 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:29:37,928 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:37,929 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:37,929 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:37,932 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:37,933 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,934 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:37,934 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,934 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,935 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:37,935 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,935 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,936 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:37,936 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,936 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,936 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,936 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:29:37,937 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:37,938 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:37,939 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,939 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:37,940 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,940 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,940 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:37,940 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,941 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,941 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:37,941 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,941 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,941 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,942 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:29:37,942 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:37,942 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:37,942 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,942 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:37,943 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,943 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,943 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:37,943 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,943 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,944 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:37,944 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,944 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:37,944 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:37,944 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:29:37,945 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.023210763931274414
2023-11-26 00:29:37,945 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.023210763931274414
2023-11-26 00:29:37,945 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:37,946 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:37,946 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:37,946 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:37,947 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:37,947 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:37,947 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:37,947 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:37,947 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:37,947 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:37,948 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:37,948 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:37,948 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:37,948 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:37,949 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:37,949 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-729' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:29:37,950 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:37,950 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:37,957 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958577.9577127, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:37,958 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958577.9580002, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:37,959 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:29:37,972 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:37,973 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 20, trainer version: 19
2023-11-26 00:29:37,973 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:29:37,973 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:29:37,973 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:37,973 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:37,974 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:37,980 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 20, trainer ver: 19
agg ver: 20, trainer ver: 19
2023-11-26 00:29:37,980 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:37,981 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:29:37,981 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:29:37,982 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:29:37,982 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:29:37,984 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 20
2023-11-26 00:29:37,984 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 20, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 9, '505f9fc483cf4df68a2409257b5fad7d3c580376': 8, '505f9fc483cf4df68a2409257b5fad7d3c580378': 6, '505f9fc483cf4df68a2409257b5fad7d3c580372': 4, '505f9fc483cf4df68a2409257b5fad7d3c580377': 8, '505f9fc483cf4df68a2409257b5fad7d3c580379': 4, '505f9fc483cf4df68a2409257b5fad7d3c580380': 5, '505f9fc483cf4df68a2409257b5fad7d3c580374': 4, '505f9fc483cf4df68a2409257b5fad7d3c580371': 3, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 9, '505f9fc483cf4df68a2409257b5fad7d3c580376': 8, '505f9fc483cf4df68a2409257b5fad7d3c580378': 6, '505f9fc483cf4df68a2409257b5fad7d3c580372': 4, '505f9fc483cf4df68a2409257b5fad7d3c580377': 8, '505f9fc483cf4df68a2409257b5fad7d3c580379': 4, '505f9fc483cf4df68a2409257b5fad7d3c580380': 5, '505f9fc483cf4df68a2409257b5fad7d3c580374': 4, '505f9fc483cf4df68a2409257b5fad7d3c580371': 3, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}
2023-11-26 00:29:37,985 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.25
2023-11-26 00:29:37,986 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.8888888888888888, P50 1.0, P90 1.2000000000000002, P99 1.92
2023-11-26 00:29:37,986 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.2999999999999998, P99 1.9299999999999997
2023-11-26 00:29:37,987 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.1666666666666667, P50 1.0, P90 1.5, P99 1.9500000000000002
2023-11-26 00:29:37,988 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 2.0, P99 2.0
2023-11-26 00:29:37,989 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:37,990 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.75, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:37,996 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.8, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:37,996 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.75, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:37,997 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:37,997 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:37,998 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.05230545997619629
2023-11-26 00:29:37,998 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.05230545997619629
2023-11-26 00:29:37,998 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.86102294921875e-06
2023-11-26 00:29:37,998 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.86102294921875e-06
2023-11-26 00:29:38,588 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:38,602 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:38,604 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:38,607 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:38,608 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:38,608 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:38,609 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:38,609 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:38,610 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:38,613 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:38,617 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 0: 1048576
2023-11-26 00:29:38,618 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:38,619 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:38,619 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:38,620 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:38,620 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:38,624 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 1: 1048576
2023-11-26 00:29:38,625 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:38,626 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:38,627 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:38,627 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:38,628 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 2: 57063
2023-11-26 00:29:38,628 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:38,637 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:38,638 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:29:39,057 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:39,066 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:39,067 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:39,071 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:39,071 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:39,072 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:39,073 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:39,073 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:39,073 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:39,076 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:39,080 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:29:39,081 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:39,115 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:39,116 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:39,117 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:39,117 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:39,118 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:39,119 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:39,123 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:29:39,125 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:39,126 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:29:39,127 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:39,136 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:39,137 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:29:39,305 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:39,308 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:39,309 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:39,309 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:39,309 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:39,311 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:39,312 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:39,312 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:39,313 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:39,313 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:39,313 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:39,315 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:39,319 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 0: 1048576
2023-11-26 00:29:39,320 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:39,321 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:39,321 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:39,322 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:39,322 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:39,323 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:39,324 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:39,328 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 1: 1048576
2023-11-26 00:29:39,328 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:39,330 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:39,330 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:39,331 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:39,332 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 2: 57063
2023-11-26 00:29:39,332 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:39,343 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:39,344 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:29:44,304 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.4145374370336534
2023-11-26 00:29:44,307 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1515/10000 (0.1515)
2023-11-26 00:29:44,308 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534]
2023-11-26 00:29:44,309 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.310387134552002
2023-11-26 00:29:44,309 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.310387134552002
2023-11-26 00:29:44,310 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:29:44,310 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004050731658935547
2023-11-26 00:29:44,311 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004050731658935547
2023-11-26 00:29:44,311 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 67.9
2023-11-26 00:29:44,312 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 87.8
2023-11-26 00:29:44,312 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 72.72857142857141
2023-11-26 00:29:44,313 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 67.9
2023-11-26 00:29:44,314 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 70.8
2023-11-26 00:29:44,315 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 73.4
2023-11-26 00:29:44,315 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 6.613992588382877
2023-11-26 00:29:44,315 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1102528512
2023-11-26 00:29:44,316 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1102626816
2023-11-26 00:29:44,316 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1102585856.0
2023-11-26 00:29:44,317 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1102532608.0
2023-11-26 00:29:44,317 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1102626816.0
2023-11-26 00:29:44,318 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1102626816.0
2023-11-26 00:29:44,318 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 47364.05233628438
2023-11-26 00:29:44,318 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321582080
2023-11-26 00:29:44,319 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321631232
2023-11-26 00:29:44,319 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321589101.714285
2023-11-26 00:29:44,320 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:29:44,320 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:29:44,321 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:29:44,321 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 17199.617119611252
2023-11-26 00:29:44,321 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.4145374370336534, 'test-accuracy': 0.1515, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00046896934509277344, 'send.bytes': 6462612, 'distribute.runtime': 0.023210763931274414, 'recv.bytes': 6462645, 'aggregate.runtime': 0.05230545997619629, 'train.runtime': 2.86102294921875e-06, 'evaluate.runtime': 6.310387134552002, 'analysis.runtime': 0.0004050731658935547, 'min.cpu_utilization': 67.9, 'max.cpu_utilization': 87.8, 'mean.cpu_utilization': 72.72857142857141, '25th_prcntl.cpu_utilization': 67.9, '50th_prcntl.cpu_utilization': 70.8, '75th_prcntl.cpu_utilization': 73.4, 'std.cpu_utilization': 6.613992588382877, 'min.cpu_memory_rss': 1102528512, 'max.cpu_memory_rss': 1102626816, 'mean.cpu_memory_rss': 1102585856.0, '25th_prcntl.cpu_memory_rss': 1102532608.0, '50th_prcntl.cpu_memory_rss': 1102626816.0, '75th_prcntl.cpu_memory_rss': 1102626816.0, 'std.cpu_memory_rss': 47364.05233628438, 'min.cpu_memory_vsz': 14321582080, 'max.cpu_memory_vsz': 14321631232, 'mean.cpu_memory_vsz': 14321589101.714285, '25th_prcntl.cpu_memory_vsz': 14321582080.0, '50th_prcntl.cpu_memory_vsz': 14321582080.0, '75th_prcntl.cpu_memory_vsz': 14321582080.0, 'std.cpu_memory_vsz': 17199.617119611252, 'save_metrics.runtime': 0.011473655700683594, 'inc_round.runtime': 0.0008471012115478516}
2023-11-26 00:29:44,322 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:29:44,322 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011030912399291992
2023-11-26 00:29:44,322 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011030912399291992
2023-11-26 00:29:44,322 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 20
2023-11-26 00:29:44,323 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:29:44,323 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:44,323 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 21
2023-11-26 00:29:44,323 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.00067138671875
2023-11-26 00:29:44,323 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.00067138671875
2023-11-26 00:29:44,324 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:29:44,324 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:29:44,324 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00033092498779296875
2023-11-26 00:29:44,324 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00033092498779296875
2023-11-26 00:29:44,324 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:44,325 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:44,326 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:44,327 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:44,328 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:44,328 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:44,329 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:44,329 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:44,329 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:44,330 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:44,330 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:44,330 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:44,330 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:44,331 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:29:44,331 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:44,331 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:44,332 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:44,332 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:44,332 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958584.3329237, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:44,348 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:29:44,348 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:44,349 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:44,351 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:44,356 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:44,357 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,359 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:44,359 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,359 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,362 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:44,363 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,363 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,363 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:44,363 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,363 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,364 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,364 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:29:44,364 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:44,366 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:44,367 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,368 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:44,369 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,369 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,369 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:44,369 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,369 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,370 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:44,370 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,370 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,370 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,370 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:29:44,370 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:44,371 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:44,371 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,371 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:44,371 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,372 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,373 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:44,373 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,373 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,374 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:44,374 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,374 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,374 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,374 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:29:44,374 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05021476745605469
2023-11-26 00:29:44,375 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05021476745605469
2023-11-26 00:29:44,376 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:44,376 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:44,376 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:44,376 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:44,377 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:44,377 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:44,377 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:44,377 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:44,377 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:44,377 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:44,377 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:44,377 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:44,377 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:44,377 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:44,378 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:44,379 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:44,379 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:29:44,379 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:29:44,379 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:29:44,379 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:44,379 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:29:44,380 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:29:44,381 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:29:44,392 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958584.3921611, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:29:44,392 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958584.3926752, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:29:44,394 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580374's parameters trained with 5749 samples
2023-11-26 00:29:44,409 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:44,410 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 21, trainer version: 19
2023-11-26 00:29:44,410 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:29:44,410 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580374 in dict
2023-11-26 00:29:44,410 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:44,410 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:44,410 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:44,416 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 21, trainer ver: 19
agg ver: 21, trainer ver: 19
2023-11-26 00:29:44,416 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:44,417 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:29:44,417 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:29:44,417 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04160714149475098
2023-11-26 00:29:44,417 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04160714149475098
2023-11-26 00:29:44,417 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:44,418 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:44,418 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:44,419 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:44,420 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:44,420 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:44,420 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:44,421 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:44,421 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:44,421 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:44,422 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:44,422 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: recvd
2023-11-26 00:29:44,422 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:44,422 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:44,423 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:44,423 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580379'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:44,423 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:44,424 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580379': None}
2023-11-26 00:29:44,424 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958584.4244697, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:29:44,434 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:29:44,435 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:44,435 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:44,435 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:44,438 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:44,438 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,440 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:44,440 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,440 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,443 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:44,443 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,443 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,444 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:44,444 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,444 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,444 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,445 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:29:44,445 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:44,447 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:44,447 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,448 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:44,449 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,449 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,449 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:44,450 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,450 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,450 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:44,450 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,450 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,451 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,451 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:29:44,451 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:44,451 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:44,452 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,452 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:44,452 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,452 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,453 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:44,454 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,454 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,455 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:44,455 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,456 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,456 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,457 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:29:44,458 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.040111541748046875
2023-11-26 00:29:44,458 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.040111541748046875
2023-11-26 00:29:44,458 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:44,458 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:44,459 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:44,459 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:44,459 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:44,459 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:44,459 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:44,459 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:44,460 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:44,460 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:44,460 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:44,460 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:44,461 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:44,461 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:44,461 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:44,461 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-756' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:29:44,462 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:44,462 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:44,469 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958584.4690282, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:44,469 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958584.4692516, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:44,470 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580377's parameters trained with 2122 samples
2023-11-26 00:29:44,491 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:44,492 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 21, trainer version: 20
2023-11-26 00:29:44,492 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:29:44,492 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580377 in dict
2023-11-26 00:29:44,492 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:44,492 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:44,492 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:44,497 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 21, trainer ver: 20
agg ver: 21, trainer ver: 20
2023-11-26 00:29:44,497 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:44,497 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:29:44,498 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:29:44,498 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03969621658325195
2023-11-26 00:29:44,498 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03969621658325195
2023-11-26 00:29:44,498 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:44,498 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:44,499 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:44,499 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:44,500 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:44,500 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:44,500 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:44,500 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:44,501 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:44,501 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: recvd
2023-11-26 00:29:44,501 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:44,501 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:44,501 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:44,501 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:44,502 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:44,502 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580380'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:44,502 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:44,502 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580380': None}
2023-11-26 00:29:44,503 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958584.5030122, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:29:44,507 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:29:44,508 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:44,508 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:44,508 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:44,510 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:44,510 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,511 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:44,511 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,511 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,513 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:44,513 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,513 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,515 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:44,515 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,515 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,515 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,515 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:29:44,516 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:44,517 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:44,517 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,520 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:44,521 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,521 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,521 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:44,521 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,521 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,525 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:44,525 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,525 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,525 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,525 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:29:44,525 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:44,526 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:44,526 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,526 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:44,526 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,526 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,527 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:44,527 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,527 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,530 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:44,530 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,530 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:44,530 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:44,530 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:29:44,531 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03256082534790039
2023-11-26 00:29:44,531 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03256082534790039
2023-11-26 00:29:44,531 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:44,532 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:44,532 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:44,532 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:44,532 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:44,532 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:44,532 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:44,532 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:44,533 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:44,533 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:44,533 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:44,533 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:44,533 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:44,533 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:44,533 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:44,534 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-763' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:29:44,535 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:44,535 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:44,544 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958584.5440524, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:44,544 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958584.5444305, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:44,546 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:29:44,558 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:44,559 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 21, trainer version: 20
2023-11-26 00:29:44,559 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:29:44,561 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:29:44,561 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:44,575 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:44,576 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:44,581 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 21, trainer ver: 20
agg ver: 21, trainer ver: 20
2023-11-26 00:29:44,582 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:44,582 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:29:44,583 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:29:44,583 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:29:44,584 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:29:44,585 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 21
2023-11-26 00:29:44,585 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 21, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 10, '505f9fc483cf4df68a2409257b5fad7d3c580376': 8, '505f9fc483cf4df68a2409257b5fad7d3c580378': 6, '505f9fc483cf4df68a2409257b5fad7d3c580372': 4, '505f9fc483cf4df68a2409257b5fad7d3c580377': 9, '505f9fc483cf4df68a2409257b5fad7d3c580379': 4, '505f9fc483cf4df68a2409257b5fad7d3c580380': 5, '505f9fc483cf4df68a2409257b5fad7d3c580374': 5, '505f9fc483cf4df68a2409257b5fad7d3c580371': 3, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 10, '505f9fc483cf4df68a2409257b5fad7d3c580376': 8, '505f9fc483cf4df68a2409257b5fad7d3c580378': 6, '505f9fc483cf4df68a2409257b5fad7d3c580372': 4, '505f9fc483cf4df68a2409257b5fad7d3c580377': 9, '505f9fc483cf4df68a2409257b5fad7d3c580379': 4, '505f9fc483cf4df68a2409257b5fad7d3c580380': 5, '505f9fc483cf4df68a2409257b5fad7d3c580374': 5, '505f9fc483cf4df68a2409257b5fad7d3c580371': 3, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}
2023-11-26 00:29:44,586 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.253968253968254
2023-11-26 00:29:44,587 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9, P50 1.0, P90 1.0999999999999996, P99 1.9100000000000001
2023-11-26 00:29:44,588 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.2999999999999998, P99 1.9299999999999997
2023-11-26 00:29:44,589 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.1666666666666667, P50 1.0, P90 1.5, P99 1.9500000000000002
2023-11-26 00:29:44,589 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 2.0, P99 2.0
2023-11-26 00:29:44,590 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:44,591 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.75, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:44,592 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.8, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:44,592 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.8, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:44,593 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:44,593 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:44,593 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.06216263771057129
2023-11-26 00:29:44,594 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.06216263771057129
2023-11-26 00:29:44,594 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.1457672119140625e-06
2023-11-26 00:29:44,594 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.1457672119140625e-06
2023-11-26 00:29:45,733 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:45,741 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:45,742 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:45,744 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:45,744 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:45,745 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:45,745 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:45,745 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:45,746 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:45,748 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:45,750 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:29:45,751 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:45,752 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:45,753 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:45,754 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:45,758 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:45,760 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:29:45,761 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:45,762 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:45,762 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:45,762 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:45,763 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:29:45,763 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:45,769 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:45,770 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:29:45,912 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:45,916 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:45,916 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:45,919 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:45,920 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:45,920 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:45,921 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:45,922 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:45,922 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:45,924 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:45,928 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 0: 1048576
2023-11-26 00:29:45,928 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:45,929 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:45,930 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:45,930 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:45,930 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:45,931 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:45,932 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:45,936 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 1: 1048576
2023-11-26 00:29:45,937 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:45,938 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 2: 57063
2023-11-26 00:29:45,939 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:45,948 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:45,949 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:29:46,638 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:46,648 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:46,649 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:46,653 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:46,654 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:46,654 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:46,655 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:46,656 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:46,657 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:46,659 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:46,664 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 0: 1048576
2023-11-26 00:29:46,665 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:46,666 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:46,666 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:46,667 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:46,667 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:46,668 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:46,670 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:46,674 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 1: 1048576
2023-11-26 00:29:46,675 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:46,677 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 2: 57063
2023-11-26 00:29:46,678 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:46,689 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:46,690 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:29:51,114 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.8552344931364058
2023-11-26 00:29:51,117 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1366/10000 (0.1366)
2023-11-26 00:29:51,119 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058]
2023-11-26 00:29:51,120 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.525445938110352
2023-11-26 00:29:51,120 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.525445938110352
2023-11-26 00:29:51,121 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:29:51,121 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004658699035644531
2023-11-26 00:29:51,122 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004658699035644531
2023-11-26 00:29:51,122 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 67.8
2023-11-26 00:29:51,123 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 81.8
2023-11-26 00:29:51,123 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 72.7
2023-11-26 00:29:51,124 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 68.4
2023-11-26 00:29:51,125 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 70.4
2023-11-26 00:29:51,126 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 76.15
2023-11-26 00:29:51,126 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 5.291187642360329
2023-11-26 00:29:51,127 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1102647296
2023-11-26 00:29:51,127 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1102663680
2023-11-26 00:29:51,127 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1102658218.6666667
2023-11-26 00:29:51,128 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1102653440.0
2023-11-26 00:29:51,129 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1102661632.0
2023-11-26 00:29:51,129 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1102663680.0
2023-11-26 00:29:51,130 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 6547.908639829633
2023-11-26 00:29:51,130 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321582080
2023-11-26 00:29:51,130 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321635328
2023-11-26 00:29:51,130 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321599146.666666
2023-11-26 00:29:51,131 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:29:51,132 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:29:51,132 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321618944.0
2023-11-26 00:29:51,133 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 24164.857201224168
2023-11-26 00:29:51,133 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.8552344931364058, 'test-accuracy': 0.1366, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00033092498779296875, 'send.bytes': 6462612, 'distribute.runtime': 0.03256082534790039, 'recv.bytes': 6462645, 'aggregate.runtime': 0.06216263771057129, 'train.runtime': 2.1457672119140625e-06, 'evaluate.runtime': 6.525445938110352, 'analysis.runtime': 0.0004658699035644531, 'min.cpu_utilization': 67.8, 'max.cpu_utilization': 81.8, 'mean.cpu_utilization': 72.7, '25th_prcntl.cpu_utilization': 68.4, '50th_prcntl.cpu_utilization': 70.4, '75th_prcntl.cpu_utilization': 76.15, 'std.cpu_utilization': 5.291187642360329, 'min.cpu_memory_rss': 1102647296, 'max.cpu_memory_rss': 1102663680, 'mean.cpu_memory_rss': 1102658218.6666667, '25th_prcntl.cpu_memory_rss': 1102653440.0, '50th_prcntl.cpu_memory_rss': 1102661632.0, '75th_prcntl.cpu_memory_rss': 1102663680.0, 'std.cpu_memory_rss': 6547.908639829633, 'min.cpu_memory_vsz': 14321582080, 'max.cpu_memory_vsz': 14321635328, 'mean.cpu_memory_vsz': 14321599146.666666, '25th_prcntl.cpu_memory_vsz': 14321582080.0, '50th_prcntl.cpu_memory_vsz': 14321582080.0, '75th_prcntl.cpu_memory_vsz': 14321618944.0, 'std.cpu_memory_vsz': 24164.857201224168, 'save_metrics.runtime': 0.011030912399291992, 'inc_round.runtime': 0.00067138671875}
2023-11-26 00:29:51,133 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:29:51,133 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011403560638427734
2023-11-26 00:29:51,134 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011403560638427734
2023-11-26 00:29:51,134 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 21
2023-11-26 00:29:51,134 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:29:51,134 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:51,134 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 22
2023-11-26 00:29:51,134 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0006649494171142578
2023-11-26 00:29:51,135 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0006649494171142578
2023-11-26 00:29:51,135 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:29:51,135 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:29:51,135 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0003559589385986328
2023-11-26 00:29:51,135 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0003559589385986328
2023-11-26 00:29:51,136 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:51,137 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:51,137 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:51,138 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:51,139 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:51,140 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:51,140 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:51,141 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:51,141 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:51,141 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:51,142 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:51,142 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:51,142 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:29:51,142 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:51,143 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:51,143 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580377'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:51,144 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:51,144 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None}
2023-11-26 00:29:51,144 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958591.1447825, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:51,161 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:29:51,162 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:51,162 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:51,163 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:51,167 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,168 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,170 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,170 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,170 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,173 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,174 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,174 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,174 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,174 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,174 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,174 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,175 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:29:51,175 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:51,177 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,177 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,178 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,179 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,179 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,179 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,179 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,179 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,179 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,180 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,180 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,180 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,180 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:29:51,180 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:51,181 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,181 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,181 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,181 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,181 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,183 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,183 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,183 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,183 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,184 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,184 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,184 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,184 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:29:51,184 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.048688411712646484
2023-11-26 00:29:51,185 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.048688411712646484
2023-11-26 00:29:51,185 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:51,186 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:51,186 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:51,186 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:51,187 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:51,187 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:51,187 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:51,187 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:29:51,187 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:51,187 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:51,187 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:51,187 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:51,187 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:51,187 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:51,188 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:51,189 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:29:51,189 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:29:51,189 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:29:51,189 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:29:51,189 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:51,189 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:29:51,190 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:29:51,191 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:29:51,205 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958591.205632, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:29:51,206 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958591.2059994, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:29:51,207 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580378's parameters trained with 4612 samples
2023-11-26 00:29:51,221 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:51,222 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 22, trainer version: 20
2023-11-26 00:29:51,222 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:29:51,222 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580378 in dict
2023-11-26 00:29:51,222 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:51,222 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:51,222 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:51,228 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 22, trainer ver: 20
agg ver: 22, trainer ver: 20
2023-11-26 00:29:51,229 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:51,229 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:29:51,229 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:29:51,229 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.044046640396118164
2023-11-26 00:29:51,229 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.044046640396118164
2023-11-26 00:29:51,230 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:51,230 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:51,231 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:51,231 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:51,232 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:51,232 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:51,233 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:51,233 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:51,233 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:51,234 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:51,234 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: recvd
2023-11-26 00:29:51,234 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:51,234 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:51,235 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:51,235 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:51,235 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:51,236 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:51,236 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:29:51,236 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958591.2368083, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:51,244 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:29:51,245 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:51,245 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:51,246 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:51,249 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,250 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,251 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,251 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,251 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,254 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,254 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,254 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,255 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,255 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,255 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,255 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,255 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:29:51,256 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:51,258 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,258 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,259 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,260 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,260 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,260 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,260 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,261 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,261 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,261 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,261 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,261 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,262 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:29:51,262 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:51,262 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,262 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,263 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,263 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,263 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,264 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,264 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,264 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,264 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,265 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,265 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,265 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,265 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:29:51,266 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03587150573730469
2023-11-26 00:29:51,266 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03587150573730469
2023-11-26 00:29:51,266 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:51,266 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:51,267 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:51,267 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:51,267 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:51,267 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:51,268 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:51,268 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:51,268 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:51,268 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:51,268 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:29:51,268 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:29:51,269 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:51,269 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:29:51,269 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:51,283 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-790' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:29:51,284 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:51,285 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:51,289 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958591.2896695, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:51,289 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958591.2898831, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:29:51,291 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:29:51,303 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:51,303 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 22, trainer version: 21
2023-11-26 00:29:51,303 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:29:51,303 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:29:51,303 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:51,304 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:51,304 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:51,310 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 22, trainer ver: 21
agg ver: 22, trainer ver: 21
2023-11-26 00:29:51,311 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:51,312 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:29:51,312 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:29:51,313 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.047136545181274414
2023-11-26 00:29:51,314 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.047136545181274414
2023-11-26 00:29:51,315 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:51,315 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:51,316 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:51,317 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:51,317 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:51,318 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:51,318 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:51,318 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:51,318 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:29:51,318 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:51,318 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:51,318 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:51,318 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:51,318 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:29:51,319 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:51,319 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580371'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:51,319 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:51,319 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None}
2023-11-26 00:29:51,323 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958591.3238497, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:29:51,329 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:29:51,329 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:51,330 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:51,330 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:51,332 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,333 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,336 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,336 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,337 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,337 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,337 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,337 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,339 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,340 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,340 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,340 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,341 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:29:51,341 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:51,343 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,343 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,344 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,344 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,344 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,345 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,345 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,345 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,345 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,345 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,345 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,345 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,346 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:29:51,346 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:51,346 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,347 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,347 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,347 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,347 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,348 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,348 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,348 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,348 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,349 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,349 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:51,349 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:51,349 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:29:51,349 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03484225273132324
2023-11-26 00:29:51,350 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03484225273132324
2023-11-26 00:29:51,350 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:51,350 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:51,350 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:51,351 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:51,351 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:51,351 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:51,351 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:51,351 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:51,351 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:51,351 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:51,352 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:51,352 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:51,352 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:51,352 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:29:51,352 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:51,352 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-797' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:29:51,353 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:29:51,353 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:29:51,359 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958591.359271, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:29:51,359 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958591.3595352, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:29:51,360 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580380's parameters trained with 5285 samples
2023-11-26 00:29:51,369 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:51,369 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 22, trainer version: 21
2023-11-26 00:29:51,370 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:29:51,370 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580380 in dict
2023-11-26 00:29:51,370 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:51,370 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:51,370 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:51,375 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 22, trainer ver: 21
agg ver: 22, trainer ver: 21
2023-11-26 00:29:51,375 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:51,376 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:29:51,376 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:29:51,376 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:29:51,376 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:29:51,377 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 22
2023-11-26 00:29:51,377 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 22, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 10, '505f9fc483cf4df68a2409257b5fad7d3c580376': 9, '505f9fc483cf4df68a2409257b5fad7d3c580378': 7, '505f9fc483cf4df68a2409257b5fad7d3c580372': 4, '505f9fc483cf4df68a2409257b5fad7d3c580377': 9, '505f9fc483cf4df68a2409257b5fad7d3c580379': 4, '505f9fc483cf4df68a2409257b5fad7d3c580380': 6, '505f9fc483cf4df68a2409257b5fad7d3c580374': 5, '505f9fc483cf4df68a2409257b5fad7d3c580371': 3, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 10, '505f9fc483cf4df68a2409257b5fad7d3c580376': 9, '505f9fc483cf4df68a2409257b5fad7d3c580378': 7, '505f9fc483cf4df68a2409257b5fad7d3c580372': 4, '505f9fc483cf4df68a2409257b5fad7d3c580377': 9, '505f9fc483cf4df68a2409257b5fad7d3c580379': 4, '505f9fc483cf4df68a2409257b5fad7d3c580380': 6, '505f9fc483cf4df68a2409257b5fad7d3c580374': 5, '505f9fc483cf4df68a2409257b5fad7d3c580371': 3, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}
2023-11-26 00:29:51,377 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2575757575757576
2023-11-26 00:29:51,378 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9, P50 1.0, P90 1.0999999999999996, P99 1.9100000000000001
2023-11-26 00:29:51,378 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.2000000000000002, P99 1.92
2023-11-26 00:29:51,379 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.2857142857142858, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:29:51,379 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 2.0, P99 2.0
2023-11-26 00:29:51,380 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:51,380 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.75, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:51,380 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:51,381 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.8, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:51,381 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:51,382 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:51,382 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03188943862915039
2023-11-26 00:29:51,382 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03188943862915039
2023-11-26 00:29:51,382 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.384185791015625e-06
2023-11-26 00:29:51,382 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.384185791015625e-06
2023-11-26 00:29:51,919 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:51,934 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,935 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:51,939 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:51,940 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,940 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:51,941 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,942 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:51,942 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:51,946 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:51,951 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 0: 1048576
2023-11-26 00:29:51,951 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:51,952 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:51,952 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,953 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:51,955 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:51,958 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 1: 1048576
2023-11-26 00:29:51,958 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:51,959 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:51,960 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:51,960 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:51,961 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 2: 57063
2023-11-26 00:29:51,961 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:51,971 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:51,972 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:29:52,393 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:52,397 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:52,398 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:52,401 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:52,402 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:52,403 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:52,404 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:52,404 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:52,405 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:52,407 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:52,411 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:29:52,412 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:52,413 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:52,414 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:52,414 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:52,415 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:52,416 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:52,417 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:52,421 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:29:52,422 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:52,423 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:29:52,424 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:52,433 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:52,433 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:29:53,589 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:53,598 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:53,599 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:53,603 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:53,604 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:53,604 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:53,605 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:53,606 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:53,606 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:53,609 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:53,613 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 0: 1048576
2023-11-26 00:29:53,614 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:53,615 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:53,615 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:53,616 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:53,616 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:53,616 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:53,618 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:53,622 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 1: 1048576
2023-11-26 00:29:53,623 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:53,624 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 2: 57063
2023-11-26 00:29:53,625 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:53,635 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:53,636 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:29:57,701 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.8363559032678602
2023-11-26 00:29:57,704 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1583/10000 (0.1583)
2023-11-26 00:29:57,705 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602]
2023-11-26 00:29:57,706 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.323467254638672
2023-11-26 00:29:57,706 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.323467254638672
2023-11-26 00:29:57,707 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:29:57,707 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004394054412841797
2023-11-26 00:29:57,708 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004394054412841797
2023-11-26 00:29:57,708 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 67.8
2023-11-26 00:29:57,709 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 77.9
2023-11-26 00:29:57,709 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 73.27142857142857
2023-11-26 00:29:57,710 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 70.35
2023-11-26 00:29:57,711 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 73.9
2023-11-26 00:29:57,713 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 76.3
2023-11-26 00:29:57,714 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 3.7008548378195334
2023-11-26 00:29:57,714 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1102643200
2023-11-26 00:29:57,715 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1102680064
2023-11-26 00:29:57,715 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1102672457.142857
2023-11-26 00:29:57,715 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1102671872.0
2023-11-26 00:29:57,716 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1102680064.0
2023-11-26 00:29:57,716 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1102680064.0
2023-11-26 00:29:57,717 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 12467.800211843667
2023-11-26 00:29:57,717 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321524736
2023-11-26 00:29:57,717 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321635328
2023-11-26 00:29:57,717 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321603145.142857
2023-11-26 00:29:57,718 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321584128.0
2023-11-26 00:29:57,718 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321631232.0
2023-11-26 00:29:57,719 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321631232.0
2023-11-26 00:29:57,719 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 38325.74044174702
2023-11-26 00:29:57,720 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.8363559032678602, 'test-accuracy': 0.1583, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0003559589385986328, 'send.bytes': 6462612, 'distribute.runtime': 0.03484225273132324, 'recv.bytes': 6462645, 'aggregate.runtime': 0.03188943862915039, 'train.runtime': 2.384185791015625e-06, 'evaluate.runtime': 6.323467254638672, 'analysis.runtime': 0.0004394054412841797, 'min.cpu_utilization': 67.8, 'max.cpu_utilization': 77.9, 'mean.cpu_utilization': 73.27142857142857, '25th_prcntl.cpu_utilization': 70.35, '50th_prcntl.cpu_utilization': 73.9, '75th_prcntl.cpu_utilization': 76.3, 'std.cpu_utilization': 3.7008548378195334, 'min.cpu_memory_rss': 1102643200, 'max.cpu_memory_rss': 1102680064, 'mean.cpu_memory_rss': 1102672457.142857, '25th_prcntl.cpu_memory_rss': 1102671872.0, '50th_prcntl.cpu_memory_rss': 1102680064.0, '75th_prcntl.cpu_memory_rss': 1102680064.0, 'std.cpu_memory_rss': 12467.800211843667, 'min.cpu_memory_vsz': 14321524736, 'max.cpu_memory_vsz': 14321635328, 'mean.cpu_memory_vsz': 14321603145.142857, '25th_prcntl.cpu_memory_vsz': 14321584128.0, '50th_prcntl.cpu_memory_vsz': 14321631232.0, '75th_prcntl.cpu_memory_vsz': 14321631232.0, 'std.cpu_memory_vsz': 38325.74044174702, 'save_metrics.runtime': 0.011403560638427734, 'inc_round.runtime': 0.0006649494171142578}
2023-11-26 00:29:57,720 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:29:57,720 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.012236833572387695
2023-11-26 00:29:57,720 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.012236833572387695
2023-11-26 00:29:57,721 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 22
2023-11-26 00:29:57,721 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:29:57,721 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:57,721 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 23
2023-11-26 00:29:57,721 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0007653236389160156
2023-11-26 00:29:57,721 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0007653236389160156
2023-11-26 00:29:57,722 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:29:57,722 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:29:57,722 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0002791881561279297
2023-11-26 00:29:57,722 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0002791881561279297
2023-11-26 00:29:57,722 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:57,723 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:57,724 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:57,724 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:57,726 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:57,726 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:57,726 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:57,727 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:57,727 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:57,727 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:57,728 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:57,728 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: recvd
2023-11-26 00:29:57,728 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:57,729 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:57,729 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:57,729 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580374'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:57,729 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:57,730 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580374': None}
2023-11-26 00:29:57,730 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958597.730695, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:29:57,750 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:29:57,750 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:57,751 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:57,752 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:57,757 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:57,757 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,759 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:57,759 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,760 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,762 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:57,763 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,763 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,763 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:57,763 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,763 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,764 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,764 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:29:57,764 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:57,766 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:57,766 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,767 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:57,767 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,767 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,767 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:57,768 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,768 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,768 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:57,768 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,768 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,768 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,769 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:29:57,769 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:57,769 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:57,769 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,770 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:57,770 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,770 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,771 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:57,772 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,772 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,772 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:57,772 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,772 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,772 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,773 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:29:57,773 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.050705909729003906
2023-11-26 00:29:57,774 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.050705909729003906
2023-11-26 00:29:57,774 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:57,775 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:57,775 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:57,775 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:57,775 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:57,775 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:57,775 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:57,775 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:57,775 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:57,776 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:57,776 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:57,776 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:57,776 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:57,776 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:29:57,776 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:57,777 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:29:57,777 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:29:57,777 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:57,777 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:29:57,778 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:57,778 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:29:57,779 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:29:57,780 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:29:57,795 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958597.7950869, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:29:57,795 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958597.7954044, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:29:57,796 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580379's parameters trained with 7607 samples
2023-11-26 00:29:57,811 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:57,811 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 23, trainer version: 21
2023-11-26 00:29:57,811 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:29:57,811 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580379 in dict
2023-11-26 00:29:57,812 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:57,812 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:57,812 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:57,816 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 23, trainer ver: 21
agg ver: 23, trainer ver: 21
2023-11-26 00:29:57,817 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:57,817 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:29:57,817 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:29:57,817 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04346632957458496
2023-11-26 00:29:57,818 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04346632957458496
2023-11-26 00:29:57,818 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:57,818 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:57,819 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:57,819 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:57,820 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:57,820 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:57,820 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:57,821 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:57,821 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:57,821 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:57,822 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:57,822 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:57,822 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: recvd
2023-11-26 00:29:57,822 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:57,823 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:57,823 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580379'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:57,823 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:57,824 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580379': None}
2023-11-26 00:29:57,824 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958597.8245156, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:29:57,835 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:29:57,836 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:57,836 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:57,837 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:57,839 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:57,839 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,840 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:57,841 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,841 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,843 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:57,844 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,844 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,844 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:57,844 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,845 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,845 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,845 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:29:57,845 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:57,847 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:57,847 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,849 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:57,849 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,849 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,849 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:57,849 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,850 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,850 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:57,850 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,850 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,851 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,851 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:29:57,851 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:57,851 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:57,852 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,852 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:57,852 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,853 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,853 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:57,853 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,853 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,853 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:57,854 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,854 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,854 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,854 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:29:57,854 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.0367584228515625
2023-11-26 00:29:57,855 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.0367584228515625
2023-11-26 00:29:57,855 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:57,855 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:57,855 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:57,855 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:57,856 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:57,856 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:57,856 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:57,856 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:29:57,856 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:57,856 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:57,856 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:57,856 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:57,857 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:57,857 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:29:57,862 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:57,862 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-824' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:29:57,863 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:57,863 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:57,870 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958597.8700342, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:57,870 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958597.8703563, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:29:57,872 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580377's parameters trained with 2122 samples
2023-11-26 00:29:57,879 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:57,879 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 23, trainer version: 22
2023-11-26 00:29:57,879 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:29:57,880 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580377 in dict
2023-11-26 00:29:57,880 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:57,880 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:57,880 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:57,884 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 23, trainer ver: 22
agg ver: 23, trainer ver: 22
2023-11-26 00:29:57,884 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:57,885 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:29:57,885 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:29:57,885 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03001093864440918
2023-11-26 00:29:57,885 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03001093864440918
2023-11-26 00:29:57,885 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:29:57,885 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:29:57,886 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:29:57,886 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:29:57,886 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:57,887 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:57,887 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:57,887 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:57,887 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:57,887 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:57,887 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: recvd
2023-11-26 00:29:57,888 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:57,888 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:57,888 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:57,888 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:57,888 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580380'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:57,888 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:57,888 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580380': None}
2023-11-26 00:29:57,889 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958597.889057, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:29:57,895 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:29:57,895 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:29:57,895 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:29:57,896 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:29:57,897 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:57,898 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,900 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:57,901 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,902 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,903 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:57,904 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,904 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,904 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:57,904 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,904 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,905 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,905 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:29:57,905 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:29:57,907 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:57,907 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,908 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:57,908 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,908 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,908 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:57,909 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,909 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,909 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:57,909 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,909 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,909 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,910 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:29:57,910 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:29:57,910 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:57,910 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,910 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:57,911 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,911 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,911 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:57,911 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,911 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,912 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:57,912 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,912 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:29:57,912 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:29:57,912 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:29:57,913 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.027366161346435547
2023-11-26 00:29:57,913 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.027366161346435547
2023-11-26 00:29:57,913 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:29:57,913 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:29:57,913 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:29:57,914 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:29:57,914 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:29:57,914 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:57,914 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:29:57,914 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:29:57,914 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:29:57,914 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:29:57,914 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:29:57,914 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:29:57,915 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:29:57,915 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:29:57,915 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:29:57,915 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-831' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:29:57,916 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:57,916 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:57,922 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958597.9222693, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:57,922 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958597.922788, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:29:57,923 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:29:57,933 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:29:57,933 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 23, trainer version: 22
2023-11-26 00:29:57,933 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:29:57,934 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:29:57,935 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:29:57,935 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:29:57,935 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:29:57,940 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 23, trainer ver: 22
agg ver: 23, trainer ver: 22
2023-11-26 00:29:57,941 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:29:57,941 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:29:57,941 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:29:57,941 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:29:57,941 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:29:57,942 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 23
2023-11-26 00:29:57,943 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 23, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 11, '505f9fc483cf4df68a2409257b5fad7d3c580376': 9, '505f9fc483cf4df68a2409257b5fad7d3c580378': 7, '505f9fc483cf4df68a2409257b5fad7d3c580372': 4, '505f9fc483cf4df68a2409257b5fad7d3c580377': 10, '505f9fc483cf4df68a2409257b5fad7d3c580379': 5, '505f9fc483cf4df68a2409257b5fad7d3c580380': 6, '505f9fc483cf4df68a2409257b5fad7d3c580374': 5, '505f9fc483cf4df68a2409257b5fad7d3c580371': 3, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 11, '505f9fc483cf4df68a2409257b5fad7d3c580376': 9, '505f9fc483cf4df68a2409257b5fad7d3c580378': 7, '505f9fc483cf4df68a2409257b5fad7d3c580372': 4, '505f9fc483cf4df68a2409257b5fad7d3c580377': 10, '505f9fc483cf4df68a2409257b5fad7d3c580379': 5, '505f9fc483cf4df68a2409257b5fad7d3c580380': 6, '505f9fc483cf4df68a2409257b5fad7d3c580374': 5, '505f9fc483cf4df68a2409257b5fad7d3c580371': 3, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}
2023-11-26 00:29:57,943 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2608695652173914
2023-11-26 00:29:57,943 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9090909090909091, P50 1.0, P90 1.0, P99 1.9000000000000004
2023-11-26 00:29:57,944 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.2000000000000002, P99 1.92
2023-11-26 00:29:57,944 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.2857142857142858, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:29:57,945 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 2.0, P99 2.0
2023-11-26 00:29:57,945 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:57,946 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.8, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:57,946 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:57,946 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.8, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:57,947 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:29:57,947 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:29:57,948 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03459906578063965
2023-11-26 00:29:57,948 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03459906578063965
2023-11-26 00:29:57,948 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.384185791015625e-06
2023-11-26 00:29:57,948 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.384185791015625e-06
2023-11-26 00:29:59,362 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:59,378 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:59,379 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:59,385 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:59,386 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:59,386 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:59,387 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:59,388 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:59,388 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:59,390 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:59,395 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 0: 1048576
2023-11-26 00:29:59,396 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:59,397 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:59,398 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:59,398 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:59,401 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:59,405 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 1: 1048576
2023-11-26 00:29:59,405 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:59,407 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:59,407 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:59,408 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:59,408 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 2: 57063
2023-11-26 00:29:59,409 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:59,410 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:59,413 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:59,414 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:59,417 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:59,418 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:59,418 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:59,420 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:59,420 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:59,421 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:29:59,422 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:59,427 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 0: 1048576
2023-11-26 00:29:59,427 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:59,428 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:59,429 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:59,430 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:59,431 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:29:59,432 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:29:59,436 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 1: 1048576
2023-11-26 00:29:59,437 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:59,438 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:29:59,438 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:29:59,439 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:29:59,440 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:29:59,441 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 2: 57063
2023-11-26 00:29:59,441 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:29:59,447 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:29:59,448 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:30:00,091 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:00,100 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:00,101 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:00,105 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:00,106 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:00,106 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:00,107 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:00,108 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:00,108 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:00,110 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:00,114 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 0: 1048576
2023-11-26 00:30:00,115 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:00,116 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:00,116 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:00,117 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:00,117 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:30:00,118 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:00,119 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:30:00,123 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 1: 1048576
2023-11-26 00:30:00,124 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:00,126 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 2: 57061
2023-11-26 00:30:00,127 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:00,136 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154213
2023-11-26 00:30:00,137 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462643
2023-11-26 00:30:04,432 | main.py:161 | INFO | MainThread | evaluate | Test loss: 3.1403327724933625
2023-11-26 00:30:04,435 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1512/10000 (0.1512)
2023-11-26 00:30:04,437 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625]
2023-11-26 00:30:04,437 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.48912501335144
2023-11-26 00:30:04,438 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.48912501335144
2023-11-26 00:30:04,439 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:30:04,439 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.00045680999755859375
2023-11-26 00:30:04,439 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.00045680999755859375
2023-11-26 00:30:04,440 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 70.9
2023-11-26 00:30:04,441 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 83.8
2023-11-26 00:30:04,441 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 74.68571428571428
2023-11-26 00:30:04,442 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 71.8
2023-11-26 00:30:04,443 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 71.8
2023-11-26 00:30:04,444 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 76.35
2023-11-26 00:30:04,444 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 4.892101088614632
2023-11-26 00:30:04,444 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1102700544
2023-11-26 00:30:04,445 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1104752640
2023-11-26 00:30:04,445 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1104165741.7142856
2023-11-26 00:30:04,446 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1103724544.0
2023-11-26 00:30:04,446 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1104752640.0
2023-11-26 00:30:04,447 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1104752640.0
2023-11-26 00:30:04,447 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 926673.4344823676
2023-11-26 00:30:04,447 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321582080
2023-11-26 00:30:04,448 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321684480
2023-11-26 00:30:04,448 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321611337.142857
2023-11-26 00:30:04,448 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:30:04,449 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:30:04,450 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321633280.0
2023-11-26 00:30:04,450 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 37311.747960082685
2023-11-26 00:30:04,450 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 3.1403327724933625, 'test-accuracy': 0.1512, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0002791881561279297, 'send.bytes': 6462612, 'distribute.runtime': 0.027366161346435547, 'recv.bytes': 6462643, 'aggregate.runtime': 0.03459906578063965, 'train.runtime': 2.384185791015625e-06, 'evaluate.runtime': 6.48912501335144, 'analysis.runtime': 0.00045680999755859375, 'min.cpu_utilization': 70.9, 'max.cpu_utilization': 83.8, 'mean.cpu_utilization': 74.68571428571428, '25th_prcntl.cpu_utilization': 71.8, '50th_prcntl.cpu_utilization': 71.8, '75th_prcntl.cpu_utilization': 76.35, 'std.cpu_utilization': 4.892101088614632, 'min.cpu_memory_rss': 1102700544, 'max.cpu_memory_rss': 1104752640, 'mean.cpu_memory_rss': 1104165741.7142856, '25th_prcntl.cpu_memory_rss': 1103724544.0, '50th_prcntl.cpu_memory_rss': 1104752640.0, '75th_prcntl.cpu_memory_rss': 1104752640.0, 'std.cpu_memory_rss': 926673.4344823676, 'min.cpu_memory_vsz': 14321582080, 'max.cpu_memory_vsz': 14321684480, 'mean.cpu_memory_vsz': 14321611337.142857, '25th_prcntl.cpu_memory_vsz': 14321582080.0, '50th_prcntl.cpu_memory_vsz': 14321582080.0, '75th_prcntl.cpu_memory_vsz': 14321633280.0, 'std.cpu_memory_vsz': 37311.747960082685, 'save_metrics.runtime': 0.012236833572387695, 'inc_round.runtime': 0.0007653236389160156}
2023-11-26 00:30:04,451 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:30:04,451 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011143207550048828
2023-11-26 00:30:04,451 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011143207550048828
2023-11-26 00:30:04,451 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 23
2023-11-26 00:30:04,452 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:30:04,452 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:04,452 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 24
2023-11-26 00:30:04,452 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0007576942443847656
2023-11-26 00:30:04,452 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0007576942443847656
2023-11-26 00:30:04,453 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:30:04,453 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:30:04,453 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0002932548522949219
2023-11-26 00:30:04,453 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0002932548522949219
2023-11-26 00:30:04,453 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:04,454 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:04,455 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:04,455 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:04,456 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:04,457 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:04,457 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:04,457 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:04,458 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:30:04,458 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:04,458 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:04,459 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:04,459 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:04,459 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:30:04,460 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:04,460 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:04,460 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:04,461 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:04,461 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958604.4616902, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:04,475 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:30:04,475 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:04,476 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:04,478 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:04,484 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:04,485 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,487 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:04,487 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,487 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,490 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:04,490 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,490 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,490 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:04,491 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,491 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,491 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,491 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:30:04,491 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:04,493 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:04,493 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,496 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:04,496 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,496 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,497 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:04,497 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,497 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,498 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:04,498 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,498 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,498 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,499 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:30:04,499 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:04,499 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:04,499 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,499 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:04,500 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,500 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,501 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:04,501 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,501 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,502 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:04,502 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,502 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,502 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,503 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:30:04,503 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05021381378173828
2023-11-26 00:30:04,504 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05021381378173828
2023-11-26 00:30:04,504 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:04,505 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:04,505 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:04,505 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:04,505 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:04,506 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:04,506 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:04,506 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:04,506 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:04,506 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:04,506 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:04,506 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:04,506 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:04,506 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:04,507 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:04,507 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:04,508 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:30:04,508 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:30:04,508 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:30:04,508 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:30:04,508 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:30:04,509 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:04,510 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:04,524 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958604.524205, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:04,524 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958604.5245414, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:04,526 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580371's parameters trained with 8920 samples
2023-11-26 00:30:04,539 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:04,540 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 24, trainer version: 22
2023-11-26 00:30:04,540 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:30:04,540 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580371 in dict
2023-11-26 00:30:04,540 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:04,540 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:04,540 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:04,545 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 24, trainer ver: 22
agg ver: 24, trainer ver: 22
2023-11-26 00:30:04,546 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:04,546 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:30:04,546 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:30:04,546 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04192185401916504
2023-11-26 00:30:04,546 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04192185401916504
2023-11-26 00:30:04,547 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:04,547 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:04,548 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:04,548 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:04,549 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:04,549 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:04,549 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:04,550 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:04,550 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:04,550 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: recvd
2023-11-26 00:30:04,551 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:04,551 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:04,551 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:04,552 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:04,552 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:04,552 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580378'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:04,552 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:04,553 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None}
2023-11-26 00:30:04,553 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958604.55371, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:30:04,565 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:30:04,565 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:04,566 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:04,566 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:04,568 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:04,569 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,571 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:04,572 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,572 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,583 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:04,584 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,584 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,585 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:04,586 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,586 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,587 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,588 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:30:04,588 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:04,591 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:04,592 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,593 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:04,594 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,594 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,594 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:04,595 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,595 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,596 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:04,596 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,596 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,597 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,598 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:30:04,598 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:04,600 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:04,601 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,602 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:04,602 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,603 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,603 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:04,604 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,604 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,605 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:04,606 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,607 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,608 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,608 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:30:04,609 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.06216692924499512
2023-11-26 00:30:04,609 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.06216692924499512
2023-11-26 00:30:04,609 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:04,610 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:04,610 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:04,610 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:04,611 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:04,611 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:04,611 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:04,612 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:04,612 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:04,612 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:04,612 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:04,612 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:04,612 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:04,612 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:04,613 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:04,613 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-858' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:30:04,614 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:04,614 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:04,617 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958604.617603, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:04,617 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958604.6179214, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:04,619 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580374's parameters trained with 5749 samples
2023-11-26 00:30:04,627 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:04,627 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 24, trainer version: 23
2023-11-26 00:30:04,627 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:30:04,627 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580374 in dict
2023-11-26 00:30:04,627 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:04,628 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:04,628 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:04,633 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 24, trainer ver: 23
agg ver: 24, trainer ver: 23
2023-11-26 00:30:04,633 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:04,634 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:30:04,634 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:30:04,634 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.02483820915222168
2023-11-26 00:30:04,634 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.02483820915222168
2023-11-26 00:30:04,634 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:04,635 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:04,635 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:04,636 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:04,636 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:04,637 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:04,637 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:04,637 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:04,637 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:04,638 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:04,638 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: recvd
2023-11-26 00:30:04,638 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:04,638 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:04,638 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:04,639 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:04,639 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:04,639 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:04,639 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:30:04,640 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958604.6400752, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:04,648 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:30:04,648 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:04,649 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:04,649 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:04,651 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:04,651 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,652 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:04,653 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,653 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,653 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:04,654 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,654 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,654 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:04,655 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,655 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,655 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,655 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:30:04,656 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:04,657 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:04,658 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,659 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:04,659 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,659 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,660 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:04,660 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,660 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,660 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:04,661 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,661 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,661 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,661 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:30:04,661 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:04,662 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:04,662 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,662 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:04,662 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,663 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,663 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:04,663 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,663 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,663 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:04,664 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,664 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:04,664 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:04,664 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:30:04,664 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.0300900936126709
2023-11-26 00:30:04,665 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.0300900936126709
2023-11-26 00:30:04,665 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:04,666 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:04,666 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:04,666 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:04,666 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:04,667 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:04,667 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:04,667 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:04,667 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:04,667 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:04,667 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:04,667 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:04,668 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:04,668 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:04,668 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:04,669 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-865' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:30:04,669 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:30:04,670 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:30:04,674 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958604.6744697, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:30:04,674 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958604.6746607, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:30:04,676 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580380's parameters trained with 5285 samples
2023-11-26 00:30:04,687 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:04,687 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 24, trainer version: 23
2023-11-26 00:30:04,687 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:30:04,687 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580380 in dict
2023-11-26 00:30:04,687 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:04,687 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:04,687 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:04,692 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 24, trainer ver: 23
agg ver: 24, trainer ver: 23
2023-11-26 00:30:04,693 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:04,693 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:30:04,693 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:30:04,694 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:30:04,694 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:30:04,695 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 24
2023-11-26 00:30:04,695 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 24, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 11, '505f9fc483cf4df68a2409257b5fad7d3c580376': 9, '505f9fc483cf4df68a2409257b5fad7d3c580378': 7, '505f9fc483cf4df68a2409257b5fad7d3c580372': 4, '505f9fc483cf4df68a2409257b5fad7d3c580377': 10, '505f9fc483cf4df68a2409257b5fad7d3c580379': 5, '505f9fc483cf4df68a2409257b5fad7d3c580380': 7, '505f9fc483cf4df68a2409257b5fad7d3c580374': 6, '505f9fc483cf4df68a2409257b5fad7d3c580371': 4, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 11, '505f9fc483cf4df68a2409257b5fad7d3c580376': 9, '505f9fc483cf4df68a2409257b5fad7d3c580378': 7, '505f9fc483cf4df68a2409257b5fad7d3c580372': 4, '505f9fc483cf4df68a2409257b5fad7d3c580377': 10, '505f9fc483cf4df68a2409257b5fad7d3c580379': 5, '505f9fc483cf4df68a2409257b5fad7d3c580380': 7, '505f9fc483cf4df68a2409257b5fad7d3c580374': 6, '505f9fc483cf4df68a2409257b5fad7d3c580371': 4, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}
2023-11-26 00:30:04,696 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2638888888888888
2023-11-26 00:30:04,696 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9090909090909091, P50 1.0, P90 1.0, P99 1.9000000000000004
2023-11-26 00:30:04,697 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.2000000000000002, P99 1.92
2023-11-26 00:30:04,698 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.2857142857142858, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:30:04,698 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 2.0, P99 2.0
2023-11-26 00:30:04,699 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:30:04,700 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.8, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:04,700 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.5714285714285714, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:04,701 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:04,701 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:04,702 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:30:04,702 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.036908864974975586
2023-11-26 00:30:04,702 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.036908864974975586
2023-11-26 00:30:04,703 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 3.337860107421875e-06
2023-11-26 00:30:04,703 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 3.337860107421875e-06
2023-11-26 00:30:05,870 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:05,885 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:05,886 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:05,892 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:05,892 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:05,893 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:05,894 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:05,894 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:05,895 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:05,898 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:05,902 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:30:05,903 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:05,904 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:05,905 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:05,905 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:05,908 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:05,912 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:30:05,913 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:05,914 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:05,915 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:05,916 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:05,916 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:05,916 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:30:05,921 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:05,924 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:05,925 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:05,925 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:05,926 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:05,929 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:05,929 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:05,930 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:05,930 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:05,931 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:05,931 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:05,931 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:05,932 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:05,935 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:30:05,936 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:05,937 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:05,937 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:05,938 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:30:05,938 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:05,939 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:05,943 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:30:05,943 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:05,944 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:30:05,945 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:05,954 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:05,955 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:30:06,029 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:06,032 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:06,033 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:06,033 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:06,034 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:06,037 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:06,038 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:06,038 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:06,039 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:06,040 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:06,040 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:06,042 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:06,046 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 0: 1048576
2023-11-26 00:30:06,047 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:06,048 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:06,049 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:06,049 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:06,051 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:06,055 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 1: 1048576
2023-11-26 00:30:06,056 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:06,057 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 2: 57063
2023-11-26 00:30:06,058 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:06,067 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:06,068 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:30:10,854 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.121581395792961
2023-11-26 00:30:10,857 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 2655/10000 (0.2655)
2023-11-26 00:30:10,858 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961]
2023-11-26 00:30:10,859 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.155563116073608
2023-11-26 00:30:10,859 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.155563116073608
2023-11-26 00:30:10,860 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:30:10,861 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.000461578369140625
2023-11-26 00:30:10,861 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.000461578369140625
2023-11-26 00:30:10,862 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 67.8
2023-11-26 00:30:10,862 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 87.8
2023-11-26 00:30:10,863 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 73.16666666666667
2023-11-26 00:30:10,864 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 68.9
2023-11-26 00:30:10,865 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 69.85
2023-11-26 00:30:10,866 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 73.8
2023-11-26 00:30:10,866 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 6.923550790999914
2023-11-26 00:30:10,867 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1104756736
2023-11-26 00:30:10,867 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1104760832
2023-11-26 00:30:10,868 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1104759466.6666667
2023-11-26 00:30:10,868 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1104757760.0
2023-11-26 00:30:10,869 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1104760832.0
2023-11-26 00:30:10,870 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1104760832.0
2023-11-26 00:30:10,870 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 1930.872917160066
2023-11-26 00:30:10,871 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321582080
2023-11-26 00:30:10,871 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321631232
2023-11-26 00:30:10,871 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321598464.0
2023-11-26 00:30:10,871 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:30:10,872 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:30:10,872 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321618944.0
2023-11-26 00:30:10,873 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 23170.47500592079
2023-11-26 00:30:10,873 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.121581395792961, 'test-accuracy': 0.2655, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0002932548522949219, 'send.bytes': 6462612, 'distribute.runtime': 0.0300900936126709, 'recv.bytes': 6462645, 'aggregate.runtime': 0.036908864974975586, 'train.runtime': 3.337860107421875e-06, 'evaluate.runtime': 6.155563116073608, 'analysis.runtime': 0.000461578369140625, 'min.cpu_utilization': 67.8, 'max.cpu_utilization': 87.8, 'mean.cpu_utilization': 73.16666666666667, '25th_prcntl.cpu_utilization': 68.9, '50th_prcntl.cpu_utilization': 69.85, '75th_prcntl.cpu_utilization': 73.8, 'std.cpu_utilization': 6.923550790999914, 'min.cpu_memory_rss': 1104756736, 'max.cpu_memory_rss': 1104760832, 'mean.cpu_memory_rss': 1104759466.6666667, '25th_prcntl.cpu_memory_rss': 1104757760.0, '50th_prcntl.cpu_memory_rss': 1104760832.0, '75th_prcntl.cpu_memory_rss': 1104760832.0, 'std.cpu_memory_rss': 1930.872917160066, 'min.cpu_memory_vsz': 14321582080, 'max.cpu_memory_vsz': 14321631232, 'mean.cpu_memory_vsz': 14321598464.0, '25th_prcntl.cpu_memory_vsz': 14321582080.0, '50th_prcntl.cpu_memory_vsz': 14321582080.0, '75th_prcntl.cpu_memory_vsz': 14321618944.0, 'std.cpu_memory_vsz': 23170.47500592079, 'save_metrics.runtime': 0.011143207550048828, 'inc_round.runtime': 0.0007576942443847656}
2023-11-26 00:30:10,873 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:30:10,874 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.012440681457519531
2023-11-26 00:30:10,874 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.012440681457519531
2023-11-26 00:30:10,874 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 24
2023-11-26 00:30:10,874 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:30:10,874 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:10,875 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 25
2023-11-26 00:30:10,875 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008285045623779297
2023-11-26 00:30:10,875 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008285045623779297
2023-11-26 00:30:10,875 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:30:10,876 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:30:10,876 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0003960132598876953
2023-11-26 00:30:10,876 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0003960132598876953
2023-11-26 00:30:10,876 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:10,877 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:10,878 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:10,879 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:10,880 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:10,880 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:10,881 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:10,881 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:10,881 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:10,882 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:10,882 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:10,882 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: recvd
2023-11-26 00:30:10,883 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:10,883 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:10,883 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:10,884 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580371'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:10,884 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:10,884 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None}
2023-11-26 00:30:10,885 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958610.885286, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:10,905 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:30:10,905 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:10,906 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:10,906 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:10,910 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:10,910 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:10,911 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:10,912 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:10,912 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:10,915 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:10,915 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:10,915 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:10,916 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:10,916 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:10,916 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:10,916 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:10,916 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:30:10,917 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:10,918 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:10,918 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:10,920 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:10,920 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:10,920 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:10,920 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:10,920 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:10,921 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:10,921 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:10,921 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:10,921 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:10,921 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:10,921 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:30:10,921 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:10,922 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:10,922 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:10,922 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:10,922 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:10,922 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:10,924 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:10,924 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:10,925 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:10,925 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:10,925 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:10,925 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:10,925 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:10,925 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:30:10,926 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04938340187072754
2023-11-26 00:30:10,926 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04938340187072754
2023-11-26 00:30:10,927 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:10,927 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:10,927 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:10,928 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:10,928 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:10,928 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:10,928 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:10,928 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:10,928 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:10,928 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:10,928 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:10,928 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:10,929 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:10,929 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:10,929 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:10,930 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:30:10,930 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:30:10,930 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:10,930 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:30:10,930 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:10,930 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:30:10,932 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:30:10,932 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:30:10,945 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958610.945783, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:30:10,946 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958610.9461906, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:30:10,947 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580379's parameters trained with 7607 samples
2023-11-26 00:30:10,962 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:10,962 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 25, trainer version: 23
2023-11-26 00:30:10,962 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:30:10,962 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580379 in dict
2023-11-26 00:30:10,962 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:10,962 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:10,963 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:10,968 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 25, trainer ver: 23
agg ver: 25, trainer ver: 23
2023-11-26 00:30:10,968 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:10,968 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:30:10,968 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:30:10,969 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04206991195678711
2023-11-26 00:30:10,969 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04206991195678711
2023-11-26 00:30:10,969 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:10,969 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:10,970 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:10,970 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:10,970 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:10,971 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:10,971 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:10,971 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:10,972 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:10,972 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:10,973 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:10,973 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: recvd
2023-11-26 00:30:10,974 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:10,975 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:10,976 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:10,976 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580380'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:10,976 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:10,976 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580380': None}
2023-11-26 00:30:10,977 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958610.9771495, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:30:10,984 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:30:10,984 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:10,985 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:10,986 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:10,989 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:10,990 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:10,994 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:10,995 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:10,996 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:10,996 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:10,997 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:10,998 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,000 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:11,001 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,001 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,001 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,001 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:30:11,002 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:11,003 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:11,003 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,004 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:11,004 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,004 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,005 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:11,005 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,005 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,005 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:11,005 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,005 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,005 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,005 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:30:11,005 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:11,006 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:11,006 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,006 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:11,006 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,006 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,007 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:11,007 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,008 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,008 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:11,009 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,009 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,009 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,009 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:30:11,010 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04073286056518555
2023-11-26 00:30:11,010 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04073286056518555
2023-11-26 00:30:11,010 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:11,011 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:11,011 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:11,011 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:11,011 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:11,012 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:11,012 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:11,012 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:11,012 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:11,012 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:11,012 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:11,012 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:11,012 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:11,013 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:11,013 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:11,013 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-892' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:30:11,014 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:11,014 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:11,022 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958611.0223095, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:11,022 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958611.0225606, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:11,023 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:30:11,036 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:11,036 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 25, trainer version: 24
2023-11-26 00:30:11,037 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:30:11,037 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:30:11,037 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:11,038 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:11,038 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:11,044 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 25, trainer ver: 24
agg ver: 25, trainer ver: 24
2023-11-26 00:30:11,045 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:11,046 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:30:11,047 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:30:11,047 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03722333908081055
2023-11-26 00:30:11,048 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03722333908081055
2023-11-26 00:30:11,049 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:11,049 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:11,049 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:11,050 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:11,050 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:11,050 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:11,050 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:11,051 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:11,051 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:11,051 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:11,051 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:11,051 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:11,051 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:30:11,051 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:11,051 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:11,051 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580372'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:11,051 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:11,051 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580372': None}
2023-11-26 00:30:11,052 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958611.0521138, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:30:11,058 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:30:11,059 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:11,059 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:11,060 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:11,062 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:11,062 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,063 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:11,064 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,064 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,065 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:11,065 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,065 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,065 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:11,065 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,065 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,065 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,066 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:30:11,066 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:11,068 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:11,068 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,070 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:11,070 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,070 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,070 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:11,071 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,071 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,071 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:11,071 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,071 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,072 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,072 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:30:11,072 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:11,072 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:11,072 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,072 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:11,073 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,073 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,073 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:11,074 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,074 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,075 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:11,077 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,078 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:11,078 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:11,079 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:30:11,080 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03145289421081543
2023-11-26 00:30:11,080 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03145289421081543
2023-11-26 00:30:11,081 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:11,081 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:11,081 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:11,081 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:11,081 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:11,081 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:11,081 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:11,082 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:30:11,082 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:11,082 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:11,082 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:11,082 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:11,083 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:11,083 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:11,083 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:11,084 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-899' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:30:11,090 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:11,090 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:11,095 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958611.095658, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:11,095 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958611.0958593, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:11,097 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:30:11,106 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:11,107 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 25, trainer version: 24
2023-11-26 00:30:11,108 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:30:11,108 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:30:11,108 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:11,108 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:11,108 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:11,115 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 25, trainer ver: 24
agg ver: 25, trainer ver: 24
2023-11-26 00:30:11,116 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:11,116 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:30:11,117 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:30:11,117 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:30:11,117 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:30:11,119 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 25
2023-11-26 00:30:11,119 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 25, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 12, '505f9fc483cf4df68a2409257b5fad7d3c580376': 10, '505f9fc483cf4df68a2409257b5fad7d3c580378': 7, '505f9fc483cf4df68a2409257b5fad7d3c580372': 4, '505f9fc483cf4df68a2409257b5fad7d3c580377': 10, '505f9fc483cf4df68a2409257b5fad7d3c580379': 6, '505f9fc483cf4df68a2409257b5fad7d3c580380': 7, '505f9fc483cf4df68a2409257b5fad7d3c580374': 6, '505f9fc483cf4df68a2409257b5fad7d3c580371': 4, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 12, '505f9fc483cf4df68a2409257b5fad7d3c580376': 10, '505f9fc483cf4df68a2409257b5fad7d3c580378': 7, '505f9fc483cf4df68a2409257b5fad7d3c580372': 4, '505f9fc483cf4df68a2409257b5fad7d3c580377': 10, '505f9fc483cf4df68a2409257b5fad7d3c580379': 6, '505f9fc483cf4df68a2409257b5fad7d3c580380': 7, '505f9fc483cf4df68a2409257b5fad7d3c580374': 6, '505f9fc483cf4df68a2409257b5fad7d3c580371': 4, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}
2023-11-26 00:30:11,119 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2666666666666666
2023-11-26 00:30:11,120 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9166666666666666, P50 1.0, P90 1.0, P99 1.8900000000000006
2023-11-26 00:30:11,121 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.0999999999999996, P99 1.9100000000000001
2023-11-26 00:30:11,122 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.2857142857142858, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:30:11,123 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 2.0, P99 2.0
2023-11-26 00:30:11,124 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:30:11,124 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.8333333333333333, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:11,125 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.5714285714285714, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:11,126 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:11,127 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:11,128 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:30:11,128 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04726576805114746
2023-11-26 00:30:11,128 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04726576805114746
2023-11-26 00:30:11,128 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.384185791015625e-06
2023-11-26 00:30:11,128 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.384185791015625e-06
2023-11-26 00:30:11,285 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:11,292 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:11,295 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:11,296 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:12,481 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:12,497 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:12,498 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:12,504 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:12,504 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:12,505 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:12,506 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:12,506 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:12,507 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:12,509 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:12,514 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 0: 1048576
2023-11-26 00:30:12,515 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:12,516 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:12,516 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:12,517 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:12,519 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:12,523 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 1: 1048576
2023-11-26 00:30:12,524 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:12,525 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:12,525 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:12,526 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:12,527 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 2: 57063
2023-11-26 00:30:12,527 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:12,537 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:12,538 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:30:12,825 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:12,828 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:12,829 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:12,830 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:12,830 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:12,833 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:12,834 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:12,834 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:12,835 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:12,836 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:12,837 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:12,838 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:12,842 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 0: 1048576
2023-11-26 00:30:12,844 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:12,844 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:12,845 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:12,846 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:12,846 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:12,846 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:12,848 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:12,850 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 1: 1048576
2023-11-26 00:30:12,851 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:12,852 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:12,852 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:12,853 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:12,853 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 2: 57063
2023-11-26 00:30:12,854 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:12,860 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:12,861 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:30:13,462 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:13,471 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:13,472 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:13,476 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:13,476 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:13,477 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:13,478 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:13,479 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:13,480 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:13,483 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:13,487 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 0: 1048576
2023-11-26 00:30:13,488 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:13,489 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:13,489 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:13,489 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:13,490 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:13,490 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:13,492 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:13,496 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 1: 1048576
2023-11-26 00:30:13,496 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:13,498 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 2: 57063
2023-11-26 00:30:13,498 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:13,503 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:13,504 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:30:17,497 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.0542993351221086
2023-11-26 00:30:17,498 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 2668/10000 (0.2668)
2023-11-26 00:30:17,500 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086]
2023-11-26 00:30:17,501 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.372399091720581
2023-11-26 00:30:17,501 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.372399091720581
2023-11-26 00:30:17,502 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:30:17,502 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004432201385498047
2023-11-26 00:30:17,503 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004432201385498047
2023-11-26 00:30:17,503 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 68.8
2023-11-26 00:30:17,504 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 85.8
2023-11-26 00:30:17,505 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 74.25714285714285
2023-11-26 00:30:17,506 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 68.8
2023-11-26 00:30:17,507 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 68.9
2023-11-26 00:30:17,507 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 79.35
2023-11-26 00:30:17,508 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 7.196796339415226
2023-11-26 00:30:17,509 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1104756736
2023-11-26 00:30:17,509 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1107017728
2023-11-26 00:30:17,509 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1106067456.0
2023-11-26 00:30:17,510 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1104822272.0
2023-11-26 00:30:17,511 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1107017728.0
2023-11-26 00:30:17,512 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1107017728.0
2023-11-26 00:30:17,512 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 1097893.923494303
2023-11-26 00:30:17,512 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321582080
2023-11-26 00:30:17,513 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321635328
2023-11-26 00:30:17,513 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321618358.857143
2023-11-26 00:30:17,513 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321608704.0
2023-11-26 00:30:17,514 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321631232.0
2023-11-26 00:30:17,514 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321631232.0
2023-11-26 00:30:17,515 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 21721.33515646752
2023-11-26 00:30:17,515 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.0542993351221086, 'test-accuracy': 0.2668, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0003960132598876953, 'send.bytes': 6462612, 'distribute.runtime': 0.03145289421081543, 'recv.bytes': 6462645, 'aggregate.runtime': 0.04726576805114746, 'train.runtime': 2.384185791015625e-06, 'evaluate.runtime': 6.372399091720581, 'analysis.runtime': 0.0004432201385498047, 'min.cpu_utilization': 68.8, 'max.cpu_utilization': 85.8, 'mean.cpu_utilization': 74.25714285714285, '25th_prcntl.cpu_utilization': 68.8, '50th_prcntl.cpu_utilization': 68.9, '75th_prcntl.cpu_utilization': 79.35, 'std.cpu_utilization': 7.196796339415226, 'min.cpu_memory_rss': 1104756736, 'max.cpu_memory_rss': 1107017728, 'mean.cpu_memory_rss': 1106067456.0, '25th_prcntl.cpu_memory_rss': 1104822272.0, '50th_prcntl.cpu_memory_rss': 1107017728.0, '75th_prcntl.cpu_memory_rss': 1107017728.0, 'std.cpu_memory_rss': 1097893.923494303, 'min.cpu_memory_vsz': 14321582080, 'max.cpu_memory_vsz': 14321635328, 'mean.cpu_memory_vsz': 14321618358.857143, '25th_prcntl.cpu_memory_vsz': 14321608704.0, '50th_prcntl.cpu_memory_vsz': 14321631232.0, '75th_prcntl.cpu_memory_vsz': 14321631232.0, 'std.cpu_memory_vsz': 21721.33515646752, 'save_metrics.runtime': 0.012440681457519531, 'inc_round.runtime': 0.0008285045623779297}
2023-11-26 00:30:17,515 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:30:17,515 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.012312173843383789
2023-11-26 00:30:17,516 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.012312173843383789
2023-11-26 00:30:17,516 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 25
2023-11-26 00:30:17,516 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:30:17,516 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:17,516 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 26
2023-11-26 00:30:17,517 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0007789134979248047
2023-11-26 00:30:17,517 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0007789134979248047
2023-11-26 00:30:17,517 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:30:17,517 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:30:17,517 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00037789344787597656
2023-11-26 00:30:17,518 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00037789344787597656
2023-11-26 00:30:17,518 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:17,519 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:17,520 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:17,520 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:17,521 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:17,522 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:17,522 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:17,522 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:17,523 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:17,523 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:17,523 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:30:17,524 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:17,524 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:17,524 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:30:17,525 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:17,525 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:17,526 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:17,526 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:17,526 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958617.5267751, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:17,544 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:30:17,545 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:17,545 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:17,546 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:17,549 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:17,550 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,552 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:17,552 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,552 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,555 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:17,555 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,555 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,555 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:17,555 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,556 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,556 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,556 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:30:17,556 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:17,558 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:17,558 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,559 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:17,560 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,560 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,560 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:17,560 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,560 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,560 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:17,560 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,561 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,561 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,561 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:30:17,561 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:17,561 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:17,562 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,562 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:17,562 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,562 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,563 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:17,564 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,564 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,564 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:17,564 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,564 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,564 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,564 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:30:17,565 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.046976566314697266
2023-11-26 00:30:17,565 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.046976566314697266
2023-11-26 00:30:17,566 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:17,566 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:17,567 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:17,567 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:17,567 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:17,567 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:17,567 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:17,567 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:30:17,567 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:17,567 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:17,567 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:17,568 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:17,568 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:17,568 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:17,568 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:17,569 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:17,569 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:30:17,569 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:30:17,569 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:30:17,569 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:30:17,569 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:30:17,571 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:30:17,571 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:30:17,584 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958617.5842068, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:30:17,584 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958617.584536, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:30:17,585 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580378's parameters trained with 4612 samples
2023-11-26 00:30:17,599 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:17,599 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 26, trainer version: 24
2023-11-26 00:30:17,599 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:30:17,599 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580378 in dict
2023-11-26 00:30:17,600 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:17,600 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:17,600 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:17,605 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 26, trainer ver: 24
agg ver: 26, trainer ver: 24
2023-11-26 00:30:17,605 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:17,606 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:30:17,606 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:30:17,606 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04007601737976074
2023-11-26 00:30:17,606 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04007601737976074
2023-11-26 00:30:17,606 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:17,607 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:17,607 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:17,608 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:17,608 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:17,608 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:17,609 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:17,609 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:17,609 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:17,610 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:17,610 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:30:17,610 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: recvd
2023-11-26 00:30:17,610 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:17,611 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:17,611 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:17,611 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:17,612 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:17,612 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:30:17,612 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958617.6128385, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:17,625 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:30:17,626 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:17,626 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:17,631 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:17,634 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:17,636 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,638 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:17,638 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,638 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,639 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:17,640 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,641 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,643 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:17,643 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,644 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,644 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,644 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:30:17,645 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:17,646 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:17,647 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,649 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:17,649 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,650 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,650 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:17,650 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,650 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,651 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:17,652 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,652 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,652 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,652 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:30:17,652 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:17,653 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:17,653 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,653 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:17,653 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,653 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,654 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:17,654 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,654 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,654 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:17,654 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,654 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,655 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,655 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:30:17,655 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04884147644042969
2023-11-26 00:30:17,655 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04884147644042969
2023-11-26 00:30:17,655 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:17,656 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:17,656 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:17,656 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:17,656 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:17,656 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:17,656 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:17,656 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:30:17,656 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:17,657 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:17,657 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:17,657 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:17,657 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:17,657 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:17,657 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:17,658 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-926' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:30:17,658 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:30:17,658 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:30:17,663 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958617.6634476, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:30:17,663 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958617.6636443, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:30:17,665 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580380's parameters trained with 5285 samples
2023-11-26 00:30:17,673 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:17,673 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 26, trainer version: 25
2023-11-26 00:30:17,673 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:30:17,674 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580380 in dict
2023-11-26 00:30:17,674 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:17,674 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:17,674 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:17,679 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 26, trainer ver: 25
agg ver: 26, trainer ver: 25
2023-11-26 00:30:17,679 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:17,680 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:30:17,680 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:30:17,680 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.02453160285949707
2023-11-26 00:30:17,680 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.02453160285949707
2023-11-26 00:30:17,680 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:17,681 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:17,681 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:17,681 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:17,682 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:17,682 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:17,682 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:17,682 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:17,682 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:17,683 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:17,683 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:30:17,683 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: recvd
2023-11-26 00:30:17,683 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:17,683 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:17,683 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:17,684 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580374'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:17,684 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:17,684 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580374': None}
2023-11-26 00:30:17,684 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958617.684673, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:17,692 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:30:17,693 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:17,693 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:17,694 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:17,695 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:17,696 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,697 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:17,697 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,697 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,699 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:17,699 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,700 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,700 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:17,700 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,700 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,701 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,701 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:30:17,701 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:17,703 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:17,703 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,704 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:17,705 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,705 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,706 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:17,706 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,707 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,707 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:17,708 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,708 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,709 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,709 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:30:17,723 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:17,724 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:17,724 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,725 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:17,725 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,726 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,726 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:17,726 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,727 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,727 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:17,728 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,728 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:17,728 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:17,729 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:30:17,729 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.049150943756103516
2023-11-26 00:30:17,730 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.049150943756103516
2023-11-26 00:30:17,730 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:17,730 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:17,730 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:17,730 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:17,731 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:17,731 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:17,731 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:17,731 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:30:17,731 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:17,731 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:17,731 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:17,731 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:17,732 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:17,732 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:17,733 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:17,734 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-933' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:30:17,734 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:30:17,734 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:30:17,739 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958617.7394142, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:30:17,739 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958617.7396731, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:30:17,740 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580372's parameters trained with 5929 samples
2023-11-26 00:30:17,749 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:17,749 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 26, trainer version: 25
2023-11-26 00:30:17,749 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:30:17,750 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580372 in dict
2023-11-26 00:30:17,750 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:17,750 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:17,750 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:17,756 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 26, trainer ver: 25
agg ver: 26, trainer ver: 25
2023-11-26 00:30:17,756 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:17,756 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:30:17,757 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:30:17,757 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:30:17,757 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:30:17,758 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 26
2023-11-26 00:30:17,759 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 26, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 12, '505f9fc483cf4df68a2409257b5fad7d3c580376': 10, '505f9fc483cf4df68a2409257b5fad7d3c580378': 8, '505f9fc483cf4df68a2409257b5fad7d3c580372': 5, '505f9fc483cf4df68a2409257b5fad7d3c580377': 10, '505f9fc483cf4df68a2409257b5fad7d3c580379': 6, '505f9fc483cf4df68a2409257b5fad7d3c580380': 8, '505f9fc483cf4df68a2409257b5fad7d3c580374': 6, '505f9fc483cf4df68a2409257b5fad7d3c580371': 4, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 12, '505f9fc483cf4df68a2409257b5fad7d3c580376': 10, '505f9fc483cf4df68a2409257b5fad7d3c580378': 8, '505f9fc483cf4df68a2409257b5fad7d3c580372': 5, '505f9fc483cf4df68a2409257b5fad7d3c580377': 10, '505f9fc483cf4df68a2409257b5fad7d3c580379': 6, '505f9fc483cf4df68a2409257b5fad7d3c580380': 8, '505f9fc483cf4df68a2409257b5fad7d3c580374': 6, '505f9fc483cf4df68a2409257b5fad7d3c580371': 4, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}
2023-11-26 00:30:17,759 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2692307692307692
2023-11-26 00:30:17,760 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9166666666666666, P50 1.0, P90 1.0, P99 1.8900000000000006
2023-11-26 00:30:17,760 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.0999999999999996, P99 1.9100000000000001
2023-11-26 00:30:17,761 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.375, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:30:17,762 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.4, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:30:17,762 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:30:17,763 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.8333333333333333, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:17,764 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 2.0, P99 2.0
2023-11-26 00:30:17,764 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:17,765 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:17,765 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:30:17,766 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03575754165649414
2023-11-26 00:30:17,766 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03575754165649414
2023-11-26 00:30:17,766 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.384185791015625e-06
2023-11-26 00:30:17,766 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.384185791015625e-06
2023-11-26 00:30:18,774 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:18,791 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:18,792 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:18,799 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:18,800 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:18,800 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:18,801 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:18,802 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:18,802 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:18,805 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:18,807 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:30:18,808 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:18,809 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:18,809 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:18,810 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:18,815 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:18,817 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:30:18,817 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:18,818 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:18,819 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:18,820 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:18,820 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:30:18,821 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:18,828 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:18,829 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:30:18,911 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:18,914 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:18,915 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:18,918 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:18,919 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:18,921 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:18,923 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:18,923 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:18,924 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:18,929 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:18,933 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:30:18,935 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:18,936 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:18,936 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:18,937 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:18,938 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:18,938 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:18,942 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:18,946 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:30:18,947 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:18,948 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:30:18,949 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:18,959 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:18,960 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:30:19,241 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:19,247 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:19,247 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:19,250 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:19,251 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:19,252 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:19,253 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:19,253 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:19,254 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:19,255 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:19,260 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 0: 1048576
2023-11-26 00:30:19,261 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:19,262 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:19,263 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:19,263 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:19,264 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:19,265 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:19,266 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:19,270 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 1: 1048576
2023-11-26 00:30:19,271 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:19,272 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 2: 57063
2023-11-26 00:30:19,273 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:19,280 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:19,282 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:30:24,538 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.241740001535416
2023-11-26 00:30:24,540 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 2231/10000 (0.2231)
2023-11-26 00:30:24,542 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416]
2023-11-26 00:30:24,542 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.775946140289307
2023-11-26 00:30:24,543 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.775946140289307
2023-11-26 00:30:24,544 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:30:24,544 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004508495330810547
2023-11-26 00:30:24,544 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004508495330810547
2023-11-26 00:30:24,545 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 69.9
2023-11-26 00:30:24,546 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 89.8
2023-11-26 00:30:24,546 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 77.67142857142858
2023-11-26 00:30:24,547 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 74.3
2023-11-26 00:30:24,548 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 74.8
2023-11-26 00:30:24,549 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 80.3
2023-11-26 00:30:24,550 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 6.015388429618129
2023-11-26 00:30:24,550 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1107034112
2023-11-26 00:30:24,551 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1109225472
2023-11-26 00:30:24,551 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1108893110.857143
2023-11-26 00:30:24,552 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1109196800.0
2023-11-26 00:30:24,552 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1109196800.0
2023-11-26 00:30:24,553 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1109200896.0
2023-11-26 00:30:24,553 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 758992.316442838
2023-11-26 00:30:24,553 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321582080
2023-11-26 00:30:24,554 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321631232
2023-11-26 00:30:24,554 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321596123.428572
2023-11-26 00:30:24,554 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:30:24,555 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:30:24,555 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321606656.0
2023-11-26 00:30:24,556 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 22204.610221799456
2023-11-26 00:30:24,556 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.241740001535416, 'test-accuracy': 0.2231, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00037789344787597656, 'send.bytes': 6462612, 'distribute.runtime': 0.049150943756103516, 'recv.bytes': 6462645, 'aggregate.runtime': 0.03575754165649414, 'train.runtime': 2.384185791015625e-06, 'evaluate.runtime': 6.775946140289307, 'analysis.runtime': 0.0004508495330810547, 'min.cpu_utilization': 69.9, 'max.cpu_utilization': 89.8, 'mean.cpu_utilization': 77.67142857142858, '25th_prcntl.cpu_utilization': 74.3, '50th_prcntl.cpu_utilization': 74.8, '75th_prcntl.cpu_utilization': 80.3, 'std.cpu_utilization': 6.015388429618129, 'min.cpu_memory_rss': 1107034112, 'max.cpu_memory_rss': 1109225472, 'mean.cpu_memory_rss': 1108893110.857143, '25th_prcntl.cpu_memory_rss': 1109196800.0, '50th_prcntl.cpu_memory_rss': 1109196800.0, '75th_prcntl.cpu_memory_rss': 1109200896.0, 'std.cpu_memory_rss': 758992.316442838, 'min.cpu_memory_vsz': 14321582080, 'max.cpu_memory_vsz': 14321631232, 'mean.cpu_memory_vsz': 14321596123.428572, '25th_prcntl.cpu_memory_vsz': 14321582080.0, '50th_prcntl.cpu_memory_vsz': 14321582080.0, '75th_prcntl.cpu_memory_vsz': 14321606656.0, 'std.cpu_memory_vsz': 22204.610221799456, 'save_metrics.runtime': 0.012312173843383789, 'inc_round.runtime': 0.0007789134979248047}
2023-11-26 00:30:24,557 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:30:24,557 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.012282848358154297
2023-11-26 00:30:24,557 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.012282848358154297
2023-11-26 00:30:24,557 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 26
2023-11-26 00:30:24,558 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:30:24,558 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:24,558 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 27
2023-11-26 00:30:24,558 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0007963180541992188
2023-11-26 00:30:24,558 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0007963180541992188
2023-11-26 00:30:24,559 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:30:24,559 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:30:24,559 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00038743019104003906
2023-11-26 00:30:24,559 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00038743019104003906
2023-11-26 00:30:24,560 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:24,561 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:24,562 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:24,562 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:24,564 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:24,564 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:24,565 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:24,565 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:24,566 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:24,567 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:24,567 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: recvd
2023-11-26 00:30:24,568 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:24,568 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:24,569 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:24,569 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:24,570 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580379'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:24,570 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:24,571 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580379': None}
2023-11-26 00:30:24,572 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958624.5721252, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:30:24,589 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:30:24,589 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:24,590 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:24,591 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:24,596 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:24,596 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,598 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:24,598 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,598 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,601 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:24,601 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,602 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,602 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:24,602 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,602 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,603 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,603 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:30:24,603 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:24,605 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:24,605 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,606 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:24,606 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,606 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,607 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:24,607 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,607 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,607 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:24,608 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,608 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,608 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,608 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:30:24,608 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:24,609 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:24,609 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,609 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:24,610 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,610 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,610 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:24,611 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,611 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,611 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:24,611 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,612 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,612 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,612 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:30:24,612 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05272626876831055
2023-11-26 00:30:24,613 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05272626876831055
2023-11-26 00:30:24,613 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:24,613 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:24,614 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:24,614 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:24,614 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:24,614 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:24,614 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:24,614 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:24,614 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:24,615 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:24,615 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:24,615 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:24,615 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:24,615 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:24,615 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:24,616 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:24,617 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:30:24,617 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:24,617 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:30:24,617 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:24,617 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:30:24,618 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:24,619 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:24,634 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958624.6341994, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:24,634 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958624.6345365, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:24,636 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580371's parameters trained with 8920 samples
2023-11-26 00:30:24,650 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:24,650 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 27, trainer version: 25
2023-11-26 00:30:24,651 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:30:24,651 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580371 in dict
2023-11-26 00:30:24,651 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:24,651 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:24,651 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:24,656 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 27, trainer ver: 25
agg ver: 27, trainer ver: 25
2023-11-26 00:30:24,656 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:24,656 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:30:24,657 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:30:24,657 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04384732246398926
2023-11-26 00:30:24,657 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04384732246398926
2023-11-26 00:30:24,657 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:24,658 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:24,658 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:24,659 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:24,660 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:24,660 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:24,661 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:24,661 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:24,661 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:24,662 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: recvd
2023-11-26 00:30:24,662 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:24,662 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:24,663 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:24,663 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:24,663 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:24,664 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580373'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:24,664 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:24,665 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None}
2023-11-26 00:30:24,665 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958624.6656463, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:30:24,677 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:30:24,678 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:24,678 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:24,679 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:24,705 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:24,705 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,706 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:24,706 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,706 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,707 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:24,707 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,707 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,707 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:24,707 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,708 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,708 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,708 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:30:24,708 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:24,710 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:24,710 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,712 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:24,712 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,712 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,712 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:24,713 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,713 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,713 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:24,713 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,714 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,714 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,714 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:30:24,714 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:24,715 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:24,715 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,720 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:24,720 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,720 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,720 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:24,720 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,720 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,721 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:24,721 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,721 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,721 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,721 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:30:24,721 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.06420278549194336
2023-11-26 00:30:24,722 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.06420278549194336
2023-11-26 00:30:24,722 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:24,722 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:24,722 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:24,722 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:24,723 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:24,723 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:24,723 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:30:24,723 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:24,723 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:24,723 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:24,723 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:24,723 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:24,724 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:24,724 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:24,724 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:24,724 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-960' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:30:24,725 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:24,725 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:24,732 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958624.732149, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:24,732 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958624.7327452, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:24,734 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:30:24,743 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:24,744 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 27, trainer version: 26
2023-11-26 00:30:24,744 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:30:24,744 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:30:24,744 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:24,744 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:24,744 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:24,750 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 27, trainer ver: 26
agg ver: 27, trainer ver: 26
2023-11-26 00:30:24,750 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:24,751 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:30:24,751 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:30:24,751 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.029129743576049805
2023-11-26 00:30:24,751 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.029129743576049805
2023-11-26 00:30:24,751 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:24,752 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:24,752 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:24,752 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:24,753 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:24,753 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:24,753 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:24,754 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:24,754 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:24,754 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:30:24,754 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:24,754 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:24,754 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:30:24,755 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:24,755 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:24,755 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580371'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:24,755 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:24,755 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None}
2023-11-26 00:30:24,756 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958624.7562735, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:24,764 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:30:24,765 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:24,766 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:24,767 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:24,769 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:24,770 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,772 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:24,773 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,773 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,775 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:24,776 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,777 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,777 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:24,778 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,779 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,780 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,780 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:30:24,783 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:24,785 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:24,786 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,787 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:24,787 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,803 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,804 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:24,804 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,804 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,804 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:24,805 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,805 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,805 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,805 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:30:24,805 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:24,806 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:24,806 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,806 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:24,806 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,807 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,807 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:24,807 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,807 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,807 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:24,808 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,808 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:24,808 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:24,808 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:30:24,808 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05720019340515137
2023-11-26 00:30:24,809 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05720019340515137
2023-11-26 00:30:24,809 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:24,810 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:24,810 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:24,810 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:24,810 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:24,811 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:24,811 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:30:24,811 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:24,811 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:24,811 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:24,811 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:24,812 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:24,812 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:24,812 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:24,812 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:24,813 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-967' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:30:24,813 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:24,813 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:24,819 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958624.8194494, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:24,819 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958624.819722, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:24,822 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:30:24,830 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:24,830 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 27, trainer version: 26
2023-11-26 00:30:24,830 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:30:24,830 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:30:24,830 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:24,831 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:24,831 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:24,837 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 27, trainer ver: 26
agg ver: 27, trainer ver: 26
2023-11-26 00:30:24,837 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:24,838 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:30:24,838 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:30:24,838 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:30:24,838 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:30:24,839 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 27
2023-11-26 00:30:24,839 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 27, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 13, '505f9fc483cf4df68a2409257b5fad7d3c580376': 11, '505f9fc483cf4df68a2409257b5fad7d3c580378': 8, '505f9fc483cf4df68a2409257b5fad7d3c580372': 5, '505f9fc483cf4df68a2409257b5fad7d3c580377': 10, '505f9fc483cf4df68a2409257b5fad7d3c580379': 6, '505f9fc483cf4df68a2409257b5fad7d3c580380': 8, '505f9fc483cf4df68a2409257b5fad7d3c580374': 6, '505f9fc483cf4df68a2409257b5fad7d3c580371': 5, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 13, '505f9fc483cf4df68a2409257b5fad7d3c580376': 11, '505f9fc483cf4df68a2409257b5fad7d3c580378': 8, '505f9fc483cf4df68a2409257b5fad7d3c580372': 5, '505f9fc483cf4df68a2409257b5fad7d3c580377': 10, '505f9fc483cf4df68a2409257b5fad7d3c580379': 6, '505f9fc483cf4df68a2409257b5fad7d3c580380': 8, '505f9fc483cf4df68a2409257b5fad7d3c580374': 6, '505f9fc483cf4df68a2409257b5fad7d3c580371': 5, '505f9fc483cf4df68a2409257b5fad7d3c580373': 9}
2023-11-26 00:30:24,839 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.271604938271605
2023-11-26 00:30:24,840 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9230769230769231, P50 1.0, P90 1.0, P99 1.879999999999999
2023-11-26 00:30:24,840 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.0, P99 1.9000000000000004
2023-11-26 00:30:24,841 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.375, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:30:24,841 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.4, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:30:24,842 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:30:24,842 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.8333333333333333, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:24,842 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 2.0, P99 2.0
2023-11-26 00:30:24,843 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:24,843 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:24,844 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:30:24,844 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03474593162536621
2023-11-26 00:30:24,844 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03474593162536621
2023-11-26 00:30:24,844 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 1.9073486328125e-06
2023-11-26 00:30:24,844 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 1.9073486328125e-06
2023-11-26 00:30:25,249 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:25,263 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:25,264 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:25,268 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:25,269 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:25,269 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:25,270 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:25,271 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:25,271 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:25,275 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:25,279 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 0: 1048576
2023-11-26 00:30:25,280 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:25,281 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:25,281 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:25,281 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:25,283 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:25,287 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 1: 1048576
2023-11-26 00:30:25,288 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:25,289 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:25,289 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:25,290 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:25,290 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 2: 57063
2023-11-26 00:30:25,291 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:25,301 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:25,302 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:30:26,715 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:26,724 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:26,725 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:26,729 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:26,729 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:26,730 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:26,731 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:26,732 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:26,733 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:26,735 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:26,739 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 0: 1048576
2023-11-26 00:30:26,740 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:26,741 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:26,741 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:26,742 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:26,742 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:26,742 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:26,744 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:26,745 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:26,749 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 1: 1048576
2023-11-26 00:30:26,749 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:26,750 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 2: 57063
2023-11-26 00:30:26,756 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:26,757 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:30:27,177 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:27,183 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:27,184 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:27,187 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:27,187 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:27,188 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:27,189 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:27,190 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:27,191 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:27,192 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:27,196 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 0: 1048576
2023-11-26 00:30:27,197 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:27,198 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:27,199 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:27,200 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:27,200 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:27,201 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:27,202 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:27,206 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 1: 1048576
2023-11-26 00:30:27,207 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:27,208 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 2: 57063
2023-11-26 00:30:27,209 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:27,214 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:27,215 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:30:31,007 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.2344790036678313
2023-11-26 00:30:31,010 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 2391/10000 (0.2391)
2023-11-26 00:30:31,012 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313]
2023-11-26 00:30:31,012 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.167647123336792
2023-11-26 00:30:31,013 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.167647123336792
2023-11-26 00:30:31,013 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:30:31,014 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.00046896934509277344
2023-11-26 00:30:31,014 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.00046896934509277344
2023-11-26 00:30:31,015 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 68.9
2023-11-26 00:30:31,016 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 81.9
2023-11-26 00:30:31,016 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 73.88333333333333
2023-11-26 00:30:31,017 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 69.825
2023-11-26 00:30:31,018 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 70.9
2023-11-26 00:30:31,019 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 78.65
2023-11-26 00:30:31,020 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 5.397658957568757
2023-11-26 00:30:31,020 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1109237760
2023-11-26 00:30:31,021 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1113235456
2023-11-26 00:30:31,021 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1111902208.0
2023-11-26 00:30:31,022 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1110242304.0
2023-11-26 00:30:31,023 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1113231360.0
2023-11-26 00:30:31,023 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1113231360.0
2023-11-26 00:30:31,024 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 1881154.9833837012
2023-11-26 00:30:31,024 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321582080
2023-11-26 00:30:31,024 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321635328
2023-11-26 00:30:31,025 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321599146.666666
2023-11-26 00:30:31,025 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:30:31,026 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:30:31,026 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321618944.0
2023-11-26 00:30:31,027 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 24164.85720122417
2023-11-26 00:30:31,027 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.2344790036678313, 'test-accuracy': 0.2391, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00038743019104003906, 'send.bytes': 6462612, 'distribute.runtime': 0.05720019340515137, 'recv.bytes': 6462645, 'aggregate.runtime': 0.03474593162536621, 'train.runtime': 1.9073486328125e-06, 'evaluate.runtime': 6.167647123336792, 'analysis.runtime': 0.00046896934509277344, 'min.cpu_utilization': 68.9, 'max.cpu_utilization': 81.9, 'mean.cpu_utilization': 73.88333333333333, '25th_prcntl.cpu_utilization': 69.825, '50th_prcntl.cpu_utilization': 70.9, '75th_prcntl.cpu_utilization': 78.65, 'std.cpu_utilization': 5.397658957568757, 'min.cpu_memory_rss': 1109237760, 'max.cpu_memory_rss': 1113235456, 'mean.cpu_memory_rss': 1111902208.0, '25th_prcntl.cpu_memory_rss': 1110242304.0, '50th_prcntl.cpu_memory_rss': 1113231360.0, '75th_prcntl.cpu_memory_rss': 1113231360.0, 'std.cpu_memory_rss': 1881154.9833837012, 'min.cpu_memory_vsz': 14321582080, 'max.cpu_memory_vsz': 14321635328, 'mean.cpu_memory_vsz': 14321599146.666666, '25th_prcntl.cpu_memory_vsz': 14321582080.0, '50th_prcntl.cpu_memory_vsz': 14321582080.0, '75th_prcntl.cpu_memory_vsz': 14321618944.0, 'std.cpu_memory_vsz': 24164.85720122417, 'save_metrics.runtime': 0.012282848358154297, 'inc_round.runtime': 0.0007963180541992188}
2023-11-26 00:30:31,027 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:30:31,027 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.012781143188476562
2023-11-26 00:30:31,028 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.012781143188476562
2023-11-26 00:30:31,028 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 27
2023-11-26 00:30:31,028 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:30:31,028 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:31,029 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 28
2023-11-26 00:30:31,029 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0009250640869140625
2023-11-26 00:30:31,029 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0009250640869140625
2023-11-26 00:30:31,029 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:30:31,030 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:30:31,030 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0004146099090576172
2023-11-26 00:30:31,030 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0004146099090576172
2023-11-26 00:30:31,030 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:31,031 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:31,032 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:31,033 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:31,034 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:31,035 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:31,035 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:31,035 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:31,036 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:31,036 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:30:31,036 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:31,037 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:31,037 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:31,037 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:30:31,038 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:31,038 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:31,038 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:31,039 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:31,039 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958631.0397933, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:31,061 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:30:31,062 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:31,062 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:31,063 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:31,067 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,067 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,068 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,069 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,069 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,072 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,072 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,072 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,072 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,072 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,073 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,073 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,073 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:30:31,073 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:31,075 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,075 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,076 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,077 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,077 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,077 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,077 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,077 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,077 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,078 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,078 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,078 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,078 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:30:31,078 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:31,078 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,079 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,079 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,079 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,079 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,081 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,081 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,081 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,081 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,081 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,081 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,081 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,082 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:30:31,082 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.051770925521850586
2023-11-26 00:30:31,083 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.051770925521850586
2023-11-26 00:30:31,083 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:31,084 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:31,084 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:31,084 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:31,084 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:31,084 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:31,084 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:30:31,084 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:31,084 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:31,085 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:31,085 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:31,085 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:31,085 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:31,085 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:31,085 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:31,086 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:30:31,087 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:30:31,087 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:31,088 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:30:31,088 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:30:31,088 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:30:31,091 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:31,091 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:31,102 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958631.102491, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:31,103 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958631.1030169, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:31,104 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580374's parameters trained with 5749 samples
2023-11-26 00:30:31,119 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:31,120 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 28, trainer version: 26
2023-11-26 00:30:31,120 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:30:31,120 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580374 in dict
2023-11-26 00:30:31,120 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:31,120 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:31,120 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:31,127 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 28, trainer ver: 26
agg ver: 28, trainer ver: 26
2023-11-26 00:30:31,127 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:31,128 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:30:31,128 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:30:31,128 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04505753517150879
2023-11-26 00:30:31,128 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04505753517150879
2023-11-26 00:30:31,128 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:31,129 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:31,129 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:31,130 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:31,130 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:31,131 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:31,131 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:31,132 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:31,132 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:31,132 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:30:31,132 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:31,133 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: recvd
2023-11-26 00:30:31,133 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:31,133 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:31,134 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:31,134 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580377'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:31,134 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:31,134 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None}
2023-11-26 00:30:31,135 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958631.1353734, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:30:31,148 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:30:31,148 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:31,148 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:31,149 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:31,151 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,151 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,152 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,153 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,153 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,155 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,156 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,156 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,156 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,156 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,157 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,157 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,157 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:30:31,158 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:31,159 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,160 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,161 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,161 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,161 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,161 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,162 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,164 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,165 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,169 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,170 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,170 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,170 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:30:31,171 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:31,171 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,172 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,172 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,173 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,173 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,173 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,174 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,174 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,175 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,175 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,176 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,176 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,178 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:30:31,178 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.049884796142578125
2023-11-26 00:30:31,178 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.049884796142578125
2023-11-26 00:30:31,179 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:31,179 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:31,180 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:31,181 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:31,182 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:31,183 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:31,183 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:30:31,183 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:31,184 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:30:31,184 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:31,184 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:31,185 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:31,191 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:31,192 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:31,192 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:31,192 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-994' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:30:31,193 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:30:31,193 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:30:31,199 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958631.1993277, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:30:31,199 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958631.199893, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:30:31,201 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580373's parameters trained with 1384 samples
2023-11-26 00:30:31,209 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:31,209 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 28, trainer version: 27
2023-11-26 00:30:31,209 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:30:31,209 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580373 in dict
2023-11-26 00:30:31,209 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:31,210 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:31,210 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:31,214 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 28, trainer ver: 27
agg ver: 28, trainer ver: 27
2023-11-26 00:30:31,215 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:31,216 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:30:31,217 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:30:31,217 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03887057304382324
2023-11-26 00:30:31,218 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03887057304382324
2023-11-26 00:30:31,219 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:31,220 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:31,221 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:31,223 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:31,225 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:31,226 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:31,227 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:31,227 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:31,228 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:31,228 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: recvd
2023-11-26 00:30:31,228 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:31,228 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:30:31,228 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:31,228 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:31,228 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:31,228 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580378'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:31,228 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:31,229 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None}
2023-11-26 00:30:31,229 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958631.2292328, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:30:31,232 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:30:31,233 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:31,233 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:31,233 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:31,234 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,235 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,236 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,236 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,236 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,238 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,238 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,239 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,241 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,244 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,246 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,249 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,251 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:30:31,253 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:31,255 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,256 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,257 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,257 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,257 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,258 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,259 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,259 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,259 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,259 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,259 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,259 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,260 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:30:31,260 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:31,260 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,260 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,260 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,261 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,261 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,261 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,261 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,261 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,261 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,261 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,261 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:31,262 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:31,262 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:30:31,262 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04353976249694824
2023-11-26 00:30:31,262 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04353976249694824
2023-11-26 00:30:31,263 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:31,263 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:31,263 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:31,263 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:31,263 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:31,264 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:31,264 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:31,264 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:30:31,264 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:31,264 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:31,264 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:31,264 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:31,264 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:31,264 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:31,265 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:31,265 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1001' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:30:31,266 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:30:31,266 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:30:31,271 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958631.2716224, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:30:31,271 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958631.271851, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:30:31,272 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580379's parameters trained with 7607 samples
2023-11-26 00:30:31,280 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:31,280 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 28, trainer version: 27
2023-11-26 00:30:31,280 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:30:31,280 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580379 in dict
2023-11-26 00:30:31,281 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:31,281 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:31,281 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:31,285 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 28, trainer ver: 27
agg ver: 28, trainer ver: 27
2023-11-26 00:30:31,285 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:31,286 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:30:31,286 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:30:31,286 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:30:31,286 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:30:31,287 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 28
2023-11-26 00:30:31,287 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 28, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 13, '505f9fc483cf4df68a2409257b5fad7d3c580376': 11, '505f9fc483cf4df68a2409257b5fad7d3c580378': 8, '505f9fc483cf4df68a2409257b5fad7d3c580372': 5, '505f9fc483cf4df68a2409257b5fad7d3c580377': 10, '505f9fc483cf4df68a2409257b5fad7d3c580379': 7, '505f9fc483cf4df68a2409257b5fad7d3c580380': 8, '505f9fc483cf4df68a2409257b5fad7d3c580374': 7, '505f9fc483cf4df68a2409257b5fad7d3c580371': 5, '505f9fc483cf4df68a2409257b5fad7d3c580373': 10}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 13, '505f9fc483cf4df68a2409257b5fad7d3c580376': 11, '505f9fc483cf4df68a2409257b5fad7d3c580378': 8, '505f9fc483cf4df68a2409257b5fad7d3c580372': 5, '505f9fc483cf4df68a2409257b5fad7d3c580377': 10, '505f9fc483cf4df68a2409257b5fad7d3c580379': 7, '505f9fc483cf4df68a2409257b5fad7d3c580380': 8, '505f9fc483cf4df68a2409257b5fad7d3c580374': 7, '505f9fc483cf4df68a2409257b5fad7d3c580371': 5, '505f9fc483cf4df68a2409257b5fad7d3c580373': 10}
2023-11-26 00:30:31,287 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2738095238095237
2023-11-26 00:30:31,288 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9230769230769231, P50 1.0, P90 1.0, P99 1.879999999999999
2023-11-26 00:30:31,288 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.0, P99 1.9000000000000004
2023-11-26 00:30:31,289 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.375, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:30:31,289 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.4, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:30:31,290 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:30:31,290 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.7142857142857142, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:31,290 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 2.0, P99 2.0
2023-11-26 00:30:31,291 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.7142857142857142, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:31,291 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:31,292 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:30:31,292 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.029181957244873047
2023-11-26 00:30:31,292 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.029181957244873047
2023-11-26 00:30:31,292 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 1.9073486328125e-06
2023-11-26 00:30:31,292 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 1.9073486328125e-06
2023-11-26 00:30:31,878 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:31,894 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,895 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:31,900 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:31,901 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,901 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:31,903 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,903 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:31,904 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:31,907 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:31,911 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 0: 1048576
2023-11-26 00:30:31,912 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:31,913 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:31,913 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,913 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:31,916 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:31,920 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 1: 1048576
2023-11-26 00:30:31,921 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:31,922 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:31,922 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:31,923 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:31,923 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 2: 57063
2023-11-26 00:30:31,924 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:31,935 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:31,936 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:30:32,459 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:32,464 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:32,465 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:32,468 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:32,469 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:32,470 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:32,470 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:32,473 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:32,474 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:32,475 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:32,479 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:30:32,481 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:32,482 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:32,483 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:32,483 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:32,484 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:32,485 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:32,486 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:32,490 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:30:32,491 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:32,492 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:30:32,493 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:32,501 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:32,502 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:30:32,734 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:32,738 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:32,739 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:32,739 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:32,740 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:32,748 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:32,748 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:32,749 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:32,751 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:32,751 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:32,752 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:32,756 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:32,760 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 0: 1048576
2023-11-26 00:30:32,761 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:32,762 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:32,763 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:32,763 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:32,766 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:32,770 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 1: 1048576
2023-11-26 00:30:32,771 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:32,772 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 2: 57063
2023-11-26 00:30:32,773 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:32,784 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:32,784 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:30:37,781 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.12243889670372
2023-11-26 00:30:37,782 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 2179/10000 (0.2179)
2023-11-26 00:30:37,784 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372]
2023-11-26 00:30:37,785 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.492110729217529
2023-11-26 00:30:37,785 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.492110729217529
2023-11-26 00:30:37,786 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:30:37,786 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004565715789794922
2023-11-26 00:30:37,787 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004565715789794922
2023-11-26 00:30:37,787 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 70.8
2023-11-26 00:30:37,788 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 79.8
2023-11-26 00:30:37,788 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 73.27142857142857
2023-11-26 00:30:37,789 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 70.9
2023-11-26 00:30:37,790 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 71.8
2023-11-26 00:30:37,791 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 74.35
2023-11-26 00:30:37,791 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 3.0442987865912254
2023-11-26 00:30:37,792 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1113219072
2023-11-26 00:30:37,792 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1114505216
2023-11-26 00:30:37,792 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1114174610.2857144
2023-11-26 00:30:37,793 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1113997312.0
2023-11-26 00:30:37,793 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1114501120.0
2023-11-26 00:30:37,794 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1114501120.0
2023-11-26 00:30:37,794 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 521600.9509844843
2023-11-26 00:30:37,795 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321582080
2023-11-26 00:30:37,795 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321635328
2023-11-26 00:30:37,795 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321596708.571428
2023-11-26 00:30:37,796 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:30:37,797 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:30:37,797 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321606656.0
2023-11-26 00:30:37,797 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 23155.69320217966
2023-11-26 00:30:37,798 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.12243889670372, 'test-accuracy': 0.2179, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0004146099090576172, 'send.bytes': 6462612, 'distribute.runtime': 0.04353976249694824, 'recv.bytes': 6462645, 'aggregate.runtime': 0.029181957244873047, 'train.runtime': 1.9073486328125e-06, 'evaluate.runtime': 6.492110729217529, 'analysis.runtime': 0.0004565715789794922, 'min.cpu_utilization': 70.8, 'max.cpu_utilization': 79.8, 'mean.cpu_utilization': 73.27142857142857, '25th_prcntl.cpu_utilization': 70.9, '50th_prcntl.cpu_utilization': 71.8, '75th_prcntl.cpu_utilization': 74.35, 'std.cpu_utilization': 3.0442987865912254, 'min.cpu_memory_rss': 1113219072, 'max.cpu_memory_rss': 1114505216, 'mean.cpu_memory_rss': 1114174610.2857144, '25th_prcntl.cpu_memory_rss': 1113997312.0, '50th_prcntl.cpu_memory_rss': 1114501120.0, '75th_prcntl.cpu_memory_rss': 1114501120.0, 'std.cpu_memory_rss': 521600.9509844843, 'min.cpu_memory_vsz': 14321582080, 'max.cpu_memory_vsz': 14321635328, 'mean.cpu_memory_vsz': 14321596708.571428, '25th_prcntl.cpu_memory_vsz': 14321582080.0, '50th_prcntl.cpu_memory_vsz': 14321582080.0, '75th_prcntl.cpu_memory_vsz': 14321606656.0, 'std.cpu_memory_vsz': 23155.69320217966, 'save_metrics.runtime': 0.012781143188476562, 'inc_round.runtime': 0.0009250640869140625}
2023-11-26 00:30:37,798 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:30:37,798 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011550426483154297
2023-11-26 00:30:37,799 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011550426483154297
2023-11-26 00:30:37,799 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 28
2023-11-26 00:30:37,799 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:30:37,799 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:37,800 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 29
2023-11-26 00:30:37,800 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0007355213165283203
2023-11-26 00:30:37,800 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0007355213165283203
2023-11-26 00:30:37,800 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:30:37,800 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:30:37,800 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00030112266540527344
2023-11-26 00:30:37,801 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00030112266540527344
2023-11-26 00:30:37,801 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:37,802 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:37,802 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:37,803 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:37,804 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:37,804 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:37,805 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:37,805 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:37,805 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:37,806 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:37,806 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:30:37,806 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:37,807 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: recvd
2023-11-26 00:30:37,807 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:37,807 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:37,808 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580379'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:37,808 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:37,808 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580379': None}
2023-11-26 00:30:37,809 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958637.8094578, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:30:37,824 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:30:37,825 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:37,825 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:37,827 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:37,830 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:37,831 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,833 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:37,833 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,833 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,836 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:37,836 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,836 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,837 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:37,837 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,837 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,837 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,837 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:30:37,838 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:37,839 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:37,839 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,840 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:37,841 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,841 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,841 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:37,841 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,841 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,842 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:37,842 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,842 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,842 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,842 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:30:37,842 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:37,843 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:37,843 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,843 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:37,843 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,843 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,845 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:37,845 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,845 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,845 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:37,845 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,846 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,846 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,846 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:30:37,846 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04552340507507324
2023-11-26 00:30:37,847 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04552340507507324
2023-11-26 00:30:37,847 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:37,848 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:37,848 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:37,848 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:37,848 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:37,849 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:37,849 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:37,849 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:30:37,849 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:37,849 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:37,849 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:37,849 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:37,849 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:37,849 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:37,850 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:37,851 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:30:37,851 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:30:37,852 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:30:37,852 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:30:37,852 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:37,853 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:30:37,855 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:37,856 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:37,866 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958637.866746, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:37,867 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958637.8672583, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:37,869 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580371's parameters trained with 8920 samples
2023-11-26 00:30:37,885 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:37,885 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 29, trainer version: 27
2023-11-26 00:30:37,886 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:30:37,886 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580371 in dict
2023-11-26 00:30:37,886 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:37,886 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:37,886 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:37,892 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 29, trainer ver: 27
agg ver: 29, trainer ver: 27
2023-11-26 00:30:37,892 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:37,893 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:30:37,893 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:30:37,893 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.0456538200378418
2023-11-26 00:30:37,893 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.0456538200378418
2023-11-26 00:30:37,893 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:37,894 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:37,894 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:37,895 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:37,896 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:37,897 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:37,897 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:37,898 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:37,898 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:37,898 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: recvd
2023-11-26 00:30:37,899 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:30:37,899 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:37,900 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:37,900 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:37,901 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:37,902 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:37,903 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:37,905 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:30:37,907 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958637.9072068, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:37,920 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:30:37,922 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:37,923 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:37,925 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:37,929 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:37,944 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,945 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:37,945 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,946 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,946 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:37,946 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,947 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,947 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:37,948 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,948 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,949 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,949 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:30:37,950 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:37,953 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:37,954 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,955 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:37,955 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,956 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,956 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:37,957 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,957 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,957 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:37,958 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,971 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,971 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,971 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:30:37,971 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:37,971 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:37,971 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,972 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:37,972 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,972 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,972 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:37,972 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,972 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,972 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:37,972 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,973 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:37,973 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:37,973 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:30:37,973 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.08010458946228027
2023-11-26 00:30:37,974 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.08010458946228027
2023-11-26 00:30:37,974 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:37,974 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:37,974 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:37,975 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:37,975 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:37,975 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:37,975 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:30:37,975 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:37,975 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:37,975 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:37,975 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:37,975 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:37,975 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:37,976 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:37,976 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:37,976 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1028' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:30:37,977 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:30:37,977 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:30:37,980 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958637.9807656, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:30:37,981 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958637.980975, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:30:37,982 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580377's parameters trained with 2122 samples
2023-11-26 00:30:37,990 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:37,990 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 29, trainer version: 28
2023-11-26 00:30:37,990 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:30:37,991 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580377 in dict
2023-11-26 00:30:37,991 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:37,991 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:37,991 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:37,996 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 29, trainer ver: 28
agg ver: 29, trainer ver: 28
2023-11-26 00:30:37,996 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:37,996 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:30:37,997 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:30:37,997 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.02295660972595215
2023-11-26 00:30:37,997 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.02295660972595215
2023-11-26 00:30:37,997 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:37,997 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:37,998 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:37,998 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:37,998 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:37,999 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:37,999 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:37,999 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:37,999 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:37,999 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: recvd
2023-11-26 00:30:38,000 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:38,000 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:38,000 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:38,000 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:38,000 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:38,001 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580374'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:38,001 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:38,001 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580374': None}
2023-11-26 00:30:38,001 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958638.001707, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:38,009 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:30:38,010 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:38,010 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:38,011 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:38,014 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:38,015 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:38,019 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:38,021 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:38,022 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:38,024 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:38,024 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:38,024 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:38,025 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:38,025 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:38,026 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:38,026 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:38,026 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:30:38,027 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:38,028 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:38,029 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:38,030 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:38,030 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:38,031 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:38,031 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:38,032 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:38,032 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:38,032 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:38,032 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:38,033 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:38,033 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:38,033 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:30:38,034 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:38,034 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:38,034 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:38,035 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:38,035 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:38,035 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:38,035 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:38,036 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:38,036 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:38,036 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:38,036 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:38,037 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:38,037 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:38,037 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:30:38,037 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.040470123291015625
2023-11-26 00:30:38,038 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.040470123291015625
2023-11-26 00:30:38,038 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:38,040 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:38,040 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:38,040 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:38,040 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:38,040 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:38,040 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:38,040 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:38,041 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:38,041 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:38,041 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:38,041 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:38,041 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:38,041 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:38,041 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:38,042 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1035' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:30:38,042 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:38,043 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:38,048 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958638.048495, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:38,048 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958638.0488505, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:38,050 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:30:38,061 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:38,061 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 29, trainer version: 28
2023-11-26 00:30:38,061 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:30:38,061 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:30:38,062 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:38,062 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:38,062 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:38,067 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 29, trainer ver: 28
agg ver: 29, trainer ver: 28
2023-11-26 00:30:38,067 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:38,068 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:30:38,068 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:30:38,068 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:30:38,068 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:30:38,069 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 29
2023-11-26 00:30:38,070 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 29, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 13, '505f9fc483cf4df68a2409257b5fad7d3c580376': 12, '505f9fc483cf4df68a2409257b5fad7d3c580378': 8, '505f9fc483cf4df68a2409257b5fad7d3c580372': 5, '505f9fc483cf4df68a2409257b5fad7d3c580377': 11, '505f9fc483cf4df68a2409257b5fad7d3c580379': 7, '505f9fc483cf4df68a2409257b5fad7d3c580380': 8, '505f9fc483cf4df68a2409257b5fad7d3c580374': 7, '505f9fc483cf4df68a2409257b5fad7d3c580371': 6, '505f9fc483cf4df68a2409257b5fad7d3c580373': 10}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 13, '505f9fc483cf4df68a2409257b5fad7d3c580376': 12, '505f9fc483cf4df68a2409257b5fad7d3c580378': 8, '505f9fc483cf4df68a2409257b5fad7d3c580372': 5, '505f9fc483cf4df68a2409257b5fad7d3c580377': 11, '505f9fc483cf4df68a2409257b5fad7d3c580379': 7, '505f9fc483cf4df68a2409257b5fad7d3c580380': 8, '505f9fc483cf4df68a2409257b5fad7d3c580374': 7, '505f9fc483cf4df68a2409257b5fad7d3c580371': 6, '505f9fc483cf4df68a2409257b5fad7d3c580373': 10}
2023-11-26 00:30:38,070 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2758620689655173
2023-11-26 00:30:38,072 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9230769230769231, P50 1.0, P90 1.0, P99 1.879999999999999
2023-11-26 00:30:38,072 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.0, P99 1.8900000000000006
2023-11-26 00:30:38,074 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.375, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:30:38,074 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.4, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:30:38,075 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:30:38,092 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.7142857142857142, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:38,093 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 2.0, P99 2.0
2023-11-26 00:30:38,094 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.7142857142857142, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:38,095 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:38,096 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:30:38,096 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.05797266960144043
2023-11-26 00:30:38,097 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.05797266960144043
2023-11-26 00:30:38,097 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 3.337860107421875e-06
2023-11-26 00:30:38,098 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 3.337860107421875e-06
2023-11-26 00:30:39,116 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:39,133 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:39,134 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:39,138 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:39,139 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:39,140 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:39,141 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:39,142 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:39,142 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:39,145 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:39,147 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:30:39,148 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:39,149 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:39,149 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:39,149 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:39,151 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:39,153 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:30:39,154 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:39,155 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:39,155 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:39,156 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:39,156 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:30:39,156 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:39,164 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:39,165 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:30:39,700 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:39,703 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:39,704 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:39,707 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:39,708 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:39,709 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:39,712 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:39,713 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:39,716 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:39,717 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:39,717 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:39,718 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:39,719 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:39,723 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 0: 1048576
2023-11-26 00:30:39,724 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:39,725 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:39,726 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:39,727 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:30:39,727 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:39,732 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:39,736 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 0: 1048576
2023-11-26 00:30:39,738 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:30:39,742 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 1: 1048576
2023-11-26 00:30:39,744 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:39,746 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 2: 57061
2023-11-26 00:30:39,747 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:39,748 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:39,748 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:39,749 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:39,754 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 1: 1048576
2023-11-26 00:30:39,756 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154213
2023-11-26 00:30:39,757 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308428
2023-11-26 00:30:39,792 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:39,793 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:39,793 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:39,794 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:39,794 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:39,795 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 2: 57063
2023-11-26 00:30:39,796 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:39,806 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:39,807 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462643
2023-11-26 00:30:44,706 | main.py:161 | INFO | MainThread | evaluate | Test loss: 3.1016431164979936
2023-11-26 00:30:44,709 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1466/10000 (0.1466)
2023-11-26 00:30:44,711 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936]
2023-11-26 00:30:44,711 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.612518787384033
2023-11-26 00:30:44,712 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.612518787384033
2023-11-26 00:30:44,712 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:30:44,713 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.00047135353088378906
2023-11-26 00:30:44,713 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.00047135353088378906
2023-11-26 00:30:44,714 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 67.8
2023-11-26 00:30:44,714 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 79.8
2023-11-26 00:30:44,715 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 74.97142857142858
2023-11-26 00:30:44,716 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 71.85
2023-11-26 00:30:44,717 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 75.8
2023-11-26 00:30:44,717 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 78.85
2023-11-26 00:30:44,718 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 4.510531893156689
2023-11-26 00:30:44,719 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1114513408
2023-11-26 00:30:44,719 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1116540928
2023-11-26 00:30:44,719 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1115937060.5714285
2023-11-26 00:30:44,720 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1115500544.0
2023-11-26 00:30:44,721 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1116479488.0
2023-11-26 00:30:44,721 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1116512256.0
2023-11-26 00:30:44,721 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 898154.4493725306
2023-11-26 00:30:44,722 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321582080
2023-11-26 00:30:44,722 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321635328
2023-11-26 00:30:44,722 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321597293.714285
2023-11-26 00:30:44,723 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:30:44,723 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:30:44,724 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321608704.0
2023-11-26 00:30:44,724 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 22828.072027435777
2023-11-26 00:30:44,724 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 3.1016431164979936, 'test-accuracy': 0.1466, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00030112266540527344, 'send.bytes': 6462612, 'distribute.runtime': 0.040470123291015625, 'recv.bytes': 6462643, 'aggregate.runtime': 0.05797266960144043, 'train.runtime': 3.337860107421875e-06, 'evaluate.runtime': 6.612518787384033, 'analysis.runtime': 0.00047135353088378906, 'min.cpu_utilization': 67.8, 'max.cpu_utilization': 79.8, 'mean.cpu_utilization': 74.97142857142858, '25th_prcntl.cpu_utilization': 71.85, '50th_prcntl.cpu_utilization': 75.8, '75th_prcntl.cpu_utilization': 78.85, 'std.cpu_utilization': 4.510531893156689, 'min.cpu_memory_rss': 1114513408, 'max.cpu_memory_rss': 1116540928, 'mean.cpu_memory_rss': 1115937060.5714285, '25th_prcntl.cpu_memory_rss': 1115500544.0, '50th_prcntl.cpu_memory_rss': 1116479488.0, '75th_prcntl.cpu_memory_rss': 1116512256.0, 'std.cpu_memory_rss': 898154.4493725306, 'min.cpu_memory_vsz': 14321582080, 'max.cpu_memory_vsz': 14321635328, 'mean.cpu_memory_vsz': 14321597293.714285, '25th_prcntl.cpu_memory_vsz': 14321582080.0, '50th_prcntl.cpu_memory_vsz': 14321582080.0, '75th_prcntl.cpu_memory_vsz': 14321608704.0, 'std.cpu_memory_vsz': 22828.072027435777, 'save_metrics.runtime': 0.011550426483154297, 'inc_round.runtime': 0.0007355213165283203}
2023-11-26 00:30:44,724 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:30:44,725 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011324405670166016
2023-11-26 00:30:44,725 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011324405670166016
2023-11-26 00:30:44,725 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 29
2023-11-26 00:30:44,725 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:30:44,725 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:44,726 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 30
2023-11-26 00:30:44,726 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.000850677490234375
2023-11-26 00:30:44,726 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.000850677490234375
2023-11-26 00:30:44,726 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:30:44,727 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:30:44,727 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0004184246063232422
2023-11-26 00:30:44,727 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0004184246063232422
2023-11-26 00:30:44,727 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:44,728 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:44,729 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:44,730 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:44,731 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:44,731 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:44,732 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:44,732 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:44,733 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:44,733 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:44,733 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:44,733 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:44,734 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:44,734 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:30:44,734 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:44,735 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580371'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:30:44,735 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:30:44,735 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None}
2023-11-26 00:30:44,736 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958644.736195, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:44,754 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:30:44,754 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:44,754 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:44,756 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:44,760 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:44,760 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,761 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:44,762 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,762 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,764 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:44,765 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,765 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,765 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:44,765 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,765 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,766 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,766 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:30:44,766 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:44,767 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:44,768 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,768 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:44,769 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,769 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,770 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:44,770 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,771 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,771 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:44,771 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,771 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,771 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,771 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:30:44,772 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:44,772 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:44,772 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,772 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:44,773 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,773 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,774 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:44,774 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,774 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,774 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:44,775 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,775 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,775 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,775 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:30:44,775 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04800772666931152
2023-11-26 00:30:44,776 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04800772666931152
2023-11-26 00:30:44,776 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:44,777 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:44,777 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:44,777 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:44,777 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:44,777 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:30:44,778 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:44,778 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:44,778 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:44,778 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:44,778 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:44,778 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:30:44,778 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:30:44,778 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:30:44,779 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:44,779 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:44,780 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:30:44,780 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:30:44,780 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:30:44,780 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:44,780 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:30:44,781 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:30:44,782 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:30:44,795 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958644.795105, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:30:44,795 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958644.795453, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:30:44,796 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580378's parameters trained with 4612 samples
2023-11-26 00:30:44,810 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:44,810 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 30, trainer version: 28
2023-11-26 00:30:44,811 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:30:44,811 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580378 in dict
2023-11-26 00:30:44,811 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:44,811 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:44,811 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:44,816 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 30, trainer ver: 28
agg ver: 30, trainer ver: 28
2023-11-26 00:30:44,816 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:44,816 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:30:44,817 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:30:44,817 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.0404665470123291
2023-11-26 00:30:44,817 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.0404665470123291
2023-11-26 00:30:44,817 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:44,817 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:44,818 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:44,818 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:44,819 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:44,819 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:44,819 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:44,819 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:44,819 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:30:44,820 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:44,820 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: recvd
2023-11-26 00:30:44,820 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:44,820 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:44,820 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:44,820 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:44,821 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580377'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:30:44,821 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:30:44,821 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None}
2023-11-26 00:30:44,821 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958644.8218741, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:30:44,830 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:30:44,830 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:44,830 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:44,831 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:44,835 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:44,835 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,836 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:44,836 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,837 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,839 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:44,839 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,840 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,840 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:44,840 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,840 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,841 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,841 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:30:44,841 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:44,843 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:44,843 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,845 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:44,845 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,845 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,845 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:44,845 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,846 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,846 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:44,846 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,846 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,846 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,846 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:30:44,847 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:44,847 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:44,847 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,847 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:44,847 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,848 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,849 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:44,850 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,850 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,851 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:44,851 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,852 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,852 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,853 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:30:44,853 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03635978698730469
2023-11-26 00:30:44,854 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03635978698730469
2023-11-26 00:30:44,854 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:44,879 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:44,880 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:44,880 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:44,880 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:44,880 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:30:44,880 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:44,881 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:30:44,881 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:44,881 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:44,881 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:44,881 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:30:44,882 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:30:44,882 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:30:44,882 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:44,883 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1062' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:30:44,884 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:44,885 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:44,890 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958644.8907907, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:44,891 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958644.891142, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:44,892 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:30:44,901 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:44,901 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 30, trainer version: 29
2023-11-26 00:30:44,901 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:30:44,901 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:30:44,901 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:44,901 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:44,901 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:44,915 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 30, trainer ver: 29
agg ver: 30, trainer ver: 29
2023-11-26 00:30:44,916 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:44,916 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:30:44,916 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:30:44,917 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.0628359317779541
2023-11-26 00:30:44,917 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.0628359317779541
2023-11-26 00:30:44,917 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:44,918 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:44,918 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:44,919 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:44,919 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:44,919 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:44,919 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:44,920 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:44,920 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:30:44,920 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:44,920 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:30:44,920 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:44,920 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:44,920 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:30:44,920 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:44,920 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:44,921 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:44,921 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:44,921 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958644.9213471, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:44,927 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:30:44,927 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:44,928 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:44,928 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:44,930 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:44,930 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,931 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:44,932 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,932 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,934 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:44,934 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,934 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,935 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:44,935 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,935 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,935 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,935 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:30:44,936 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:44,937 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:44,937 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,938 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:44,938 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,938 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,938 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:44,938 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,938 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,939 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:44,939 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,939 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,939 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,939 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:30:44,939 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:44,939 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:44,939 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,940 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:44,940 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,940 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,940 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:44,941 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,941 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,941 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:44,941 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,941 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:44,941 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:44,941 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:30:44,941 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.02434563636779785
2023-11-26 00:30:44,942 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.02434563636779785
2023-11-26 00:30:44,942 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:44,942 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:44,943 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:44,943 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:44,943 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:44,943 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:44,943 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:44,944 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:30:44,944 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:44,944 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:30:44,944 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:44,944 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:44,944 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:44,945 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:44,945 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:44,946 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1069' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:30:44,947 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:30:44,947 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:30:44,953 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958644.9533691, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:30:44,953 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958644.9538395, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:30:44,956 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580379's parameters trained with 7607 samples
2023-11-26 00:30:44,966 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:44,966 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 30, trainer version: 29
2023-11-26 00:30:44,966 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:30:44,967 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580379 in dict
2023-11-26 00:30:44,967 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:44,967 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:44,967 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:44,973 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 30, trainer ver: 29
agg ver: 30, trainer ver: 29
2023-11-26 00:30:44,973 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:44,974 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:30:44,974 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:30:44,974 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:30:44,974 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:30:44,975 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 30
2023-11-26 00:30:44,975 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 30, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 14, '505f9fc483cf4df68a2409257b5fad7d3c580376': 12, '505f9fc483cf4df68a2409257b5fad7d3c580378': 9, '505f9fc483cf4df68a2409257b5fad7d3c580372': 5, '505f9fc483cf4df68a2409257b5fad7d3c580377': 11, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 8, '505f9fc483cf4df68a2409257b5fad7d3c580374': 7, '505f9fc483cf4df68a2409257b5fad7d3c580371': 6, '505f9fc483cf4df68a2409257b5fad7d3c580373': 10}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 14, '505f9fc483cf4df68a2409257b5fad7d3c580376': 12, '505f9fc483cf4df68a2409257b5fad7d3c580378': 9, '505f9fc483cf4df68a2409257b5fad7d3c580372': 5, '505f9fc483cf4df68a2409257b5fad7d3c580377': 11, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 8, '505f9fc483cf4df68a2409257b5fad7d3c580374': 7, '505f9fc483cf4df68a2409257b5fad7d3c580371': 6, '505f9fc483cf4df68a2409257b5fad7d3c580373': 10}
2023-11-26 00:30:44,976 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2777777777777777
2023-11-26 00:30:44,976 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9285714285714286, P50 1.0, P90 1.0, P99 1.8699999999999992
2023-11-26 00:30:44,977 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.0, P99 1.8900000000000006
2023-11-26 00:30:44,977 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.4444444444444444, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:30:44,978 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.4, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:30:44,978 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:30:44,979 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.625, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:44,979 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 2.0, P99 2.0
2023-11-26 00:30:44,979 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.7142857142857142, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:44,980 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:44,980 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:30:44,981 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.0387721061706543
2023-11-26 00:30:44,981 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.0387721061706543
2023-11-26 00:30:44,981 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.1457672119140625e-06
2023-11-26 00:30:44,981 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.1457672119140625e-06
2023-11-26 00:30:45,590 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:45,604 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:45,605 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:45,611 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:45,611 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:45,611 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:45,612 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:45,613 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:45,614 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:45,616 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:45,620 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 0: 1048576
2023-11-26 00:30:45,621 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:45,622 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:45,622 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:45,623 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:45,625 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:45,629 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 1: 1048576
2023-11-26 00:30:45,630 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:45,631 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:45,631 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:45,632 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:45,632 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 2: 57063
2023-11-26 00:30:45,633 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:45,643 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:45,644 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:30:46,338 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:46,342 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:46,343 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:46,345 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:46,346 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:46,347 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:46,347 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:46,348 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:46,349 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:46,350 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:46,354 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:30:46,355 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:46,356 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:46,356 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:46,357 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:46,357 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:46,358 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:46,359 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:46,362 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:30:46,363 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:46,364 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:30:46,365 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:46,376 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:46,377 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:30:47,257 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:47,266 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:47,267 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:47,271 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:47,271 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:47,272 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:47,273 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:47,274 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:47,275 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:47,278 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:47,280 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 0: 1048576
2023-11-26 00:30:47,281 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:47,282 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:47,283 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:47,283 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:47,285 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:47,288 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 1: 1048576
2023-11-26 00:30:47,289 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:30:47,290 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:47,291 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:30:47,291 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:47,292 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 2: 57061
2023-11-26 00:30:47,292 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:47,300 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154213
2023-11-26 00:30:47,301 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462643
2023-11-26 00:30:51,418 | main.py:161 | INFO | MainThread | evaluate | Test loss: 3.4063435605049133
2023-11-26 00:30:51,420 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1607/10000 (0.1607)
2023-11-26 00:30:51,422 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133]
2023-11-26 00:30:51,423 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.441177606582642
2023-11-26 00:30:51,423 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.441177606582642
2023-11-26 00:30:51,424 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:30:51,424 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004818439483642578
2023-11-26 00:30:51,425 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004818439483642578
2023-11-26 00:30:51,425 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 66.9
2023-11-26 00:30:51,426 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 82.8
2023-11-26 00:30:51,426 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 71.58571428571427
2023-11-26 00:30:51,428 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 68.4
2023-11-26 00:30:51,429 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 68.9
2023-11-26 00:30:51,429 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 72.85
2023-11-26 00:30:51,430 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 5.312096323198475
2023-11-26 00:30:51,431 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1116532736
2023-11-26 00:30:51,431 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1116737536
2023-11-26 00:30:51,431 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1116594761.142857
2023-11-26 00:30:51,432 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1116536832.0
2023-11-26 00:30:51,433 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1116540928.0
2023-11-26 00:30:51,434 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1116639232.0
2023-11-26 00:30:51,434 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 90335.89994717108
2023-11-26 00:30:51,434 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321582080
2023-11-26 00:30:51,435 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321635328
2023-11-26 00:30:51,435 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321589686.857143
2023-11-26 00:30:51,435 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:30:51,436 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:30:51,436 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:30:51,437 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 18632.918546245528
2023-11-26 00:30:51,437 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 3.4063435605049133, 'test-accuracy': 0.1607, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0004184246063232422, 'send.bytes': 6462612, 'distribute.runtime': 0.02434563636779785, 'recv.bytes': 6462643, 'aggregate.runtime': 0.0387721061706543, 'train.runtime': 2.1457672119140625e-06, 'evaluate.runtime': 6.441177606582642, 'analysis.runtime': 0.0004818439483642578, 'min.cpu_utilization': 66.9, 'max.cpu_utilization': 82.8, 'mean.cpu_utilization': 71.58571428571427, '25th_prcntl.cpu_utilization': 68.4, '50th_prcntl.cpu_utilization': 68.9, '75th_prcntl.cpu_utilization': 72.85, 'std.cpu_utilization': 5.312096323198475, 'min.cpu_memory_rss': 1116532736, 'max.cpu_memory_rss': 1116737536, 'mean.cpu_memory_rss': 1116594761.142857, '25th_prcntl.cpu_memory_rss': 1116536832.0, '50th_prcntl.cpu_memory_rss': 1116540928.0, '75th_prcntl.cpu_memory_rss': 1116639232.0, 'std.cpu_memory_rss': 90335.89994717108, 'min.cpu_memory_vsz': 14321582080, 'max.cpu_memory_vsz': 14321635328, 'mean.cpu_memory_vsz': 14321589686.857143, '25th_prcntl.cpu_memory_vsz': 14321582080.0, '50th_prcntl.cpu_memory_vsz': 14321582080.0, '75th_prcntl.cpu_memory_vsz': 14321582080.0, 'std.cpu_memory_vsz': 18632.918546245528, 'save_metrics.runtime': 0.011324405670166016, 'inc_round.runtime': 0.000850677490234375}
2023-11-26 00:30:51,437 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:30:51,437 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.012420654296875
2023-11-26 00:30:51,438 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.012420654296875
2023-11-26 00:30:51,438 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 30
2023-11-26 00:30:51,438 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:30:51,438 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:51,438 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 31
2023-11-26 00:30:51,439 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008308887481689453
2023-11-26 00:30:51,439 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008308887481689453
2023-11-26 00:30:51,439 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:30:51,439 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:30:51,440 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.000415802001953125
2023-11-26 00:30:51,440 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.000415802001953125
2023-11-26 00:30:51,440 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:51,441 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:51,442 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:51,442 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:51,444 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:51,444 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:51,445 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:51,445 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:51,445 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:51,446 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:51,446 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:30:51,446 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:51,447 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: recvd
2023-11-26 00:30:51,447 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:51,447 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:51,448 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580380'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:51,448 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:51,448 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580380': None}
2023-11-26 00:30:51,449 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958651.4493232, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:30:51,469 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:30:51,470 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:51,470 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:51,471 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:51,475 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:51,475 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,477 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:51,477 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,478 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,480 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:51,481 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,481 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,481 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:51,481 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,481 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,482 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,482 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:30:51,482 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:51,483 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:51,484 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,485 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:51,485 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,485 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,486 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:51,486 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,486 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,486 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:51,486 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,487 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,487 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,487 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:30:51,487 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:51,487 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:51,488 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,488 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:51,488 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,488 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,490 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:51,490 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,490 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,491 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:51,491 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,491 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,491 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,491 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:30:51,491 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.051316261291503906
2023-11-26 00:30:51,492 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.051316261291503906
2023-11-26 00:30:51,492 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:51,493 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:51,493 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:51,493 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:51,493 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:51,494 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:51,494 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:51,494 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:30:51,494 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:51,494 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:51,494 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:51,494 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:51,494 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:51,494 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:51,495 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:51,495 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:51,496 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:30:51,496 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:30:51,496 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:30:51,496 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:51,496 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:30:51,497 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:51,498 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:51,508 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958651.5086136, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:51,509 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958651.5090706, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:51,510 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580374's parameters trained with 5749 samples
2023-11-26 00:30:51,527 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:51,527 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 31, trainer version: 29
2023-11-26 00:30:51,527 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:30:51,527 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580374 in dict
2023-11-26 00:30:51,528 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:51,528 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:51,528 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:51,533 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 31, trainer ver: 29
agg ver: 31, trainer ver: 29
2023-11-26 00:30:51,533 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:51,534 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:30:51,534 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:30:51,534 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04187965393066406
2023-11-26 00:30:51,534 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04187965393066406
2023-11-26 00:30:51,535 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:51,535 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:51,535 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:51,536 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:51,536 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:51,536 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:51,537 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:51,537 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:51,537 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:51,537 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:51,537 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:30:51,537 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: recvd
2023-11-26 00:30:51,538 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:51,538 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:51,538 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:51,538 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580372'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:51,538 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:51,538 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580372': None}
2023-11-26 00:30:51,539 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958651.5391579, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:30:51,546 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:30:51,546 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:51,547 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:51,547 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:51,549 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:51,550 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,551 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:51,552 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,552 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,552 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:51,553 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,553 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,553 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:51,553 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,554 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,554 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,554 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:30:51,554 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:51,563 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:51,579 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,581 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:51,582 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,582 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,583 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:51,583 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,584 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,584 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:51,585 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,585 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,586 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,586 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:30:51,587 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:51,587 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:51,588 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,589 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:51,590 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,590 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,591 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:51,591 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,592 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,593 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:51,594 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,594 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,595 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,595 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:30:51,596 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.06103086471557617
2023-11-26 00:30:51,596 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.06103086471557617
2023-11-26 00:30:51,596 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:51,596 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:51,596 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:51,597 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:51,597 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:51,597 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:51,597 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:51,597 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:30:51,597 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:30:51,598 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:51,598 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:51,598 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:51,598 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:51,598 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:51,598 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:51,599 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1096' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:30:51,599 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:30:51,599 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:30:51,606 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958651.606667, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:30:51,607 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958651.6072674, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:30:51,608 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580377's parameters trained with 2122 samples
2023-11-26 00:30:51,617 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:51,617 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 31, trainer version: 30
2023-11-26 00:30:51,618 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:30:51,618 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580377 in dict
2023-11-26 00:30:51,618 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:51,618 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:51,618 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:51,622 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 31, trainer ver: 30
agg ver: 31, trainer ver: 30
2023-11-26 00:30:51,623 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:51,623 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:30:51,624 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:30:51,624 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.0276639461517334
2023-11-26 00:30:51,624 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.0276639461517334
2023-11-26 00:30:51,624 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:51,625 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:51,625 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:51,626 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:51,626 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:51,627 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:51,627 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:51,627 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:51,628 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:51,628 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:51,628 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: recvd
2023-11-26 00:30:51,628 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:30:51,629 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:51,629 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:51,629 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:51,629 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580374'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:51,630 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:51,630 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580374': None}
2023-11-26 00:30:51,630 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958651.6309035, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:51,641 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:30:51,643 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:51,645 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:51,647 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:51,652 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:51,654 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,656 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:51,657 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,657 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,657 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:51,658 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,658 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,658 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:51,658 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,659 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,659 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,659 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:30:51,660 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:51,661 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:51,661 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,662 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:51,662 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,663 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,663 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:51,663 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,663 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,663 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:51,663 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,664 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,664 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,664 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:30:51,664 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:51,664 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:51,665 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,665 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:51,665 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,665 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,665 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:51,665 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,665 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,666 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:51,666 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,666 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:51,666 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:51,666 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:30:51,667 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04247927665710449
2023-11-26 00:30:51,667 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04247927665710449
2023-11-26 00:30:51,667 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:51,667 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:51,668 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:51,668 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:51,668 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:51,668 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:51,668 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:51,668 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:30:51,668 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:51,669 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:51,669 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:30:51,669 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:30:51,669 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:51,669 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:30:51,669 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:51,670 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1103' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:30:51,670 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:51,671 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:51,676 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958651.676457, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:51,676 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958651.6767275, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:30:51,678 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:30:51,688 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:51,688 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 31, trainer version: 30
2023-11-26 00:30:51,688 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:30:51,688 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:30:51,688 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:51,688 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:51,688 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:51,694 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 31, trainer ver: 30
agg ver: 31, trainer ver: 30
2023-11-26 00:30:51,694 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:51,695 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:30:51,695 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:30:51,695 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:30:51,695 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:30:51,696 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 31
2023-11-26 00:30:51,696 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 31, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 14, '505f9fc483cf4df68a2409257b5fad7d3c580376': 13, '505f9fc483cf4df68a2409257b5fad7d3c580378': 9, '505f9fc483cf4df68a2409257b5fad7d3c580372': 5, '505f9fc483cf4df68a2409257b5fad7d3c580377': 12, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 8, '505f9fc483cf4df68a2409257b5fad7d3c580374': 8, '505f9fc483cf4df68a2409257b5fad7d3c580371': 6, '505f9fc483cf4df68a2409257b5fad7d3c580373': 10}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 14, '505f9fc483cf4df68a2409257b5fad7d3c580376': 13, '505f9fc483cf4df68a2409257b5fad7d3c580378': 9, '505f9fc483cf4df68a2409257b5fad7d3c580372': 5, '505f9fc483cf4df68a2409257b5fad7d3c580377': 12, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 8, '505f9fc483cf4df68a2409257b5fad7d3c580374': 8, '505f9fc483cf4df68a2409257b5fad7d3c580371': 6, '505f9fc483cf4df68a2409257b5fad7d3c580373': 10}
2023-11-26 00:30:51,696 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2795698924731183
2023-11-26 00:30:51,697 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9285714285714286, P50 1.0, P90 1.0, P99 1.8699999999999992
2023-11-26 00:30:51,697 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.0, P99 1.879999999999999
2023-11-26 00:30:51,698 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.4444444444444444, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:30:51,698 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.4, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:30:51,698 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:30:51,699 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.625, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:51,699 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 2.0, P99 2.0
2023-11-26 00:30:51,700 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.75, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:51,700 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:51,701 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:30:51,701 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03387308120727539
2023-11-26 00:30:51,701 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03387308120727539
2023-11-26 00:30:51,701 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.6226043701171875e-06
2023-11-26 00:30:51,701 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.6226043701171875e-06
2023-11-26 00:30:52,861 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:52,876 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:52,877 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:52,881 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:52,882 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:52,882 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:52,883 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:52,884 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:52,884 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:52,888 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:52,890 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 0: 1048576
2023-11-26 00:30:52,890 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:52,891 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:52,891 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:52,892 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:52,894 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:52,896 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 1: 1048576
2023-11-26 00:30:52,897 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:52,897 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:52,898 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:52,898 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:52,898 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 2: 57063
2023-11-26 00:30:52,899 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:52,907 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:52,907 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:30:53,354 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:53,365 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:53,366 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:53,369 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:53,370 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:53,370 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:53,371 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:53,372 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:53,373 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:53,376 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:53,378 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 0: 1048576
2023-11-26 00:30:53,379 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:53,380 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:53,380 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:53,381 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:53,381 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:53,382 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:53,383 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:53,386 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 1: 1048576
2023-11-26 00:30:53,387 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:53,388 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 2: 57063
2023-11-26 00:30:53,388 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:53,392 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:53,393 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:30:53,407 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:53,411 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:53,413 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:53,416 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:53,417 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:53,418 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:53,419 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:53,419 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:53,420 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:53,422 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:53,426 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 0: 1048576
2023-11-26 00:30:53,428 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:53,429 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:53,431 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:53,432 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:53,433 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:53,438 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 1: 1048576
2023-11-26 00:30:53,439 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:53,440 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:53,441 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:53,442 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:53,442 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 2: 57063
2023-11-26 00:30:53,443 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:53,454 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:53,454 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:30:57,363 | main.py:161 | INFO | MainThread | evaluate | Test loss: 3.40909480022192
2023-11-26 00:30:57,365 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1604/10000 (0.1604)
2023-11-26 00:30:57,366 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192]
2023-11-26 00:30:57,367 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 5.664931774139404
2023-11-26 00:30:57,367 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 5.664931774139404
2023-11-26 00:30:57,368 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:30:57,368 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004227161407470703
2023-11-26 00:30:57,368 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004227161407470703
2023-11-26 00:30:57,369 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 70.6
2023-11-26 00:30:57,369 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 85.8
2023-11-26 00:30:57,370 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 75.78
2023-11-26 00:30:57,371 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 73.8
2023-11-26 00:30:57,372 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 73.9
2023-11-26 00:30:57,373 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 74.8
2023-11-26 00:30:57,373 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 5.208608259410569
2023-11-26 00:30:57,374 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1116745728
2023-11-26 00:30:57,374 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1118887936
2023-11-26 00:30:57,375 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1118457856.0
2023-11-26 00:30:57,375 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1118883840.0
2023-11-26 00:30:57,376 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1118883840.0
2023-11-26 00:30:57,377 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1118887936.0
2023-11-26 00:30:57,377 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 856065.9598063692
2023-11-26 00:30:57,377 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321582080
2023-11-26 00:30:57,378 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321635328
2023-11-26 00:30:57,378 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321612390.4
2023-11-26 00:30:57,378 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321582080.0
2023-11-26 00:30:57,379 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321631232.0
2023-11-26 00:30:57,379 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321631232.0
2023-11-26 00:30:57,380 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 24793.490965170677
2023-11-26 00:30:57,380 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 3.40909480022192, 'test-accuracy': 0.1604, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.000415802001953125, 'send.bytes': 6462612, 'distribute.runtime': 0.04247927665710449, 'recv.bytes': 6462645, 'aggregate.runtime': 0.03387308120727539, 'train.runtime': 2.6226043701171875e-06, 'evaluate.runtime': 5.664931774139404, 'analysis.runtime': 0.0004227161407470703, 'min.cpu_utilization': 70.6, 'max.cpu_utilization': 85.8, 'mean.cpu_utilization': 75.78, '25th_prcntl.cpu_utilization': 73.8, '50th_prcntl.cpu_utilization': 73.9, '75th_prcntl.cpu_utilization': 74.8, 'std.cpu_utilization': 5.208608259410569, 'min.cpu_memory_rss': 1116745728, 'max.cpu_memory_rss': 1118887936, 'mean.cpu_memory_rss': 1118457856.0, '25th_prcntl.cpu_memory_rss': 1118883840.0, '50th_prcntl.cpu_memory_rss': 1118883840.0, '75th_prcntl.cpu_memory_rss': 1118887936.0, 'std.cpu_memory_rss': 856065.9598063692, 'min.cpu_memory_vsz': 14321582080, 'max.cpu_memory_vsz': 14321635328, 'mean.cpu_memory_vsz': 14321612390.4, '25th_prcntl.cpu_memory_vsz': 14321582080.0, '50th_prcntl.cpu_memory_vsz': 14321631232.0, '75th_prcntl.cpu_memory_vsz': 14321631232.0, 'std.cpu_memory_vsz': 24793.490965170677, 'save_metrics.runtime': 0.012420654296875, 'inc_round.runtime': 0.0008308887481689453}
2023-11-26 00:30:57,380 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:30:57,380 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011629104614257812
2023-11-26 00:30:57,380 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011629104614257812
2023-11-26 00:30:57,381 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 31
2023-11-26 00:30:57,381 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:30:57,381 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:57,381 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 32
2023-11-26 00:30:57,382 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008165836334228516
2023-11-26 00:30:57,382 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008165836334228516
2023-11-26 00:30:57,382 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:30:57,382 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:30:57,382 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0003910064697265625
2023-11-26 00:30:57,383 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0003910064697265625
2023-11-26 00:30:57,383 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:57,384 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:57,385 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:57,385 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:57,386 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:57,387 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:57,387 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:57,388 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:57,388 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:30:57,388 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:57,388 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:30:57,389 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:57,389 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:57,389 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:30:57,390 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:57,390 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580378'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380'}
2023-11-26 00:30:57,390 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380'}}
2023-11-26 00:30:57,391 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None}
2023-11-26 00:30:57,391 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958657.3914528, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:30:57,409 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:30:57,410 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:57,410 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:57,411 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:57,415 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:57,416 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,418 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:57,418 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,418 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,421 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:57,421 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,422 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,422 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:57,422 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,423 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,423 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,423 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:30:57,423 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:57,425 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:57,425 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,426 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:57,426 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,426 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,426 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:57,426 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,427 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,427 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:57,427 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,427 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,427 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,427 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:30:57,427 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:57,428 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:57,428 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,428 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:57,428 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,428 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,430 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:57,430 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,430 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,430 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:57,430 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,430 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,431 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,431 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:30:57,431 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04827070236206055
2023-11-26 00:30:57,432 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04827070236206055
2023-11-26 00:30:57,432 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:57,433 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:57,433 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:57,433 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:57,433 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:57,433 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380'}}
2023-11-26 00:30:57,433 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:30:57,433 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:30:57,434 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:57,434 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:57,434 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:57,434 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380'}
2023-11-26 00:30:57,434 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380'}}
2023-11-26 00:30:57,434 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None}
2023-11-26 00:30:57,434 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:57,435 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:30:57,435 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:30:57,435 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:30:57,435 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:30:57,436 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:30:57,436 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:30:57,437 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:57,437 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:57,450 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958657.4509525, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:57,451 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958657.4513113, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:30:57,452 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580371's parameters trained with 8920 samples
2023-11-26 00:30:57,467 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:57,467 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 32, trainer version: 30
2023-11-26 00:30:57,467 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:30:57,467 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580371 in dict
2023-11-26 00:30:57,467 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:57,467 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:57,468 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:57,472 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 32, trainer ver: 30
agg ver: 32, trainer ver: 30
2023-11-26 00:30:57,473 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:57,473 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:30:57,473 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:30:57,473 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04126167297363281
2023-11-26 00:30:57,473 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04126167297363281
2023-11-26 00:30:57,474 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:57,474 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:57,474 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:57,475 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:57,475 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:57,476 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:57,476 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:57,476 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:57,476 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380'}}
2023-11-26 00:30:57,476 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: recvd
2023-11-26 00:30:57,477 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:30:57,477 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:57,477 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:57,477 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:57,477 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:57,477 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:30:57,478 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:30:57,478 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:30:57,478 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958657.4787188, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:30:57,491 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:30:57,491 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:57,492 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:57,492 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:57,494 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:57,495 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,520 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:57,520 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,520 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,521 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:57,522 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,522 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,523 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:57,524 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,524 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,524 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,524 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:30:57,524 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:57,526 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:57,526 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,527 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:57,528 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,528 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,528 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:57,528 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,528 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,530 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:57,530 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,530 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,530 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,530 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:30:57,530 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:57,531 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:57,531 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,531 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:57,531 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,531 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,532 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:57,532 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,532 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,532 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:57,532 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,534 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,534 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,534 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:30:57,534 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.060794830322265625
2023-11-26 00:30:57,535 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.060794830322265625
2023-11-26 00:30:57,535 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:57,536 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:57,536 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:57,537 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:57,537 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:57,537 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:30:57,537 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:30:57,538 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:57,538 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:57,538 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:30:57,539 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:57,539 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:30:57,539 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:30:57,542 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:30:57,548 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:57,549 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1130' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:30:57,549 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:30:57,550 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:30:57,555 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958657.5555358, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:30:57,555 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958657.5557663, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:30:57,557 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580380's parameters trained with 5285 samples
2023-11-26 00:30:57,569 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:57,569 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 32, trainer version: 31
2023-11-26 00:30:57,569 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:30:57,570 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580380 in dict
2023-11-26 00:30:57,570 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:57,570 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:57,570 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:57,574 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 32, trainer ver: 31
agg ver: 32, trainer ver: 31
2023-11-26 00:30:57,574 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:57,575 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:30:57,575 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:30:57,575 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03984689712524414
2023-11-26 00:30:57,575 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03984689712524414
2023-11-26 00:30:57,576 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:30:57,576 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:30:57,577 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:30:57,577 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:30:57,579 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:57,579 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:57,580 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:57,581 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:57,583 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:30:57,584 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:30:57,584 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:57,585 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:57,586 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: recvd
2023-11-26 00:30:57,587 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:57,588 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:57,588 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580373'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:30:57,589 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:30:57,589 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None}
2023-11-26 00:30:57,589 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958657.5898871, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:30:57,595 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:30:57,595 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:30:57,596 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:30:57,597 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:30:57,599 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:57,600 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,603 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:57,604 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,604 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,605 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:57,605 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,606 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,608 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:57,608 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,608 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,609 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,609 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:30:57,609 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:30:57,610 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:57,611 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,612 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:57,612 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,612 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,613 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:57,613 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,613 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,613 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:57,613 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,614 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,614 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,614 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:30:57,614 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:30:57,615 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:57,615 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,615 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:57,615 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,615 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,616 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:57,616 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,616 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,616 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:57,616 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,616 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:30:57,616 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:30:57,617 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:30:57,617 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04133105278015137
2023-11-26 00:30:57,617 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04133105278015137
2023-11-26 00:30:57,617 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:30:57,618 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:30:57,618 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:30:57,618 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:30:57,618 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:30:57,618 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:30:57,619 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:30:57,619 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:30:57,619 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:30:57,619 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:30:57,619 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:30:57,619 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:30:57,619 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:30:57,619 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:30:57,620 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:30:57,620 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1137' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:30:57,621 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:30:57,621 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:30:57,627 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958657.6274374, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:30:57,627 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958657.6276727, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:30:57,630 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580372's parameters trained with 5929 samples
2023-11-26 00:30:57,641 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:30:57,641 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 32, trainer version: 31
2023-11-26 00:30:57,641 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:30:57,641 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580372 in dict
2023-11-26 00:30:57,641 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:30:57,641 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:30:57,642 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:30:57,649 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 32, trainer ver: 31
agg ver: 32, trainer ver: 31
2023-11-26 00:30:57,649 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:30:57,650 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:30:57,650 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:30:57,650 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:30:57,650 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:30:57,651 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 32
2023-11-26 00:30:57,652 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 32, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 14, '505f9fc483cf4df68a2409257b5fad7d3c580376': 13, '505f9fc483cf4df68a2409257b5fad7d3c580378': 9, '505f9fc483cf4df68a2409257b5fad7d3c580372': 6, '505f9fc483cf4df68a2409257b5fad7d3c580377': 12, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 9, '505f9fc483cf4df68a2409257b5fad7d3c580374': 8, '505f9fc483cf4df68a2409257b5fad7d3c580371': 7, '505f9fc483cf4df68a2409257b5fad7d3c580373': 10}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 14, '505f9fc483cf4df68a2409257b5fad7d3c580376': 13, '505f9fc483cf4df68a2409257b5fad7d3c580378': 9, '505f9fc483cf4df68a2409257b5fad7d3c580372': 6, '505f9fc483cf4df68a2409257b5fad7d3c580377': 12, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 9, '505f9fc483cf4df68a2409257b5fad7d3c580374': 8, '505f9fc483cf4df68a2409257b5fad7d3c580371': 7, '505f9fc483cf4df68a2409257b5fad7d3c580373': 10}
2023-11-26 00:30:57,652 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.28125
2023-11-26 00:30:57,653 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9285714285714286, P50 1.0, P90 1.0, P99 1.8699999999999992
2023-11-26 00:30:57,654 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.0, P99 1.879999999999999
2023-11-26 00:30:57,654 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.4444444444444444, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:30:57,655 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:30:57,656 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:30:57,657 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.625, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:57,658 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4444444444444444, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:30:57,659 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.75, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:57,659 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:30:57,660 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:30:57,660 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04297828674316406
2023-11-26 00:30:57,661 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04297828674316406
2023-11-26 00:30:57,661 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 3.0994415283203125e-06
2023-11-26 00:30:57,661 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 3.0994415283203125e-06
2023-11-26 00:30:58,170 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:58,185 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:58,185 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:58,190 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:58,191 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:58,191 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:58,192 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:58,193 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:58,193 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:58,195 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:58,199 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 0: 1048576
2023-11-26 00:30:58,200 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:58,201 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:58,201 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:58,201 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:58,204 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:58,208 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 1: 1048576
2023-11-26 00:30:58,209 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:58,210 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:58,211 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:58,211 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:58,212 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 2: 57063
2023-11-26 00:30:58,212 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:58,222 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:58,223 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:30:58,511 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:58,516 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:58,517 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:58,520 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:58,520 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:58,521 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:58,522 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:58,522 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:58,523 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:58,524 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:58,529 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:30:58,530 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:58,530 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:58,531 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:58,531 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:58,532 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:58,532 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:58,533 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:58,537 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:30:58,538 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:58,539 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:30:58,540 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:58,548 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:58,549 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:30:58,858 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:58,869 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:58,870 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:58,873 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:58,873 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:58,874 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:58,875 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:58,875 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:58,876 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:30:58,878 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:58,883 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 0: 1048576
2023-11-26 00:30:58,883 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:58,884 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:30:58,885 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:58,885 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:30:58,886 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:58,886 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:30:58,887 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:30:58,891 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 1: 1048576
2023-11-26 00:30:58,892 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:30:58,893 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 2: 57063
2023-11-26 00:30:58,894 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:30:58,903 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:30:58,904 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:31:03,469 | main.py:161 | INFO | MainThread | evaluate | Test loss: 1.8376649722099305
2023-11-26 00:31:03,472 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 3276/10000 (0.3276)
2023-11-26 00:31:03,474 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305]
2023-11-26 00:31:03,475 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 5.813018321990967
2023-11-26 00:31:03,475 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 5.813018321990967
2023-11-26 00:31:03,476 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:31:03,476 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0005011558532714844
2023-11-26 00:31:03,477 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0005011558532714844
2023-11-26 00:31:03,477 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 66.9
2023-11-26 00:31:03,478 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 76.8
2023-11-26 00:31:03,478 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 71.0142857142857
2023-11-26 00:31:03,480 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 67.4
2023-11-26 00:31:03,480 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 68.9
2023-11-26 00:31:03,481 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 74.85
2023-11-26 00:31:03,482 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 4.114930505029758
2023-11-26 00:31:03,482 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1118863360
2023-11-26 00:31:03,482 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1118896128
2023-11-26 00:31:03,483 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1118888521.142857
2023-11-26 00:31:03,483 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1118889984.0
2023-11-26 00:31:03,484 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1118892032.0
2023-11-26 00:31:03,484 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1118894080.0
2023-11-26 00:31:03,485 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 10597.387864517388
2023-11-26 00:31:03,485 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321524736
2023-11-26 00:31:03,485 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321893376
2023-11-26 00:31:03,486 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321812626.285715
2023-11-26 00:31:03,486 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:31:03,486 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:31:03,487 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321868800.0
2023-11-26 00:31:03,487 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 119472.35873709063
2023-11-26 00:31:03,488 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 1.8376649722099305, 'test-accuracy': 0.3276, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0003910064697265625, 'send.bytes': 6462612, 'distribute.runtime': 0.04133105278015137, 'recv.bytes': 6462645, 'aggregate.runtime': 0.04297828674316406, 'train.runtime': 3.0994415283203125e-06, 'evaluate.runtime': 5.813018321990967, 'analysis.runtime': 0.0005011558532714844, 'min.cpu_utilization': 66.9, 'max.cpu_utilization': 76.8, 'mean.cpu_utilization': 71.0142857142857, '25th_prcntl.cpu_utilization': 67.4, '50th_prcntl.cpu_utilization': 68.9, '75th_prcntl.cpu_utilization': 74.85, 'std.cpu_utilization': 4.114930505029758, 'min.cpu_memory_rss': 1118863360, 'max.cpu_memory_rss': 1118896128, 'mean.cpu_memory_rss': 1118888521.142857, '25th_prcntl.cpu_memory_rss': 1118889984.0, '50th_prcntl.cpu_memory_rss': 1118892032.0, '75th_prcntl.cpu_memory_rss': 1118894080.0, 'std.cpu_memory_rss': 10597.387864517388, 'min.cpu_memory_vsz': 14321524736, 'max.cpu_memory_vsz': 14321893376, 'mean.cpu_memory_vsz': 14321812626.285715, '25th_prcntl.cpu_memory_vsz': 14321844224.0, '50th_prcntl.cpu_memory_vsz': 14321844224.0, '75th_prcntl.cpu_memory_vsz': 14321868800.0, 'std.cpu_memory_vsz': 119472.35873709063, 'save_metrics.runtime': 0.011629104614257812, 'inc_round.runtime': 0.0008165836334228516}
2023-11-26 00:31:03,488 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:31:03,488 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011205434799194336
2023-11-26 00:31:03,488 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011205434799194336
2023-11-26 00:31:03,489 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 32
2023-11-26 00:31:03,489 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:31:03,489 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:03,489 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 33
2023-11-26 00:31:03,489 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008044242858886719
2023-11-26 00:31:03,490 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008044242858886719
2023-11-26 00:31:03,490 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:31:03,490 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:31:03,490 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00039005279541015625
2023-11-26 00:31:03,490 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00039005279541015625
2023-11-26 00:31:03,491 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:03,492 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:03,492 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:03,493 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:03,494 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:03,494 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:03,495 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:03,495 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:03,495 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:03,496 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:03,496 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: recvd
2023-11-26 00:31:03,496 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:03,497 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:03,497 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:03,497 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:03,498 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580371'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:03,498 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:03,498 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None}
2023-11-26 00:31:03,499 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958663.4991264, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:31:03,515 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:31:03,515 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:03,516 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:03,517 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:03,520 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:03,520 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,522 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:03,522 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,523 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,525 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:03,526 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,526 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,526 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:03,526 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,526 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,527 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,527 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:31:03,527 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:03,529 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:03,529 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,530 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:03,530 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,530 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,530 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:03,530 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,531 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,531 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:03,531 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,531 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,531 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,531 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:31:03,532 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:03,532 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:03,532 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,532 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:03,533 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,533 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,534 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:03,534 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,534 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,535 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:03,535 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,535 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,535 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,535 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:31:03,536 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04491996765136719
2023-11-26 00:31:03,536 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04491996765136719
2023-11-26 00:31:03,537 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:03,537 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:03,538 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:03,538 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:03,538 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:03,539 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:03,539 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:03,539 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:03,539 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:03,540 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:03,540 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:03,540 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:03,541 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:03,541 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:31:03,541 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:03,542 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:31:03,543 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:31:03,543 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:03,543 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:31:03,544 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:03,544 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:31:03,547 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:03,547 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:03,558 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958663.5579753, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:03,558 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958663.5584788, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:03,560 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580374's parameters trained with 5749 samples
2023-11-26 00:31:03,576 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:03,577 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 33, trainer version: 31
2023-11-26 00:31:03,577 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:31:03,577 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580374 in dict
2023-11-26 00:31:03,577 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:03,577 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:03,577 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:03,583 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 33, trainer ver: 31
agg ver: 33, trainer ver: 31
2023-11-26 00:31:03,583 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:03,583 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:31:03,584 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:31:03,584 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04727745056152344
2023-11-26 00:31:03,584 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04727745056152344
2023-11-26 00:31:03,584 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:03,585 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:03,585 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:03,586 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:03,586 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:03,587 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:03,587 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:03,588 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:03,588 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:03,588 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:03,589 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:03,589 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:03,589 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: recvd
2023-11-26 00:31:03,590 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:03,590 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:03,590 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580380'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:03,591 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:03,591 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580380': None}
2023-11-26 00:31:03,591 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958663.5919194, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:31:03,599 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:31:03,600 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:03,600 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:03,600 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:03,602 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:03,602 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,604 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:03,605 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,605 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,606 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:03,607 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,607 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,607 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:03,607 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,607 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,607 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,607 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:31:03,608 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:03,609 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:03,609 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,610 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:03,611 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,611 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,611 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:03,611 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,611 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,611 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:03,612 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,612 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,612 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,612 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:31:03,612 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:03,612 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:03,612 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,613 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:03,613 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,613 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,614 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:03,615 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,615 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,615 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:03,615 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,615 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,615 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,616 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:31:03,616 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03172039985656738
2023-11-26 00:31:03,616 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03172039985656738
2023-11-26 00:31:03,617 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:03,618 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:03,618 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:03,618 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:03,618 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:03,618 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:03,618 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:03,619 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:03,619 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:03,619 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:31:03,619 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:03,619 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:03,619 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:03,619 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:31:03,619 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:03,620 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1164' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:31:03,621 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:31:03,621 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:31:03,627 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958663.6276176, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:31:03,628 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958663.628216, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:31:03,629 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580373's parameters trained with 1384 samples
2023-11-26 00:31:03,637 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:03,637 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 33, trainer version: 32
2023-11-26 00:31:03,637 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:31:03,637 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580373 in dict
2023-11-26 00:31:03,637 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:03,637 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:03,637 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:03,641 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 33, trainer ver: 32
agg ver: 33, trainer ver: 32
2023-11-26 00:31:03,642 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:03,642 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:31:03,642 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:31:03,642 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.025402545928955078
2023-11-26 00:31:03,643 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.025402545928955078
2023-11-26 00:31:03,643 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:03,644 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:03,644 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:03,644 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:03,645 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:03,645 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:03,645 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:03,645 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:03,646 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:03,646 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: recvd
2023-11-26 00:31:03,646 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:03,646 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:03,646 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:31:03,647 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:03,647 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:03,647 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:03,647 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:03,647 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:31:03,648 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958663.6482332, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:31:03,654 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:31:03,654 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:03,655 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:03,655 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:03,657 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:03,658 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,659 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:03,659 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,660 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,661 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:03,661 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,661 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,661 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:03,662 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,662 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,663 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,663 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:31:03,664 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:03,665 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:03,666 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,668 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:03,668 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,668 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,669 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:03,669 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,669 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,671 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:03,671 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,671 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,672 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,672 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:31:03,672 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:03,672 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:03,673 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,673 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:03,673 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,674 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,674 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:03,674 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,674 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,675 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:03,675 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,675 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:03,676 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:03,676 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:31:03,676 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03345036506652832
2023-11-26 00:31:03,677 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03345036506652832
2023-11-26 00:31:03,677 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:03,678 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:03,678 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:03,678 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:03,678 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:03,679 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:03,679 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:03,679 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:03,679 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:31:03,680 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:03,680 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:03,680 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:03,680 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:03,680 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:31:03,680 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:03,682 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1171' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:31:03,683 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:03,683 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:03,689 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958663.689024, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:03,689 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958663.6892524, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:03,691 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:31:03,702 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:03,703 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 33, trainer version: 32
2023-11-26 00:31:03,703 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:31:03,703 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:31:03,703 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:03,704 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:03,704 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:03,710 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 33, trainer ver: 32
agg ver: 33, trainer ver: 32
2023-11-26 00:31:03,711 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:03,712 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:31:03,712 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:31:03,712 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:31:03,713 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:31:03,714 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 33
2023-11-26 00:31:03,714 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 33, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 15, '505f9fc483cf4df68a2409257b5fad7d3c580376': 13, '505f9fc483cf4df68a2409257b5fad7d3c580378': 9, '505f9fc483cf4df68a2409257b5fad7d3c580372': 6, '505f9fc483cf4df68a2409257b5fad7d3c580377': 12, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 9, '505f9fc483cf4df68a2409257b5fad7d3c580374': 9, '505f9fc483cf4df68a2409257b5fad7d3c580371': 7, '505f9fc483cf4df68a2409257b5fad7d3c580373': 11}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 15, '505f9fc483cf4df68a2409257b5fad7d3c580376': 13, '505f9fc483cf4df68a2409257b5fad7d3c580378': 9, '505f9fc483cf4df68a2409257b5fad7d3c580372': 6, '505f9fc483cf4df68a2409257b5fad7d3c580377': 12, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 9, '505f9fc483cf4df68a2409257b5fad7d3c580374': 9, '505f9fc483cf4df68a2409257b5fad7d3c580371': 7, '505f9fc483cf4df68a2409257b5fad7d3c580373': 11}
2023-11-26 00:31:03,715 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2828282828282829
2023-11-26 00:31:03,716 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9333333333333333, P50 1.0, P90 1.0, P99 1.8599999999999994
2023-11-26 00:31:03,717 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.0, P99 1.879999999999999
2023-11-26 00:31:03,717 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.4444444444444444, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:03,718 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:03,718 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:31:03,719 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.625, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:03,720 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4444444444444444, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:03,720 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.7777777777777777, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:03,721 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:03,722 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:31:03,722 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.044623613357543945
2023-11-26 00:31:03,722 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.044623613357543945
2023-11-26 00:31:03,722 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 3.0994415283203125e-06
2023-11-26 00:31:03,722 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 3.0994415283203125e-06
2023-11-26 00:31:04,992 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:05,002 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:05,003 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:05,007 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:05,007 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:05,008 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:05,008 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:05,009 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:05,009 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:05,012 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:05,013 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:05,017 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:31:05,018 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:05,019 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:05,019 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:05,021 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:05,025 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:31:05,025 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:05,027 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:05,027 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:05,027 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:05,028 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:31:05,028 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:05,038 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:05,038 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:31:05,129 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:05,133 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:05,134 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:05,134 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:05,135 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:05,138 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:05,139 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:05,139 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:05,140 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:05,141 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:05,141 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:05,142 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:05,146 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 0: 1048576
2023-11-26 00:31:05,147 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:05,148 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:05,149 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:05,149 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:05,150 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:05,150 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:05,151 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:05,155 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 1: 1048576
2023-11-26 00:31:05,157 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:05,158 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:05,159 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:05,160 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:05,160 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 2: 57063
2023-11-26 00:31:05,161 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:05,171 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:05,172 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:31:05,809 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:05,818 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:05,819 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:05,824 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:05,825 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:05,825 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:05,826 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:05,827 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:05,828 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:05,830 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:05,833 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 0: 1048576
2023-11-26 00:31:05,834 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:05,835 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:05,836 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:05,836 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:05,837 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:05,837 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:05,839 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:05,843 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 1: 1048576
2023-11-26 00:31:05,844 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:05,845 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 2: 57063
2023-11-26 00:31:05,846 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:05,854 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:05,855 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:31:10,242 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.1813072254657744
2023-11-26 00:31:10,244 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 2130/10000 (0.213)
2023-11-26 00:31:10,247 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305, 2.1813072254657744]
2023-11-26 00:31:10,248 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.5250444412231445
2023-11-26 00:31:10,248 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.5250444412231445
2023-11-26 00:31:10,249 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:31:10,249 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0005738735198974609
2023-11-26 00:31:10,250 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0005738735198974609
2023-11-26 00:31:10,251 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 72.8
2023-11-26 00:31:10,251 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 85.8
2023-11-26 00:31:10,252 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 77.33333333333333
2023-11-26 00:31:10,253 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 74.05
2023-11-26 00:31:10,254 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 75.85
2023-11-26 00:31:10,254 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 79.15
2023-11-26 00:31:10,255 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 4.433082699682268
2023-11-26 00:31:10,255 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1118900224
2023-11-26 00:31:10,255 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1118928896
2023-11-26 00:31:10,256 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1118915242.6666667
2023-11-26 00:31:10,256 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1118909440.0
2023-11-26 00:31:10,257 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1118912512.0
2023-11-26 00:31:10,257 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1118924800.0
2023-11-26 00:31:10,258 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 10487.324327756605
2023-11-26 00:31:10,258 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321844224
2023-11-26 00:31:10,258 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321950720
2023-11-26 00:31:10,259 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321879040.0
2023-11-26 00:31:10,259 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:31:10,260 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321868800.0
2023-11-26 00:31:10,260 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321896448.0
2023-11-26 00:31:10,260 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 39411.80763848993
2023-11-26 00:31:10,261 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.1813072254657744, 'test-accuracy': 0.213, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00039005279541015625, 'send.bytes': 6462612, 'distribute.runtime': 0.03345036506652832, 'recv.bytes': 6462645, 'aggregate.runtime': 0.044623613357543945, 'train.runtime': 3.0994415283203125e-06, 'evaluate.runtime': 6.5250444412231445, 'analysis.runtime': 0.0005738735198974609, 'min.cpu_utilization': 72.8, 'max.cpu_utilization': 85.8, 'mean.cpu_utilization': 77.33333333333333, '25th_prcntl.cpu_utilization': 74.05, '50th_prcntl.cpu_utilization': 75.85, '75th_prcntl.cpu_utilization': 79.15, 'std.cpu_utilization': 4.433082699682268, 'min.cpu_memory_rss': 1118900224, 'max.cpu_memory_rss': 1118928896, 'mean.cpu_memory_rss': 1118915242.6666667, '25th_prcntl.cpu_memory_rss': 1118909440.0, '50th_prcntl.cpu_memory_rss': 1118912512.0, '75th_prcntl.cpu_memory_rss': 1118924800.0, 'std.cpu_memory_rss': 10487.324327756605, 'min.cpu_memory_vsz': 14321844224, 'max.cpu_memory_vsz': 14321950720, 'mean.cpu_memory_vsz': 14321879040.0, '25th_prcntl.cpu_memory_vsz': 14321844224.0, '50th_prcntl.cpu_memory_vsz': 14321868800.0, '75th_prcntl.cpu_memory_vsz': 14321896448.0, 'std.cpu_memory_vsz': 39411.80763848993, 'save_metrics.runtime': 0.011205434799194336, 'inc_round.runtime': 0.0008044242858886719}
2023-11-26 00:31:10,261 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:31:10,261 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011275291442871094
2023-11-26 00:31:10,262 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011275291442871094
2023-11-26 00:31:10,262 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 33
2023-11-26 00:31:10,262 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:31:10,262 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:10,262 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 34
2023-11-26 00:31:10,262 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0006129741668701172
2023-11-26 00:31:10,263 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0006129741668701172
2023-11-26 00:31:10,263 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:31:10,263 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:31:10,263 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00030732154846191406
2023-11-26 00:31:10,263 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00030732154846191406
2023-11-26 00:31:10,263 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:10,264 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:10,265 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:10,265 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:10,266 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:10,266 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:10,266 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:10,266 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:10,266 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:10,267 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:10,267 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:10,267 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:31:10,267 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:31:10,267 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:10,267 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:10,268 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580377'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:10,268 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:10,268 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None}
2023-11-26 00:31:10,268 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958670.268792, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:31:10,284 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:31:10,284 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:10,284 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:10,286 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:10,289 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:10,289 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,291 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:10,292 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,292 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,294 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:10,294 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,294 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,295 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:10,295 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,295 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,295 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,295 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:31:10,296 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:10,297 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:10,297 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,298 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:10,298 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,298 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,299 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:10,299 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,299 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,299 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:10,299 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,299 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,299 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,300 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:31:10,300 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:10,300 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:10,300 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,300 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:10,301 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,301 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,302 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:10,302 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,302 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,302 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:10,302 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,303 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,303 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,303 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:31:10,303 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.039691925048828125
2023-11-26 00:31:10,304 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.039691925048828125
2023-11-26 00:31:10,304 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:10,305 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:10,305 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:10,305 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:10,305 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:10,305 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:10,306 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:10,306 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:10,306 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:10,306 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:31:10,306 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:10,306 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:10,306 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:10,306 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:31:10,306 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:10,307 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:31:10,307 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:31:10,307 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:31:10,308 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:31:10,308 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:31:10,308 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:31:10,309 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:10,309 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:10,320 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958670.3205712, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:10,321 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958670.3210516, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:10,322 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580378's parameters trained with 4612 samples
2023-11-26 00:31:10,337 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:10,338 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 34, trainer version: 32
2023-11-26 00:31:10,338 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:31:10,338 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580378 in dict
2023-11-26 00:31:10,338 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:10,338 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:10,338 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:10,345 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 34, trainer ver: 32
agg ver: 34, trainer ver: 32
2023-11-26 00:31:10,345 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:10,345 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:31:10,345 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:31:10,346 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04157900810241699
2023-11-26 00:31:10,346 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04157900810241699
2023-11-26 00:31:10,346 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:10,346 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:10,347 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:10,347 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:10,348 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:10,348 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:10,348 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:10,349 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:10,349 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:10,349 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:10,350 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:10,350 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: recvd
2023-11-26 00:31:10,350 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:31:10,350 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:10,351 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:10,351 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580374'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:10,351 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:10,352 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580374': None}
2023-11-26 00:31:10,352 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958670.352533, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:10,361 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:31:10,362 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:10,362 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:10,363 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:10,366 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:10,366 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,367 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:10,368 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,368 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,371 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:10,371 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,372 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,372 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:10,372 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,372 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,373 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,373 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:31:10,373 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:10,375 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:10,376 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,377 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:10,378 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,378 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,379 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:10,379 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,380 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,382 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:10,383 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,383 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,384 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,384 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:31:10,384 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:10,385 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:10,385 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,385 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:10,386 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,387 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,389 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:10,389 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,390 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,391 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:10,392 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,394 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,395 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,395 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:31:10,396 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04996132850646973
2023-11-26 00:31:10,396 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04996132850646973
2023-11-26 00:31:10,396 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:10,397 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:10,397 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:10,397 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:10,397 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:10,398 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:10,398 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:10,398 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:10,398 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:10,398 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:31:10,398 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:10,399 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:10,399 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:10,399 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:31:10,399 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:10,400 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1198' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:31:10,401 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:31:10,401 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:31:10,405 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958670.405137, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:31:10,405 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958670.4053593, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:31:10,406 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:31:10,416 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:10,416 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 34, trainer version: 33
2023-11-26 00:31:10,416 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:31:10,417 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:31:10,417 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:10,417 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:10,417 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:10,421 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 34, trainer ver: 33
agg ver: 34, trainer ver: 33
2023-11-26 00:31:10,421 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:10,422 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:31:10,422 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:31:10,422 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.025910377502441406
2023-11-26 00:31:10,422 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.025910377502441406
2023-11-26 00:31:10,423 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:10,423 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:10,423 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:10,424 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:10,424 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:10,425 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:10,425 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:10,425 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:10,425 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:10,426 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:10,426 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:10,427 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:10,428 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:31:10,428 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:31:10,428 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:10,429 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580378'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380'}
2023-11-26 00:31:10,430 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380'}}
2023-11-26 00:31:10,431 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None}
2023-11-26 00:31:10,432 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958670.4327738, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:10,438 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:31:10,438 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:10,439 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:10,440 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:10,442 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:10,443 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,446 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:10,447 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,447 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,447 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:10,448 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,448 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,448 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:10,448 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,448 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,449 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,449 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:31:10,449 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:10,451 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:10,451 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,452 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:10,452 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,452 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,452 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:10,452 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,453 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,453 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:10,453 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,453 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,453 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,453 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:31:10,454 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:10,454 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:10,454 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,454 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:10,454 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,454 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,455 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:10,455 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,455 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,455 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:10,455 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,455 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:10,456 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:10,456 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:31:10,456 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03325080871582031
2023-11-26 00:31:10,456 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03325080871582031
2023-11-26 00:31:10,456 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:10,457 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:10,457 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:10,457 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:10,457 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:10,457 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380'}}
2023-11-26 00:31:10,457 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:10,457 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:10,457 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:10,457 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:10,457 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:31:10,458 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380'}
2023-11-26 00:31:10,458 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380'}}
2023-11-26 00:31:10,458 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None}
2023-11-26 00:31:10,458 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:10,458 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1205' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:31:10,459 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:31:10,459 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:31:10,462 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958670.4625595, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:31:10,462 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958670.4627593, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:31:10,463 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580380's parameters trained with 5285 samples
2023-11-26 00:31:10,474 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:10,474 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 34, trainer version: 33
2023-11-26 00:31:10,474 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:31:10,474 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580380 in dict
2023-11-26 00:31:10,474 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:10,474 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:10,474 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:10,480 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 34, trainer ver: 33
agg ver: 34, trainer ver: 33
2023-11-26 00:31:10,480 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:10,480 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:31:10,480 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:31:10,481 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:31:10,481 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:31:10,481 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 34
2023-11-26 00:31:10,482 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 34, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 15, '505f9fc483cf4df68a2409257b5fad7d3c580376': 14, '505f9fc483cf4df68a2409257b5fad7d3c580378': 10, '505f9fc483cf4df68a2409257b5fad7d3c580372': 6, '505f9fc483cf4df68a2409257b5fad7d3c580377': 12, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 10, '505f9fc483cf4df68a2409257b5fad7d3c580374': 9, '505f9fc483cf4df68a2409257b5fad7d3c580371': 7, '505f9fc483cf4df68a2409257b5fad7d3c580373': 11}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 15, '505f9fc483cf4df68a2409257b5fad7d3c580376': 14, '505f9fc483cf4df68a2409257b5fad7d3c580378': 10, '505f9fc483cf4df68a2409257b5fad7d3c580372': 6, '505f9fc483cf4df68a2409257b5fad7d3c580377': 12, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 10, '505f9fc483cf4df68a2409257b5fad7d3c580374': 9, '505f9fc483cf4df68a2409257b5fad7d3c580371': 7, '505f9fc483cf4df68a2409257b5fad7d3c580373': 11}
2023-11-26 00:31:10,482 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2843137254901962
2023-11-26 00:31:10,482 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9333333333333333, P50 1.0, P90 1.0, P99 1.8599999999999994
2023-11-26 00:31:10,483 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.0, P99 1.8699999999999992
2023-11-26 00:31:10,483 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.5, P50 1.5, P90 2.0, P99 2.0
2023-11-26 00:31:10,484 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:10,484 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:31:10,484 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.625, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:10,485 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:10,485 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.7777777777777777, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:10,486 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:10,486 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:31:10,486 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.029993772506713867
2023-11-26 00:31:10,486 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.029993772506713867
2023-11-26 00:31:10,487 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.384185791015625e-06
2023-11-26 00:31:10,487 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.384185791015625e-06
2023-11-26 00:31:11,078 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:11,087 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:11,088 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:11,091 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:11,092 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:11,092 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:11,093 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:11,094 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:11,094 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:11,095 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:11,099 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 0: 1048576
2023-11-26 00:31:11,100 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:11,101 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:11,101 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:11,101 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:11,104 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:11,108 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 1: 1048576
2023-11-26 00:31:11,108 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:11,109 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:11,110 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:11,111 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:11,111 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 2: 57063
2023-11-26 00:31:11,111 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:11,119 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:11,120 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:31:11,457 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:11,458 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:11,458 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:11,459 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:11,618 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:11,621 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:11,622 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:11,625 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:11,625 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:11,626 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:11,628 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:11,628 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:11,629 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:11,630 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:11,635 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 0: 1048576
2023-11-26 00:31:11,635 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:11,636 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:11,637 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:11,638 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:11,642 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:11,646 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 1: 1048576
2023-11-26 00:31:11,647 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:11,648 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:11,649 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:11,650 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:11,650 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 2: 57063
2023-11-26 00:31:11,651 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:11,658 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:11,659 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:31:11,979 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:11,982 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:11,983 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:11,986 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:11,987 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:11,988 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:11,988 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:11,989 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:11,990 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:11,991 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:11,996 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 0: 1048576
2023-11-26 00:31:11,997 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:11,997 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:11,998 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:11,998 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:11,999 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:12,000 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:12,001 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:12,006 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 1: 1048576
2023-11-26 00:31:12,007 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:12,008 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 2: 57063
2023-11-26 00:31:12,009 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:12,016 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:12,017 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:31:17,138 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.3389135039925577
2023-11-26 00:31:17,139 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 2654/10000 (0.2654)
2023-11-26 00:31:17,140 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305, 2.1813072254657744, 2.3389135039925577]
2023-11-26 00:31:17,141 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.654120206832886
2023-11-26 00:31:17,141 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.654120206832886
2023-11-26 00:31:17,142 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:31:17,142 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.00042176246643066406
2023-11-26 00:31:17,143 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.00042176246643066406
2023-11-26 00:31:17,143 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 66.9
2023-11-26 00:31:17,144 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 79.7
2023-11-26 00:31:17,144 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 71.71428571428571
2023-11-26 00:31:17,145 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 68.9
2023-11-26 00:31:17,146 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 68.9
2023-11-26 00:31:17,147 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 74.35
2023-11-26 00:31:17,148 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 4.604478742463244
2023-11-26 00:31:17,148 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1118904320
2023-11-26 00:31:17,148 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1118949376
2023-11-26 00:31:17,149 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1118942939.4285715
2023-11-26 00:31:17,149 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1118949376.0
2023-11-26 00:31:17,150 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1118949376.0
2023-11-26 00:31:17,151 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1118949376.0
2023-11-26 00:31:17,151 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 15766.31569297698
2023-11-26 00:31:17,152 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321786880
2023-11-26 00:31:17,152 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321893376
2023-11-26 00:31:17,153 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321850075.428572
2023-11-26 00:31:17,153 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:31:17,154 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:31:17,155 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321868800.0
2023-11-26 00:31:17,155 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 33552.72616072093
2023-11-26 00:31:17,155 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.3389135039925577, 'test-accuracy': 0.2654, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00030732154846191406, 'send.bytes': 6462612, 'distribute.runtime': 0.03325080871582031, 'recv.bytes': 6462645, 'aggregate.runtime': 0.029993772506713867, 'train.runtime': 2.384185791015625e-06, 'evaluate.runtime': 6.654120206832886, 'analysis.runtime': 0.00042176246643066406, 'min.cpu_utilization': 66.9, 'max.cpu_utilization': 79.7, 'mean.cpu_utilization': 71.71428571428571, '25th_prcntl.cpu_utilization': 68.9, '50th_prcntl.cpu_utilization': 68.9, '75th_prcntl.cpu_utilization': 74.35, 'std.cpu_utilization': 4.604478742463244, 'min.cpu_memory_rss': 1118904320, 'max.cpu_memory_rss': 1118949376, 'mean.cpu_memory_rss': 1118942939.4285715, '25th_prcntl.cpu_memory_rss': 1118949376.0, '50th_prcntl.cpu_memory_rss': 1118949376.0, '75th_prcntl.cpu_memory_rss': 1118949376.0, 'std.cpu_memory_rss': 15766.31569297698, 'min.cpu_memory_vsz': 14321786880, 'max.cpu_memory_vsz': 14321893376, 'mean.cpu_memory_vsz': 14321850075.428572, '25th_prcntl.cpu_memory_vsz': 14321844224.0, '50th_prcntl.cpu_memory_vsz': 14321844224.0, '75th_prcntl.cpu_memory_vsz': 14321868800.0, 'std.cpu_memory_vsz': 33552.72616072093, 'save_metrics.runtime': 0.011275291442871094, 'inc_round.runtime': 0.0006129741668701172}
2023-11-26 00:31:17,156 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:31:17,156 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.012887239456176758
2023-11-26 00:31:17,156 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.012887239456176758
2023-11-26 00:31:17,156 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 34
2023-11-26 00:31:17,157 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:31:17,157 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:17,157 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 35
2023-11-26 00:31:17,157 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0007588863372802734
2023-11-26 00:31:17,157 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0007588863372802734
2023-11-26 00:31:17,158 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:31:17,158 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:31:17,158 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0003573894500732422
2023-11-26 00:31:17,158 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0003573894500732422
2023-11-26 00:31:17,158 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:17,159 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:17,159 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:17,160 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:17,161 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:17,162 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:17,162 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:17,162 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:17,163 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380'}}
2023-11-26 00:31:17,163 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:17,164 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:17,164 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:17,164 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:17,164 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: recvd
2023-11-26 00:31:17,165 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:17,165 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:17,165 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:17,166 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:31:17,166 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958677.1666768, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:17,177 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:31:17,177 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:17,178 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:17,179 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:17,183 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:17,184 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,186 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:17,186 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,186 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,189 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:17,189 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,189 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,190 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:17,190 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,190 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,191 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,191 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:31:17,191 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:17,193 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:17,194 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,195 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:17,195 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,196 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,196 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:17,196 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,196 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,197 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:17,197 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,197 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,197 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,197 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:31:17,197 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:17,198 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:17,198 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,198 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:17,198 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,199 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,200 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:17,200 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,200 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,200 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:17,201 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,201 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,201 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,201 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:31:17,202 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.043222665786743164
2023-11-26 00:31:17,202 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.043222665786743164
2023-11-26 00:31:17,203 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:17,204 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:17,204 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:17,204 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:17,205 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:17,205 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:17,205 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:17,205 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:17,205 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:17,205 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:17,205 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:17,206 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:17,206 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:17,206 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:31:17,206 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:17,207 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:31:17,207 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:31:17,207 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:17,208 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:31:17,208 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:17,208 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:31:17,209 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:31:17,210 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:31:17,220 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958677.2209516, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:31:17,221 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958677.221354, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:31:17,222 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580371's parameters trained with 8920 samples
2023-11-26 00:31:17,238 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:17,238 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 35, trainer version: 33
2023-11-26 00:31:17,238 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:31:17,238 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580371 in dict
2023-11-26 00:31:17,239 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:17,239 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:17,239 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:17,244 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 35, trainer ver: 33
agg ver: 35, trainer ver: 33
2023-11-26 00:31:17,245 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:17,245 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:31:17,245 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:31:17,245 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04237985610961914
2023-11-26 00:31:17,246 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04237985610961914
2023-11-26 00:31:17,246 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:17,246 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:17,247 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:17,247 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:17,248 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:17,248 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:17,249 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:17,249 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:17,249 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:17,249 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: recvd
2023-11-26 00:31:17,250 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:17,250 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:17,250 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:17,251 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:17,251 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:17,251 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:17,251 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:17,252 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:31:17,252 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958677.2526462, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:31:17,261 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:31:17,261 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:17,262 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:17,262 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:17,267 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:17,268 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,272 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:17,273 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,273 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,273 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:17,274 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,274 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,276 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:17,277 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,277 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,277 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,277 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:31:17,278 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:17,280 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:17,280 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,281 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:17,281 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,281 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,282 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:17,282 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,282 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,282 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:17,282 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,282 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,283 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,283 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:31:17,283 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:17,283 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:17,283 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,283 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:17,284 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,284 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,285 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:17,285 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,285 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,286 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:17,286 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,286 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,287 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,287 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:31:17,287 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.0412750244140625
2023-11-26 00:31:17,287 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.0412750244140625
2023-11-26 00:31:17,288 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:17,288 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:17,288 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:17,288 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:17,288 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:17,288 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:17,289 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:17,289 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:17,289 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:17,289 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:17,289 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:17,289 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:17,289 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:17,289 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:31:17,290 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:17,290 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1232' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:31:17,291 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:31:17,292 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:31:17,294 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958677.2947652, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:31:17,295 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958677.2950075, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:31:17,296 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580377's parameters trained with 2122 samples
2023-11-26 00:31:17,304 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:17,305 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 35, trainer version: 34
2023-11-26 00:31:17,305 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:31:17,305 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580377 in dict
2023-11-26 00:31:17,305 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:17,305 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:17,305 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:17,309 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 35, trainer ver: 34
agg ver: 35, trainer ver: 34
2023-11-26 00:31:17,310 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:17,310 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:31:17,310 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:31:17,310 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.022776126861572266
2023-11-26 00:31:17,310 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.022776126861572266
2023-11-26 00:31:17,311 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:17,311 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:17,311 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:17,311 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:17,312 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:17,312 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:17,312 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:17,312 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:17,312 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:17,312 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: recvd
2023-11-26 00:31:17,313 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:17,313 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:17,313 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:17,313 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:17,313 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:17,313 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580380'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:17,313 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:17,313 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580380': None}
2023-11-26 00:31:17,314 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958677.3140125, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:31:17,317 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:31:17,317 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:17,317 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:17,318 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:17,319 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:17,320 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,321 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:17,321 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,321 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,323 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:17,323 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,323 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,323 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:17,323 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,324 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,324 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,324 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:31:17,324 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:17,326 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:17,326 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,327 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:17,327 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,327 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,328 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:17,328 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,328 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,328 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:17,328 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,328 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,328 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,329 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:31:17,329 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:17,329 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:17,329 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,329 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:17,329 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,330 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,330 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:17,331 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,331 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,331 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:17,331 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,331 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:17,331 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:17,331 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:31:17,332 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.02100539207458496
2023-11-26 00:31:17,332 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.02100539207458496
2023-11-26 00:31:17,332 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:17,332 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:17,333 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:17,333 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:17,333 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:17,333 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:17,333 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:17,333 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:17,333 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:31:17,333 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:17,333 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:17,334 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:17,334 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:17,334 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:31:17,334 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:17,334 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1239' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:31:17,335 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:17,335 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:17,338 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958677.3383808, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:17,338 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958677.3386662, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:17,340 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580378's parameters trained with 4612 samples
2023-11-26 00:31:17,351 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:17,351 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 35, trainer version: 34
2023-11-26 00:31:17,351 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:31:17,351 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580378 in dict
2023-11-26 00:31:17,352 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:17,352 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:17,352 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:17,358 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 35, trainer ver: 34
agg ver: 35, trainer ver: 34
2023-11-26 00:31:17,358 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:17,358 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:31:17,358 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:31:17,359 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:31:17,359 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:31:17,360 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 35
2023-11-26 00:31:17,360 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 35, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 15, '505f9fc483cf4df68a2409257b5fad7d3c580376': 14, '505f9fc483cf4df68a2409257b5fad7d3c580378': 11, '505f9fc483cf4df68a2409257b5fad7d3c580372': 6, '505f9fc483cf4df68a2409257b5fad7d3c580377': 13, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 10, '505f9fc483cf4df68a2409257b5fad7d3c580374': 9, '505f9fc483cf4df68a2409257b5fad7d3c580371': 8, '505f9fc483cf4df68a2409257b5fad7d3c580373': 11}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 15, '505f9fc483cf4df68a2409257b5fad7d3c580376': 14, '505f9fc483cf4df68a2409257b5fad7d3c580378': 11, '505f9fc483cf4df68a2409257b5fad7d3c580372': 6, '505f9fc483cf4df68a2409257b5fad7d3c580377': 13, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 10, '505f9fc483cf4df68a2409257b5fad7d3c580374': 9, '505f9fc483cf4df68a2409257b5fad7d3c580371': 8, '505f9fc483cf4df68a2409257b5fad7d3c580373': 11}
2023-11-26 00:31:17,360 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2857142857142858
2023-11-26 00:31:17,361 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9333333333333333, P50 1.0, P90 1.0, P99 1.8599999999999994
2023-11-26 00:31:17,361 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.0, P99 1.8699999999999992
2023-11-26 00:31:17,362 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.4545454545454546, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:17,362 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:17,362 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:31:17,363 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.625, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:17,363 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:17,364 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.7777777777777777, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:17,364 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:17,365 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:31:17,365 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.032938241958618164
2023-11-26 00:31:17,365 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.032938241958618164
2023-11-26 00:31:17,365 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.6226043701171875e-06
2023-11-26 00:31:17,365 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.6226043701171875e-06
2023-11-26 00:31:18,413 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:18,430 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:18,431 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:18,435 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:18,435 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:18,436 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:18,437 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:18,437 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:18,438 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:18,439 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:18,444 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:31:18,444 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:18,446 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:18,446 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:18,446 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:18,448 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:18,453 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:31:18,453 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:18,454 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:18,455 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:18,456 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:18,456 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:31:18,457 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:18,465 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:18,466 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:31:18,551 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:18,554 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:18,555 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:18,559 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:18,559 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:18,560 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:18,561 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:18,562 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:18,563 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:18,564 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:18,567 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:31:18,569 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:18,570 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:18,570 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:18,571 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:18,571 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:18,572 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:18,573 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:18,577 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:31:18,578 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:18,579 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:31:18,580 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:18,590 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:18,591 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:31:18,853 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:18,856 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:18,857 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:18,860 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:18,861 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:18,862 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:18,862 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:18,863 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:18,864 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:18,865 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:18,869 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 0: 1048576
2023-11-26 00:31:18,870 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:18,871 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:18,872 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:18,873 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:18,873 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:18,874 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:18,875 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:18,880 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 1: 1048576
2023-11-26 00:31:18,880 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:18,881 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 2: 57063
2023-11-26 00:31:18,882 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:18,890 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:18,891 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:31:23,300 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.1007734859347345
2023-11-26 00:31:23,302 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 3127/10000 (0.3127)
2023-11-26 00:31:23,304 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305, 2.1813072254657744, 2.3389135039925577, 2.1007734859347345]
2023-11-26 00:31:23,304 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 5.9385826587677
2023-11-26 00:31:23,305 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 5.9385826587677
2023-11-26 00:31:23,305 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:31:23,306 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.00044918060302734375
2023-11-26 00:31:23,306 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.00044918060302734375
2023-11-26 00:31:23,307 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 71.9
2023-11-26 00:31:23,307 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 78.9
2023-11-26 00:31:23,308 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 74.88333333333333
2023-11-26 00:31:23,309 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 71.9
2023-11-26 00:31:23,310 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 74.35
2023-11-26 00:31:23,310 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 77.625
2023-11-26 00:31:23,311 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 3.0443481331075706
2023-11-26 00:31:23,311 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1118945280
2023-11-26 00:31:23,312 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1118953472
2023-11-26 00:31:23,312 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1118952106.6666667
2023-11-26 00:31:23,313 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1118953472.0
2023-11-26 00:31:23,313 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1118953472.0
2023-11-26 00:31:23,314 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1118953472.0
2023-11-26 00:31:23,314 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 3052.9781452797133
2023-11-26 00:31:23,314 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321844224
2023-11-26 00:31:23,315 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321893376
2023-11-26 00:31:23,315 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321852416.0
2023-11-26 00:31:23,316 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:31:23,316 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:31:23,317 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:31:23,317 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 18317.868871678278
2023-11-26 00:31:23,318 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.1007734859347345, 'test-accuracy': 0.3127, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0003573894500732422, 'send.bytes': 6462612, 'distribute.runtime': 0.02100539207458496, 'recv.bytes': 6462645, 'aggregate.runtime': 0.032938241958618164, 'train.runtime': 2.6226043701171875e-06, 'evaluate.runtime': 5.9385826587677, 'analysis.runtime': 0.00044918060302734375, 'min.cpu_utilization': 71.9, 'max.cpu_utilization': 78.9, 'mean.cpu_utilization': 74.88333333333333, '25th_prcntl.cpu_utilization': 71.9, '50th_prcntl.cpu_utilization': 74.35, '75th_prcntl.cpu_utilization': 77.625, 'std.cpu_utilization': 3.0443481331075706, 'min.cpu_memory_rss': 1118945280, 'max.cpu_memory_rss': 1118953472, 'mean.cpu_memory_rss': 1118952106.6666667, '25th_prcntl.cpu_memory_rss': 1118953472.0, '50th_prcntl.cpu_memory_rss': 1118953472.0, '75th_prcntl.cpu_memory_rss': 1118953472.0, 'std.cpu_memory_rss': 3052.9781452797133, 'min.cpu_memory_vsz': 14321844224, 'max.cpu_memory_vsz': 14321893376, 'mean.cpu_memory_vsz': 14321852416.0, '25th_prcntl.cpu_memory_vsz': 14321844224.0, '50th_prcntl.cpu_memory_vsz': 14321844224.0, '75th_prcntl.cpu_memory_vsz': 14321844224.0, 'std.cpu_memory_vsz': 18317.868871678278, 'save_metrics.runtime': 0.012887239456176758, 'inc_round.runtime': 0.0007588863372802734}
2023-11-26 00:31:23,318 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:31:23,318 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011650800704956055
2023-11-26 00:31:23,318 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011650800704956055
2023-11-26 00:31:23,319 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 35
2023-11-26 00:31:23,319 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:31:23,319 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:23,319 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 36
2023-11-26 00:31:23,319 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0007727146148681641
2023-11-26 00:31:23,320 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0007727146148681641
2023-11-26 00:31:23,320 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:31:23,320 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:31:23,320 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0002999305725097656
2023-11-26 00:31:23,320 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0002999305725097656
2023-11-26 00:31:23,320 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:23,322 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:23,322 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:23,323 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:23,324 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:23,324 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:23,325 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:23,325 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:23,325 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:23,326 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: recvd
2023-11-26 00:31:23,326 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:23,326 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:31:23,327 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:23,327 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:23,327 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:23,328 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580372'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:23,328 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:23,328 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580372': None}
2023-11-26 00:31:23,329 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958683.3293734, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:31:23,344 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:31:23,344 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:23,345 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:23,346 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:23,352 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:23,352 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,354 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:23,355 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,355 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,358 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:23,358 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,358 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,359 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:23,359 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,359 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,359 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,359 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:31:23,360 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:23,362 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:23,362 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,364 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:23,364 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,364 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,365 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:23,365 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,365 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,365 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:23,365 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,366 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,366 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,366 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:31:23,366 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:23,367 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:23,367 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,367 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:23,367 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,368 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,369 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:23,369 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,369 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,369 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:23,370 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,370 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,370 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,370 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:31:23,370 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.049875497817993164
2023-11-26 00:31:23,371 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.049875497817993164
2023-11-26 00:31:23,371 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:23,372 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:23,372 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:23,372 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:23,372 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:23,372 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:23,373 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:23,373 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:23,373 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:31:23,373 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:23,373 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:23,373 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:23,373 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:23,373 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:31:23,374 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:23,374 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:31:23,375 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:31:23,375 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:23,375 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:31:23,375 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:31:23,375 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:31:23,376 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:23,377 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:23,385 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958683.3852196, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:23,385 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958683.3857205, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:23,387 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580374's parameters trained with 5749 samples
2023-11-26 00:31:23,404 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:23,404 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 36, trainer version: 34
2023-11-26 00:31:23,405 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:31:23,405 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580374 in dict
2023-11-26 00:31:23,405 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:23,405 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:23,405 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:23,411 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 36, trainer ver: 34
agg ver: 36, trainer ver: 34
2023-11-26 00:31:23,411 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:23,411 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:31:23,412 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:31:23,412 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04049873352050781
2023-11-26 00:31:23,412 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04049873352050781
2023-11-26 00:31:23,412 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:23,413 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:23,413 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:23,413 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:23,414 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:23,414 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:23,414 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:23,415 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:23,415 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:23,415 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:23,415 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: recvd
2023-11-26 00:31:23,416 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:31:23,416 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:23,416 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:23,416 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:23,417 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580373'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:23,417 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:23,417 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None}
2023-11-26 00:31:23,417 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958683.41797, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:31:23,426 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:31:23,426 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:23,427 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:23,427 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:23,430 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:23,430 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,431 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:23,432 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,432 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,435 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:23,435 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,435 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,436 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:23,436 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,436 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,436 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,437 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:31:23,437 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:23,439 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:23,440 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,441 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:23,442 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,442 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,442 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:23,442 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,442 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,443 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:23,443 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,443 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,443 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,443 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:31:23,444 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:23,444 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:23,445 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,445 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:23,446 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,446 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,446 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:23,446 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,446 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,447 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:23,447 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,447 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,447 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,447 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:31:23,448 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03554940223693848
2023-11-26 00:31:23,448 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03554940223693848
2023-11-26 00:31:23,449 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:23,450 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:23,450 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:23,450 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:23,450 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:23,450 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:23,450 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:23,451 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:23,451 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:31:23,451 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:23,451 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:23,451 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:23,451 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:23,451 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:31:23,451 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:23,453 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1266' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:31:23,454 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:23,454 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:23,462 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958683.4620073, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:23,462 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958683.462576, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:23,464 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:31:23,497 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:23,497 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 36, trainer version: 35
2023-11-26 00:31:23,497 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:31:23,497 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:31:23,498 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:23,498 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:23,498 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:23,503 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 36, trainer ver: 35
agg ver: 36, trainer ver: 35
2023-11-26 00:31:23,519 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:23,520 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:31:23,520 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:31:23,520 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.07136416435241699
2023-11-26 00:31:23,520 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.07136416435241699
2023-11-26 00:31:23,521 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:23,521 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:23,521 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:23,521 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:23,522 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:23,522 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:23,522 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:23,522 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:23,522 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:23,522 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:23,522 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:23,522 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:31:23,522 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:31:23,523 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:23,523 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:23,523 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580374'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:23,523 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:23,523 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580374': None}
2023-11-26 00:31:23,523 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958683.5238736, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:23,527 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:31:23,527 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:23,527 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:23,527 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:23,529 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:23,529 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,530 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:23,530 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,530 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,531 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:23,531 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,531 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,531 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:23,531 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,531 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,532 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,532 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:31:23,532 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:23,533 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:23,533 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,534 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:23,535 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,535 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,535 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:23,535 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,535 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,535 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:23,535 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,535 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,535 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,536 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:31:23,536 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:23,536 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:23,536 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,536 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:23,536 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,536 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,537 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:23,537 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,537 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,537 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:23,537 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,537 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:23,537 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:23,537 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:31:23,538 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.017058610916137695
2023-11-26 00:31:23,538 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.017058610916137695
2023-11-26 00:31:23,538 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:23,538 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:23,538 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:23,539 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:23,539 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:23,539 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:23,539 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:23,539 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:23,539 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:23,539 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:31:23,539 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:23,539 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:23,539 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:23,539 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:31:23,540 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:23,540 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1273' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:31:23,540 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:31:23,541 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:31:23,545 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958683.5451927, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:31:23,545 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958683.5454738, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:31:23,547 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:31:23,557 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:23,557 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 36, trainer version: 35
2023-11-26 00:31:23,557 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:31:23,557 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:31:23,558 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:23,558 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:23,558 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:23,563 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 36, trainer ver: 35
agg ver: 36, trainer ver: 35
2023-11-26 00:31:23,563 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:23,564 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:31:23,564 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:31:23,564 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:31:23,564 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:31:23,565 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 36
2023-11-26 00:31:23,565 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 36, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 16, '505f9fc483cf4df68a2409257b5fad7d3c580376': 15, '505f9fc483cf4df68a2409257b5fad7d3c580378': 11, '505f9fc483cf4df68a2409257b5fad7d3c580372': 6, '505f9fc483cf4df68a2409257b5fad7d3c580377': 13, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 10, '505f9fc483cf4df68a2409257b5fad7d3c580374': 10, '505f9fc483cf4df68a2409257b5fad7d3c580371': 8, '505f9fc483cf4df68a2409257b5fad7d3c580373': 11}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 16, '505f9fc483cf4df68a2409257b5fad7d3c580376': 15, '505f9fc483cf4df68a2409257b5fad7d3c580378': 11, '505f9fc483cf4df68a2409257b5fad7d3c580372': 6, '505f9fc483cf4df68a2409257b5fad7d3c580377': 13, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 10, '505f9fc483cf4df68a2409257b5fad7d3c580374': 10, '505f9fc483cf4df68a2409257b5fad7d3c580371': 8, '505f9fc483cf4df68a2409257b5fad7d3c580373': 11}
2023-11-26 00:31:23,565 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.287037037037037
2023-11-26 00:31:23,566 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9375, P50 1.0, P90 1.0, P99 1.8499999999999996
2023-11-26 00:31:23,566 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.0, P99 1.8599999999999994
2023-11-26 00:31:23,567 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.4545454545454546, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:23,567 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:23,568 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:31:23,568 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.625, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:23,568 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:23,569 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.8, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:23,569 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:23,570 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:31:23,570 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03162670135498047
2023-11-26 00:31:23,570 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03162670135498047
2023-11-26 00:31:23,570 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.384185791015625e-06
2023-11-26 00:31:23,570 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.384185791015625e-06
2023-11-26 00:31:24,002 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:24,019 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:24,019 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:24,022 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:24,022 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:24,023 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:24,024 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:24,024 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:24,025 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:24,028 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:24,032 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 0: 1048576
2023-11-26 00:31:24,032 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:24,034 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:24,034 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:24,035 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:24,039 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:24,043 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 1: 1048576
2023-11-26 00:31:24,044 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:24,045 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:24,045 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:24,046 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:24,047 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 2: 57063
2023-11-26 00:31:24,047 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:24,057 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:24,058 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:31:25,098 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:25,108 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:25,109 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:25,113 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:25,113 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:25,114 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:25,118 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:25,119 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:25,122 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:25,123 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:25,123 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:25,124 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:25,126 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:25,130 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 0: 1048576
2023-11-26 00:31:25,130 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:25,131 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:25,132 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:25,132 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:25,133 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:25,133 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:25,134 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:25,136 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:25,139 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 0: 1048576
2023-11-26 00:31:25,140 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:25,144 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 1: 1048576
2023-11-26 00:31:25,146 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:25,147 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 2: 57063
2023-11-26 00:31:25,148 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:25,151 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 1: 1048576
2023-11-26 00:31:25,153 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:25,154 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 2: 57063
2023-11-26 00:31:25,155 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:25,158 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:25,159 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:31:25,163 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:25,164 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:31:30,051 | main.py:161 | INFO | MainThread | evaluate | Test loss: 3.365473167991638
2023-11-26 00:31:30,052 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1254/10000 (0.1254)
2023-11-26 00:31:30,054 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305, 2.1813072254657744, 2.3389135039925577, 2.1007734859347345, 3.365473167991638]
2023-11-26 00:31:30,054 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.483991384506226
2023-11-26 00:31:30,055 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.483991384506226
2023-11-26 00:31:30,055 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:31:30,056 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.00042557716369628906
2023-11-26 00:31:30,056 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.00042557716369628906
2023-11-26 00:31:30,057 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 67.8
2023-11-26 00:31:30,057 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 77.8
2023-11-26 00:31:30,058 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 71.00000000000001
2023-11-26 00:31:30,059 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 68.4
2023-11-26 00:31:30,060 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 69.8
2023-11-26 00:31:30,060 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 72.4
2023-11-26 00:31:30,061 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 3.552866046286735
2023-11-26 00:31:30,061 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1118941184
2023-11-26 00:31:30,062 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1122078720
2023-11-26 00:31:30,062 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1121315693.7142856
2023-11-26 00:31:30,062 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1120987136.0
2023-11-26 00:31:30,063 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1122070528.0
2023-11-26 00:31:30,063 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1122072576.0
2023-11-26 00:31:30,064 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 1223676.5636361963
2023-11-26 00:31:30,064 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321786880
2023-11-26 00:31:30,064 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321897472
2023-11-26 00:31:30,065 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321864704.0
2023-11-26 00:31:30,065 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:31:30,066 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321893376.0
2023-11-26 00:31:30,066 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321893376.0
2023-11-26 00:31:30,067 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 38610.561752675174
2023-11-26 00:31:30,067 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 3.365473167991638, 'test-accuracy': 0.1254, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0002999305725097656, 'send.bytes': 6462612, 'distribute.runtime': 0.017058610916137695, 'recv.bytes': 6462645, 'aggregate.runtime': 0.03162670135498047, 'train.runtime': 2.384185791015625e-06, 'evaluate.runtime': 6.483991384506226, 'analysis.runtime': 0.00042557716369628906, 'min.cpu_utilization': 67.8, 'max.cpu_utilization': 77.8, 'mean.cpu_utilization': 71.00000000000001, '25th_prcntl.cpu_utilization': 68.4, '50th_prcntl.cpu_utilization': 69.8, '75th_prcntl.cpu_utilization': 72.4, 'std.cpu_utilization': 3.552866046286735, 'min.cpu_memory_rss': 1118941184, 'max.cpu_memory_rss': 1122078720, 'mean.cpu_memory_rss': 1121315693.7142856, '25th_prcntl.cpu_memory_rss': 1120987136.0, '50th_prcntl.cpu_memory_rss': 1122070528.0, '75th_prcntl.cpu_memory_rss': 1122072576.0, 'std.cpu_memory_rss': 1223676.5636361963, 'min.cpu_memory_vsz': 14321786880, 'max.cpu_memory_vsz': 14321897472, 'mean.cpu_memory_vsz': 14321864704.0, '25th_prcntl.cpu_memory_vsz': 14321844224.0, '50th_prcntl.cpu_memory_vsz': 14321893376.0, '75th_prcntl.cpu_memory_vsz': 14321893376.0, 'std.cpu_memory_vsz': 38610.561752675174, 'save_metrics.runtime': 0.011650800704956055, 'inc_round.runtime': 0.0007727146148681641}
2023-11-26 00:31:30,067 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:31:30,068 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011044979095458984
2023-11-26 00:31:30,068 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011044979095458984
2023-11-26 00:31:30,068 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 36
2023-11-26 00:31:30,068 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:31:30,068 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:30,069 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 37
2023-11-26 00:31:30,069 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008997917175292969
2023-11-26 00:31:30,069 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008997917175292969
2023-11-26 00:31:30,069 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:31:30,070 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:31:30,070 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0004563331604003906
2023-11-26 00:31:30,070 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0004563331604003906
2023-11-26 00:31:30,070 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:30,071 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:30,072 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:30,072 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:30,073 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:30,074 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:30,074 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:30,075 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:30,075 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:30,075 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:30,076 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:30,076 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:30,076 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:31:30,076 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:31:30,077 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:30,077 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:30,077 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:30,078 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:31:30,078 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958690.0785658, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:30,093 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:31:30,093 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:30,094 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:30,094 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:30,101 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:30,101 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,103 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:30,104 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,104 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,107 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:30,107 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,108 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,108 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:30,108 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,108 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,109 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,109 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:31:30,109 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:30,111 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:30,112 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,113 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:30,113 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,113 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,113 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:30,114 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,114 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,114 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:30,114 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,114 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,115 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,115 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:31:30,115 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:30,115 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:30,116 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,116 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:30,116 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,116 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,117 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:30,118 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,118 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,118 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:30,119 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,119 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,119 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,119 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:31:30,120 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.0493161678314209
2023-11-26 00:31:30,120 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.0493161678314209
2023-11-26 00:31:30,120 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:30,121 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:30,121 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:30,121 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:30,122 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:30,122 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:30,122 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:30,122 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:30,122 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:30,122 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:31:30,122 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:30,122 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:30,122 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:30,123 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:31:30,123 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:30,124 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:31:30,124 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:30,124 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:31:30,124 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:30,124 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:30,124 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:30,125 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:31:30,126 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:31:30,136 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958690.1368692, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:31:30,137 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958690.137367, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:31:30,139 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580380's parameters trained with 5285 samples
2023-11-26 00:31:30,155 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:30,155 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 37, trainer version: 35
2023-11-26 00:31:30,156 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:31:30,156 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580380 in dict
2023-11-26 00:31:30,156 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:30,156 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:30,156 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:30,162 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 37, trainer ver: 35
agg ver: 37, trainer ver: 35
2023-11-26 00:31:30,162 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:30,162 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:31:30,163 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:31:30,163 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.042319297790527344
2023-11-26 00:31:30,163 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.042319297790527344
2023-11-26 00:31:30,163 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:30,164 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:30,164 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:30,164 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:30,165 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:30,165 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:30,165 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:30,165 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:30,166 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:30,166 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:30,166 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:30,166 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:30,166 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: recvd
2023-11-26 00:31:30,167 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:30,167 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:30,167 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580378'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:30,167 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:30,167 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None}
2023-11-26 00:31:30,168 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958690.1682343, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:30,179 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:31:30,203 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:30,203 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:30,204 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:30,205 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:30,206 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,207 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:30,207 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,207 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,208 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:30,208 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,208 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,208 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:30,208 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,209 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,209 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,209 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:31:30,209 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:30,211 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:30,211 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,212 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:30,212 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,212 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,212 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:30,212 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,212 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,212 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:30,213 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,213 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,213 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,213 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:31:30,213 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:30,213 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:30,213 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,213 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:30,214 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,214 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,214 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:30,214 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,214 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,214 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:30,214 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,214 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,215 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,215 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:31:30,215 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.051798343658447266
2023-11-26 00:31:30,215 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.051798343658447266
2023-11-26 00:31:30,215 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:30,216 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:30,216 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:30,216 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:30,216 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:30,216 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:30,216 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:30,216 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:30,216 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:30,216 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:30,216 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:30,216 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:30,217 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:30,217 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:31:30,217 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:30,217 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1300' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:31:30,218 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:31:30,218 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:31:30,221 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958690.2214978, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:31:30,221 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958690.2216766, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:31:30,222 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580373's parameters trained with 1384 samples
2023-11-26 00:31:30,231 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:30,232 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 37, trainer version: 36
2023-11-26 00:31:30,232 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:31:30,232 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580373 in dict
2023-11-26 00:31:30,232 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:30,232 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:30,232 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:30,237 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 37, trainer ver: 36
agg ver: 37, trainer ver: 36
2023-11-26 00:31:30,237 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:30,237 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:31:30,237 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:31:30,238 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.022350549697875977
2023-11-26 00:31:30,238 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.022350549697875977
2023-11-26 00:31:30,238 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:30,238 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:30,239 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:30,239 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:30,239 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:30,240 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:30,240 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:30,240 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:30,240 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:30,240 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: recvd
2023-11-26 00:31:30,241 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:30,241 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:30,241 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:30,241 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:30,241 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:30,242 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580371'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:30,242 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:30,242 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None}
2023-11-26 00:31:30,243 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958690.2430556, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:31:30,249 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:31:30,249 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:30,250 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:30,250 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:30,252 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:30,252 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,253 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:30,253 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,254 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,256 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:30,257 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,257 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,257 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:30,257 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,257 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,257 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,258 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:31:30,258 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:30,259 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:30,260 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,261 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:30,261 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,261 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,261 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:30,262 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,262 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,262 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:30,262 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,262 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,263 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,263 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:31:30,263 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:30,263 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:30,264 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,264 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:30,264 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,264 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,265 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:30,265 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,265 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,265 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:30,266 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,266 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:30,266 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:30,266 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:31:30,266 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.028484582901000977
2023-11-26 00:31:30,267 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.028484582901000977
2023-11-26 00:31:30,267 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:30,267 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:30,267 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:30,268 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:30,268 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:30,268 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:30,268 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:30,268 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:30,268 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:30,269 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:30,269 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:30,269 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:30,269 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:30,269 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:31:30,270 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:30,270 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1307' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:31:30,271 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:31:30,271 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:31:30,278 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958690.2785237, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:31:30,278 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958690.2789266, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:31:30,281 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580372's parameters trained with 5929 samples
2023-11-26 00:31:30,312 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:30,312 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 37, trainer version: 36
2023-11-26 00:31:30,312 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:31:30,312 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580372 in dict
2023-11-26 00:31:30,313 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:30,313 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:30,313 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:30,317 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 37, trainer ver: 36
agg ver: 37, trainer ver: 36
2023-11-26 00:31:30,318 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:30,318 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:31:30,318 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:31:30,318 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:31:30,318 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:31:30,319 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 37
2023-11-26 00:31:30,319 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 37, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 16, '505f9fc483cf4df68a2409257b5fad7d3c580376': 15, '505f9fc483cf4df68a2409257b5fad7d3c580378': 11, '505f9fc483cf4df68a2409257b5fad7d3c580372': 7, '505f9fc483cf4df68a2409257b5fad7d3c580377': 13, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 11, '505f9fc483cf4df68a2409257b5fad7d3c580374': 10, '505f9fc483cf4df68a2409257b5fad7d3c580371': 8, '505f9fc483cf4df68a2409257b5fad7d3c580373': 12}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 16, '505f9fc483cf4df68a2409257b5fad7d3c580376': 15, '505f9fc483cf4df68a2409257b5fad7d3c580378': 11, '505f9fc483cf4df68a2409257b5fad7d3c580372': 7, '505f9fc483cf4df68a2409257b5fad7d3c580377': 13, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 11, '505f9fc483cf4df68a2409257b5fad7d3c580374': 10, '505f9fc483cf4df68a2409257b5fad7d3c580371': 8, '505f9fc483cf4df68a2409257b5fad7d3c580373': 12}
2023-11-26 00:31:30,320 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2882882882882882
2023-11-26 00:31:30,320 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9375, P50 1.0, P90 1.0, P99 1.8499999999999996
2023-11-26 00:31:30,321 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.0, P99 1.8599999999999994
2023-11-26 00:31:30,321 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.4545454545454546, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:30,321 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.2857142857142858, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:30,322 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:31:30,322 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.625, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:30,323 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4545454545454546, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:30,323 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.8, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:30,324 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:30,324 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:31:30,324 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.05728030204772949
2023-11-26 00:31:30,324 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.05728030204772949
2023-11-26 00:31:30,325 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.6226043701171875e-06
2023-11-26 00:31:30,325 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.6226043701171875e-06
2023-11-26 00:31:31,352 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:31,365 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:31,366 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:31,372 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:31,372 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:31,373 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:31,373 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:31,374 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:31,374 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:31,377 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:31,381 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:31:31,382 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:31,382 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:31,383 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:31,383 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:31,385 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:31,389 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:31:31,389 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:31,390 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:31,391 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:31,392 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:31,392 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:31:31,393 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:31,403 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:31,405 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:31:31,671 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:31,673 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:31,674 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:31,674 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:31,674 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:31,677 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:31,677 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:31,678 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:31,678 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:31,679 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:31,679 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:31,680 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:31,681 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:31,685 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 0: 1048576
2023-11-26 00:31:31,686 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:31,686 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:31,687 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:31,687 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:31,688 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:31,688 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:31,689 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:31,693 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 1: 1048576
2023-11-26 00:31:31,693 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:31,694 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 2: 57063
2023-11-26 00:31:31,695 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:31,704 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:31,704 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:31:32,503 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:32,507 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:32,508 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:32,511 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:32,511 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:32,512 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:32,513 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:32,513 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:32,514 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:32,515 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:32,520 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 0: 1048576
2023-11-26 00:31:32,520 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:32,522 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:32,522 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:32,523 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:32,524 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:32,524 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:32,526 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:32,530 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 1: 1048576
2023-11-26 00:31:32,531 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:32,532 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 2: 57063
2023-11-26 00:31:32,533 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:32,540 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:32,541 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:31:36,681 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.6130637244701385
2023-11-26 00:31:36,682 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1794/10000 (0.1794)
2023-11-26 00:31:36,684 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305, 2.1813072254657744, 2.3389135039925577, 2.1007734859347345, 3.365473167991638, 2.6130637244701385]
2023-11-26 00:31:36,685 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.359795331954956
2023-11-26 00:31:36,685 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.359795331954956
2023-11-26 00:31:36,686 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:31:36,686 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.00045752525329589844
2023-11-26 00:31:36,686 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.00045752525329589844
2023-11-26 00:31:36,687 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 66.8
2023-11-26 00:31:36,688 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 85.8
2023-11-26 00:31:36,688 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 71.98571428571428
2023-11-26 00:31:36,689 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 68.3
2023-11-26 00:31:36,690 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 68.9
2023-11-26 00:31:36,691 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 72.9
2023-11-26 00:31:36,692 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 6.077929292925011
2023-11-26 00:31:36,692 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1122078720
2023-11-26 00:31:36,692 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1122095104
2023-11-26 00:31:36,692 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1122088082.2857144
2023-11-26 00:31:36,693 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1122086912.0
2023-11-26 00:31:36,693 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1122086912.0
2023-11-26 00:31:36,694 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1122091008.0
2023-11-26 00:31:36,694 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 4753.723043626985
2023-11-26 00:31:36,695 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321844224
2023-11-26 00:31:36,695 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321897472
2023-11-26 00:31:36,695 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321859437.714285
2023-11-26 00:31:36,695 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:31:36,696 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:31:36,696 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321870848.0
2023-11-26 00:31:36,697 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 22828.072027435777
2023-11-26 00:31:36,697 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.6130637244701385, 'test-accuracy': 0.1794, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0004563331604003906, 'send.bytes': 6462612, 'distribute.runtime': 0.028484582901000977, 'recv.bytes': 6462645, 'aggregate.runtime': 0.05728030204772949, 'train.runtime': 2.6226043701171875e-06, 'evaluate.runtime': 6.359795331954956, 'analysis.runtime': 0.00045752525329589844, 'min.cpu_utilization': 66.8, 'max.cpu_utilization': 85.8, 'mean.cpu_utilization': 71.98571428571428, '25th_prcntl.cpu_utilization': 68.3, '50th_prcntl.cpu_utilization': 68.9, '75th_prcntl.cpu_utilization': 72.9, 'std.cpu_utilization': 6.077929292925011, 'min.cpu_memory_rss': 1122078720, 'max.cpu_memory_rss': 1122095104, 'mean.cpu_memory_rss': 1122088082.2857144, '25th_prcntl.cpu_memory_rss': 1122086912.0, '50th_prcntl.cpu_memory_rss': 1122086912.0, '75th_prcntl.cpu_memory_rss': 1122091008.0, 'std.cpu_memory_rss': 4753.723043626985, 'min.cpu_memory_vsz': 14321844224, 'max.cpu_memory_vsz': 14321897472, 'mean.cpu_memory_vsz': 14321859437.714285, '25th_prcntl.cpu_memory_vsz': 14321844224.0, '50th_prcntl.cpu_memory_vsz': 14321844224.0, '75th_prcntl.cpu_memory_vsz': 14321870848.0, 'std.cpu_memory_vsz': 22828.072027435777, 'save_metrics.runtime': 0.011044979095458984, 'inc_round.runtime': 0.0008997917175292969}
2023-11-26 00:31:36,697 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:31:36,698 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.010811567306518555
2023-11-26 00:31:36,698 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.010811567306518555
2023-11-26 00:31:36,698 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 37
2023-11-26 00:31:36,698 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:31:36,698 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:36,699 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 38
2023-11-26 00:31:36,699 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.000827789306640625
2023-11-26 00:31:36,699 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.000827789306640625
2023-11-26 00:31:36,699 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:31:36,700 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:31:36,700 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0004112720489501953
2023-11-26 00:31:36,700 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0004112720489501953
2023-11-26 00:31:36,700 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:36,701 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:36,702 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:36,702 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:36,703 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:36,704 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:36,704 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:36,704 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:36,705 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:36,705 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:36,705 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: recvd
2023-11-26 00:31:36,706 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:36,706 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:36,706 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:36,707 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:36,707 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580377'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:36,708 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:36,708 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None}
2023-11-26 00:31:36,708 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958696.7087622, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:31:36,721 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:31:36,721 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:36,722 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:36,723 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:36,727 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:36,728 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,730 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:36,730 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,730 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,733 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:36,733 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,733 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,734 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:36,734 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,734 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,734 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,734 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:31:36,735 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:36,736 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:36,736 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,737 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:36,737 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,738 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,738 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:36,738 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,738 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,738 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:36,738 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,739 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,739 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,739 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:31:36,739 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:36,739 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:36,740 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,740 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:36,740 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,740 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,741 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:36,742 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,742 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,742 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:36,742 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,742 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,742 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,743 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:31:36,743 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04266071319580078
2023-11-26 00:31:36,743 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04266071319580078
2023-11-26 00:31:36,744 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:36,744 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:36,744 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:36,745 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:36,745 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:36,745 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:36,745 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:36,745 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:36,745 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:36,745 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:36,745 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:36,745 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:36,746 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:36,746 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:31:36,746 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:36,747 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:31:36,747 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:31:36,748 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:36,748 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:31:36,748 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:36,749 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:36,751 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:36,752 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:36,761 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958696.7617636, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:36,762 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958696.7622461, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:36,763 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580374's parameters trained with 5749 samples
2023-11-26 00:31:36,778 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:36,778 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 38, trainer version: 36
2023-11-26 00:31:36,778 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:31:36,778 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580374 in dict
2023-11-26 00:31:36,779 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:36,779 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:36,779 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:36,784 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 38, trainer ver: 36
agg ver: 38, trainer ver: 36
2023-11-26 00:31:36,784 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:36,784 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:31:36,784 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:31:36,785 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.040780067443847656
2023-11-26 00:31:36,785 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.040780067443847656
2023-11-26 00:31:36,785 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:36,785 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:36,786 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:36,786 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:36,787 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:36,787 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:36,788 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:36,788 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:36,788 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:36,788 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:36,789 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:36,789 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:36,789 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: recvd
2023-11-26 00:31:36,789 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:36,790 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:36,790 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580374'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:36,790 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:36,791 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580374': None}
2023-11-26 00:31:36,791 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958696.791574, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:36,799 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:31:36,799 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:36,800 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:36,800 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:36,803 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:36,804 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,805 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:36,805 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,806 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,808 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:36,809 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,809 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,809 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:36,810 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,810 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,810 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,810 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:31:36,811 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:36,813 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:36,813 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,814 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:36,815 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,815 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,815 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:36,816 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,816 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,817 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:36,817 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,817 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,818 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,818 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:31:36,819 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:36,819 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:36,835 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,836 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:36,836 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,836 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,837 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:36,837 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,837 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,838 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:36,838 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,839 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,839 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,839 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:31:36,840 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05510997772216797
2023-11-26 00:31:36,840 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05510997772216797
2023-11-26 00:31:36,840 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:36,841 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:36,841 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:36,841 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:36,841 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:36,841 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:36,841 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:36,841 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:36,841 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:36,842 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:36,842 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:36,842 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:36,842 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:36,842 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:31:36,842 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:36,844 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1334' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:31:36,845 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:36,845 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:36,848 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958696.8484478, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:36,848 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958696.8486314, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:36,849 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:31:36,859 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:36,865 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 38, trainer version: 37
2023-11-26 00:31:36,865 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:31:36,866 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:31:36,866 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:36,866 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:36,867 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:36,872 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 38, trainer ver: 37
agg ver: 38, trainer ver: 37
2023-11-26 00:31:36,872 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:36,872 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:31:36,873 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:31:36,873 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03225827217102051
2023-11-26 00:31:36,873 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03225827217102051
2023-11-26 00:31:36,873 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:36,873 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:36,873 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:36,874 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:36,874 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:36,874 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:36,874 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:36,874 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:36,875 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:36,875 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:36,875 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:36,875 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:36,875 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:36,875 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:31:36,875 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:36,875 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:36,875 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:36,875 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:31:36,876 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958696.8761318, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:36,881 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:31:36,881 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:36,881 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:36,881 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:36,883 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:36,883 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,884 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:36,884 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,884 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,885 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:36,885 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,885 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,886 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:36,886 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,886 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,886 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,886 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:31:36,886 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:36,887 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:36,888 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,888 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:36,889 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,889 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,889 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:36,889 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,889 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,889 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:36,889 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,889 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,889 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,890 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:31:36,890 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:36,890 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:36,890 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,890 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:36,890 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,890 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,891 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:36,891 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,891 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,891 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:36,891 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,891 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:36,891 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:36,892 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:31:36,892 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.01880645751953125
2023-11-26 00:31:36,892 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.01880645751953125
2023-11-26 00:31:36,892 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:36,893 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:36,893 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:36,893 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:36,893 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:36,893 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:36,893 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:36,894 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:36,894 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:36,894 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:36,894 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:36,894 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:36,894 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:36,894 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:31:36,894 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:36,895 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1341' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:31:36,895 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:36,895 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:36,899 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958696.8998804, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:36,900 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958696.9001436, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:36,901 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580378's parameters trained with 4612 samples
2023-11-26 00:31:36,914 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:36,924 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 38, trainer version: 37
2023-11-26 00:31:36,924 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:31:36,924 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580378 in dict
2023-11-26 00:31:36,924 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:36,925 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:36,925 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:36,930 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 38, trainer ver: 37
agg ver: 38, trainer ver: 37
2023-11-26 00:31:36,930 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:36,931 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:31:36,931 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:31:36,931 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:31:36,932 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:31:36,933 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 38
2023-11-26 00:31:36,933 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 38, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 17, '505f9fc483cf4df68a2409257b5fad7d3c580376': 15, '505f9fc483cf4df68a2409257b5fad7d3c580378': 12, '505f9fc483cf4df68a2409257b5fad7d3c580372': 7, '505f9fc483cf4df68a2409257b5fad7d3c580377': 13, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 11, '505f9fc483cf4df68a2409257b5fad7d3c580374': 11, '505f9fc483cf4df68a2409257b5fad7d3c580371': 8, '505f9fc483cf4df68a2409257b5fad7d3c580373': 12}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 17, '505f9fc483cf4df68a2409257b5fad7d3c580376': 15, '505f9fc483cf4df68a2409257b5fad7d3c580378': 12, '505f9fc483cf4df68a2409257b5fad7d3c580372': 7, '505f9fc483cf4df68a2409257b5fad7d3c580377': 13, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 11, '505f9fc483cf4df68a2409257b5fad7d3c580374': 11, '505f9fc483cf4df68a2409257b5fad7d3c580371': 8, '505f9fc483cf4df68a2409257b5fad7d3c580373': 12}
2023-11-26 00:31:36,933 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2894736842105263
2023-11-26 00:31:36,934 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9411764705882353, P50 1.0, P90 1.0, P99 1.8399999999999999
2023-11-26 00:31:36,935 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.0, P99 1.8599999999999994
2023-11-26 00:31:36,938 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.4166666666666667, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:36,939 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.2857142857142858, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:36,940 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:31:36,941 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.625, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:36,942 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4545454545454546, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:36,942 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.8181818181818181, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:36,943 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:36,944 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:31:36,945 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.05222749710083008
2023-11-26 00:31:36,945 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.05222749710083008
2023-11-26 00:31:36,946 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 7.867813110351562e-06
2023-11-26 00:31:36,946 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 7.867813110351562e-06
2023-11-26 00:31:37,518 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:37,533 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:37,534 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:37,540 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:37,541 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:37,541 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:37,542 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:37,543 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:37,543 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:37,544 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:37,548 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 0: 1048576
2023-11-26 00:31:37,548 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:37,549 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:37,550 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:37,550 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:37,554 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:37,557 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 1: 1048576
2023-11-26 00:31:37,557 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:37,558 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:37,558 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:37,559 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:37,559 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 2: 57063
2023-11-26 00:31:37,560 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:37,568 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:37,569 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:31:38,129 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:38,133 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:38,133 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:38,136 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:38,137 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:38,138 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:38,139 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:38,139 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:38,140 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:38,142 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:38,146 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:31:38,147 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:38,148 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:38,148 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:38,149 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:38,149 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:38,150 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:38,151 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:38,155 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:31:38,156 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:38,157 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:31:38,158 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:38,166 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:38,167 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:31:38,315 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:38,318 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:38,319 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:38,320 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:38,321 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:38,323 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:38,324 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:38,325 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:38,325 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:38,326 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:38,327 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:38,328 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:38,332 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 0: 1048576
2023-11-26 00:31:38,333 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:38,334 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:38,335 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:38,335 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:38,335 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:38,336 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:38,337 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:38,341 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 1: 1048576
2023-11-26 00:31:38,342 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:38,343 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:38,344 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:38,344 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:38,345 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 2: 57063
2023-11-26 00:31:38,345 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:38,353 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:38,354 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:31:43,343 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.161523858690262
2023-11-26 00:31:43,344 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 2062/10000 (0.2062)
2023-11-26 00:31:43,345 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305, 2.1813072254657744, 2.3389135039925577, 2.1007734859347345, 3.365473167991638, 2.6130637244701385, 2.161523858690262]
2023-11-26 00:31:43,346 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.399205684661865
2023-11-26 00:31:43,346 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.399205684661865
2023-11-26 00:31:43,347 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:31:43,347 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.000568389892578125
2023-11-26 00:31:43,348 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.000568389892578125
2023-11-26 00:31:43,348 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 68.8
2023-11-26 00:31:43,349 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 86.8
2023-11-26 00:31:43,349 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 73.53333333333332
2023-11-26 00:31:43,350 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 69.65
2023-11-26 00:31:43,351 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 71.9
2023-11-26 00:31:43,352 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 72.65
2023-11-26 00:31:43,352 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 6.132065086267611
2023-11-26 00:31:43,353 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1122111488
2023-11-26 00:31:43,353 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1122115584
2023-11-26 00:31:43,354 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1122114901.3333333
2023-11-26 00:31:43,354 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1122115584.0
2023-11-26 00:31:43,355 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1122115584.0
2023-11-26 00:31:43,356 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1122115584.0
2023-11-26 00:31:43,356 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 1526.4890726398562
2023-11-26 00:31:43,357 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321844224
2023-11-26 00:31:43,357 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321893376
2023-11-26 00:31:43,358 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321860608.0
2023-11-26 00:31:43,358 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:31:43,359 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:31:43,360 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321881088.0
2023-11-26 00:31:43,360 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 23170.47500592079
2023-11-26 00:31:43,360 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.161523858690262, 'test-accuracy': 0.2062, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0004112720489501953, 'send.bytes': 6462612, 'distribute.runtime': 0.01880645751953125, 'recv.bytes': 6462645, 'aggregate.runtime': 0.05222749710083008, 'train.runtime': 7.867813110351562e-06, 'evaluate.runtime': 6.399205684661865, 'analysis.runtime': 0.000568389892578125, 'min.cpu_utilization': 68.8, 'max.cpu_utilization': 86.8, 'mean.cpu_utilization': 73.53333333333332, '25th_prcntl.cpu_utilization': 69.65, '50th_prcntl.cpu_utilization': 71.9, '75th_prcntl.cpu_utilization': 72.65, 'std.cpu_utilization': 6.132065086267611, 'min.cpu_memory_rss': 1122111488, 'max.cpu_memory_rss': 1122115584, 'mean.cpu_memory_rss': 1122114901.3333333, '25th_prcntl.cpu_memory_rss': 1122115584.0, '50th_prcntl.cpu_memory_rss': 1122115584.0, '75th_prcntl.cpu_memory_rss': 1122115584.0, 'std.cpu_memory_rss': 1526.4890726398562, 'min.cpu_memory_vsz': 14321844224, 'max.cpu_memory_vsz': 14321893376, 'mean.cpu_memory_vsz': 14321860608.0, '25th_prcntl.cpu_memory_vsz': 14321844224.0, '50th_prcntl.cpu_memory_vsz': 14321844224.0, '75th_prcntl.cpu_memory_vsz': 14321881088.0, 'std.cpu_memory_vsz': 23170.47500592079, 'save_metrics.runtime': 0.010811567306518555, 'inc_round.runtime': 0.000827789306640625}
2023-11-26 00:31:43,361 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:31:43,361 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.012969017028808594
2023-11-26 00:31:43,361 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.012969017028808594
2023-11-26 00:31:43,361 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 38
2023-11-26 00:31:43,361 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:31:43,362 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:43,362 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 39
2023-11-26 00:31:43,362 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0007648468017578125
2023-11-26 00:31:43,362 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0007648468017578125
2023-11-26 00:31:43,363 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:31:43,363 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:31:43,363 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00037932395935058594
2023-11-26 00:31:43,363 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00037932395935058594
2023-11-26 00:31:43,363 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:43,364 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:43,364 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:43,365 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:43,366 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:43,366 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:43,367 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:43,367 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:43,368 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:43,368 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:43,368 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:43,368 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: recvd
2023-11-26 00:31:43,369 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:43,369 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:43,369 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:43,370 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580379'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:43,370 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:43,370 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580379': None}
2023-11-26 00:31:43,371 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958703.3710377, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:31:43,383 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:31:43,383 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:43,384 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:43,384 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:43,387 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:43,388 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,389 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:43,390 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,390 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,392 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:43,393 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,393 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,393 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:43,393 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,393 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,394 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,394 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:31:43,394 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:43,396 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:43,396 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,397 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:43,398 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,398 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,398 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:43,398 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,398 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,399 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:43,399 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,399 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,399 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,399 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:31:43,400 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:43,400 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:43,400 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,400 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:43,401 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,401 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,402 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:43,402 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,402 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,402 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:43,403 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,403 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,403 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,403 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:31:43,403 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.040082693099975586
2023-11-26 00:31:43,404 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.040082693099975586
2023-11-26 00:31:43,404 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:43,405 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:43,405 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:43,405 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:43,405 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:43,406 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:43,406 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:31:43,406 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:43,406 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:43,406 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:31:43,406 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:43,406 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:43,406 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:43,407 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:31:43,407 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:43,408 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:31:43,408 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:31:43,408 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:43,408 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:31:43,409 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:43,409 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:31:43,410 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:31:43,411 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:31:43,421 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958703.421515, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:31:43,421 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958703.4218814, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:31:43,423 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580371's parameters trained with 8920 samples
2023-11-26 00:31:43,439 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:43,439 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 39, trainer version: 37
2023-11-26 00:31:43,439 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:31:43,440 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580371 in dict
2023-11-26 00:31:43,440 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:43,440 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:43,440 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:43,445 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 39, trainer ver: 37
agg ver: 39, trainer ver: 37
2023-11-26 00:31:43,445 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:43,446 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:31:43,446 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:31:43,446 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.0419003963470459
2023-11-26 00:31:43,446 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.0419003963470459
2023-11-26 00:31:43,446 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:43,447 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:43,447 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:43,447 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:43,448 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:43,448 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:43,448 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:43,449 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:43,449 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:43,449 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: recvd
2023-11-26 00:31:43,449 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:43,449 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:43,449 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:31:43,450 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:43,450 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:43,450 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580372'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:43,450 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:43,450 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580372': None}
2023-11-26 00:31:43,451 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958703.4510992, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:31:43,455 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:31:43,455 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:43,455 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:43,456 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:43,458 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:43,458 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,459 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:43,459 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,460 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,462 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:43,463 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,464 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,465 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:43,465 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,466 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,467 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,468 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:31:43,469 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:43,471 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:43,472 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,474 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:43,475 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,475 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,476 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:43,476 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,477 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,478 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:43,478 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,478 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,479 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,479 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:31:43,480 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:43,480 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:43,481 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,481 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:43,482 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,482 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,483 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:43,483 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,483 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,484 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:43,484 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,485 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,485 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,487 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:31:43,488 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04171156883239746
2023-11-26 00:31:43,488 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04171156883239746
2023-11-26 00:31:43,489 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:43,489 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:43,489 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:43,490 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:43,490 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:43,490 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:43,490 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:43,490 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:43,491 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:43,491 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:31:43,491 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:43,491 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:43,491 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:43,491 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:31:43,492 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:43,492 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1368' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:31:43,493 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:31:43,493 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:31:43,495 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958703.4959705, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:31:43,496 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958703.4961665, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:31:43,497 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580377's parameters trained with 2122 samples
2023-11-26 00:31:43,506 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:43,506 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 39, trainer version: 38
2023-11-26 00:31:43,506 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:31:43,507 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580377 in dict
2023-11-26 00:31:43,507 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:43,507 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:43,507 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:43,519 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 39, trainer ver: 38
agg ver: 39, trainer ver: 38
2023-11-26 00:31:43,520 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:43,521 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:31:43,521 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:31:43,521 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03278374671936035
2023-11-26 00:31:43,522 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03278374671936035
2023-11-26 00:31:43,522 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:43,523 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:43,523 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:43,523 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:43,524 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:43,524 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:43,524 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:43,525 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:43,525 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:43,525 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: recvd
2023-11-26 00:31:43,525 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:43,525 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:43,526 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:31:43,526 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:43,526 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:43,526 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580378'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:43,526 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:43,527 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None}
2023-11-26 00:31:43,527 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958703.5277858, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:43,531 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:31:43,531 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:43,531 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:43,532 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:43,533 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:43,534 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,535 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:43,535 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,535 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,536 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:43,536 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,536 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,538 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:43,538 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,538 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,538 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,538 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:31:43,539 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:43,540 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:43,540 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,541 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:43,541 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,542 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,542 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:43,542 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,542 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,542 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:43,542 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,542 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,542 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,542 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:31:43,543 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:43,543 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:43,543 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,543 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:43,543 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,543 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,543 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:43,544 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,544 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,544 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:43,544 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,544 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:43,544 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:43,544 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:31:43,545 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.022161006927490234
2023-11-26 00:31:43,545 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.022161006927490234
2023-11-26 00:31:43,545 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:43,545 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:43,546 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:43,546 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:43,546 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:43,546 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:43,546 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:43,546 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:43,547 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:43,547 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:31:43,547 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:31:43,547 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:31:43,547 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:43,547 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:31:43,548 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:43,548 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1375' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:31:43,549 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:43,549 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:43,551 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958703.5515585, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:43,551 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958703.5517495, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:31:43,553 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:31:43,563 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:43,563 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 39, trainer version: 38
2023-11-26 00:31:43,564 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:31:43,564 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:31:43,564 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:43,564 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:43,564 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:43,570 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 39, trainer ver: 38
agg ver: 39, trainer ver: 38
2023-11-26 00:31:43,570 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:43,571 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:31:43,571 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:31:43,571 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:31:43,572 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:31:43,573 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 39
2023-11-26 00:31:43,573 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 39, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 18, '505f9fc483cf4df68a2409257b5fad7d3c580376': 15, '505f9fc483cf4df68a2409257b5fad7d3c580378': 12, '505f9fc483cf4df68a2409257b5fad7d3c580372': 7, '505f9fc483cf4df68a2409257b5fad7d3c580377': 14, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 11, '505f9fc483cf4df68a2409257b5fad7d3c580374': 11, '505f9fc483cf4df68a2409257b5fad7d3c580371': 9, '505f9fc483cf4df68a2409257b5fad7d3c580373': 12}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 18, '505f9fc483cf4df68a2409257b5fad7d3c580376': 15, '505f9fc483cf4df68a2409257b5fad7d3c580378': 12, '505f9fc483cf4df68a2409257b5fad7d3c580372': 7, '505f9fc483cf4df68a2409257b5fad7d3c580377': 14, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 11, '505f9fc483cf4df68a2409257b5fad7d3c580374': 11, '505f9fc483cf4df68a2409257b5fad7d3c580371': 9, '505f9fc483cf4df68a2409257b5fad7d3c580373': 12}
2023-11-26 00:31:43,573 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2905982905982907
2023-11-26 00:31:43,574 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9444444444444444, P50 1.0, P90 1.0, P99 1.8299999999999983
2023-11-26 00:31:43,575 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.0, P99 1.8599999999999994
2023-11-26 00:31:43,575 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.4166666666666667, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:43,576 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.2857142857142858, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:43,576 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:31:43,577 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.625, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:43,578 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4545454545454546, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:43,578 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.8181818181818181, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:43,579 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:43,579 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:31:43,580 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.0346376895904541
2023-11-26 00:31:43,580 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.0346376895904541
2023-11-26 00:31:43,580 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.86102294921875e-06
2023-11-26 00:31:43,580 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.86102294921875e-06
2023-11-26 00:31:44,957 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:44,971 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:44,972 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:44,979 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:44,979 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:44,979 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:44,980 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:44,981 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:44,981 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:44,984 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:44,988 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 0: 1048576
2023-11-26 00:31:44,989 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:44,990 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:44,990 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:44,991 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:44,993 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:44,997 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 1: 1048576
2023-11-26 00:31:44,998 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:44,998 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:44,999 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:44,999 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:45,000 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 2: 57063
2023-11-26 00:31:45,001 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:45,009 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:45,010 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:31:45,107 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:45,110 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:45,111 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:45,112 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:45,112 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:45,115 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:45,116 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:45,117 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:45,117 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:45,118 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:45,118 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:45,119 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:45,120 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:45,124 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 0: 1048576
2023-11-26 00:31:45,126 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:45,126 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:45,127 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:45,127 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:45,128 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:31:45,129 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:45,130 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:31:45,134 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 1: 1048576
2023-11-26 00:31:45,135 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:45,136 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 2: 57061
2023-11-26 00:31:45,137 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:45,142 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154213
2023-11-26 00:31:45,143 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308428
2023-11-26 00:31:45,543 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:45,547 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:45,547 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:45,550 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:45,551 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:45,552 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:45,552 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:45,553 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:45,554 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:45,556 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:45,557 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 0: 1048576
2023-11-26 00:31:45,558 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:45,559 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:45,560 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:45,560 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:45,561 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:45,561 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:45,563 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:45,564 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 1: 1048576
2023-11-26 00:31:45,565 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:45,566 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 2: 57063
2023-11-26 00:31:45,566 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:45,572 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:45,572 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462643
2023-11-26 00:31:50,136 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.144376903986931
2023-11-26 00:31:50,137 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1997/10000 (0.1997)
2023-11-26 00:31:50,139 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305, 2.1813072254657744, 2.3389135039925577, 2.1007734859347345, 3.365473167991638, 2.6130637244701385, 2.161523858690262, 2.144376903986931]
2023-11-26 00:31:50,139 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.558732748031616
2023-11-26 00:31:50,140 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.558732748031616
2023-11-26 00:31:50,140 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:31:50,141 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.00044155120849609375
2023-11-26 00:31:50,141 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.00044155120849609375
2023-11-26 00:31:50,142 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 69.9
2023-11-26 00:31:50,142 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 84.9
2023-11-26 00:31:50,143 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 74.75714285714285
2023-11-26 00:31:50,144 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 70.9
2023-11-26 00:31:50,145 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 72.9
2023-11-26 00:31:50,146 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 76.9
2023-11-26 00:31:50,146 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 5.383269623261935
2023-11-26 00:31:50,147 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1122095104
2023-11-26 00:31:50,147 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1124143104
2023-11-26 00:31:50,148 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1123563227.4285715
2023-11-26 00:31:50,148 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1123137536.0
2023-11-26 00:31:50,149 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1124143104.0
2023-11-26 00:31:50,150 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1124143104.0
2023-11-26 00:31:50,150 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 916918.2970187004
2023-11-26 00:31:50,151 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321786880
2023-11-26 00:31:50,151 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321893376
2023-11-26 00:31:50,151 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321857097.142857
2023-11-26 00:31:50,152 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:31:50,152 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:31:50,153 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321893376.0
2023-11-26 00:31:50,153 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 36598.335244842456
2023-11-26 00:31:50,154 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.144376903986931, 'test-accuracy': 0.1997, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00037932395935058594, 'send.bytes': 6462612, 'distribute.runtime': 0.022161006927490234, 'recv.bytes': 6462643, 'aggregate.runtime': 0.0346376895904541, 'train.runtime': 2.86102294921875e-06, 'evaluate.runtime': 6.558732748031616, 'analysis.runtime': 0.00044155120849609375, 'min.cpu_utilization': 69.9, 'max.cpu_utilization': 84.9, 'mean.cpu_utilization': 74.75714285714285, '25th_prcntl.cpu_utilization': 70.9, '50th_prcntl.cpu_utilization': 72.9, '75th_prcntl.cpu_utilization': 76.9, 'std.cpu_utilization': 5.383269623261935, 'min.cpu_memory_rss': 1122095104, 'max.cpu_memory_rss': 1124143104, 'mean.cpu_memory_rss': 1123563227.4285715, '25th_prcntl.cpu_memory_rss': 1123137536.0, '50th_prcntl.cpu_memory_rss': 1124143104.0, '75th_prcntl.cpu_memory_rss': 1124143104.0, 'std.cpu_memory_rss': 916918.2970187004, 'min.cpu_memory_vsz': 14321786880, 'max.cpu_memory_vsz': 14321893376, 'mean.cpu_memory_vsz': 14321857097.142857, '25th_prcntl.cpu_memory_vsz': 14321844224.0, '50th_prcntl.cpu_memory_vsz': 14321844224.0, '75th_prcntl.cpu_memory_vsz': 14321893376.0, 'std.cpu_memory_vsz': 36598.335244842456, 'save_metrics.runtime': 0.012969017028808594, 'inc_round.runtime': 0.0007648468017578125}
2023-11-26 00:31:50,154 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:31:50,154 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.012812614440917969
2023-11-26 00:31:50,154 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.012812614440917969
2023-11-26 00:31:50,155 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 39
2023-11-26 00:31:50,155 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:31:50,155 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:50,155 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 40
2023-11-26 00:31:50,156 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008559226989746094
2023-11-26 00:31:50,156 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008559226989746094
2023-11-26 00:31:50,156 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:31:50,156 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:31:50,156 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00040030479431152344
2023-11-26 00:31:50,157 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00040030479431152344
2023-11-26 00:31:50,157 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:50,158 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:50,159 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:50,160 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:50,161 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:50,161 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:50,162 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:50,162 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:50,162 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:31:50,163 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:50,163 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:50,163 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:50,163 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:31:50,164 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:31:50,164 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:50,164 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580377'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:31:50,165 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:31:50,165 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None}
2023-11-26 00:31:50,165 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958710.165838, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:31:50,181 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:31:50,182 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:50,182 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:50,183 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:50,188 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,188 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,190 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,190 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,191 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,193 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,194 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,194 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,194 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,194 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,194 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,194 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,195 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:31:50,195 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:50,197 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,197 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,198 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,198 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,199 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,199 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,199 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,199 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,199 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,199 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,200 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,200 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,200 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:31:50,200 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:50,200 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,200 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,201 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,201 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,201 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,202 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,203 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,203 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,203 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,203 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,203 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,203 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,203 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:31:50,204 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04686760902404785
2023-11-26 00:31:50,204 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04686760902404785
2023-11-26 00:31:50,205 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:50,205 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:50,205 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:50,205 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:50,206 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:50,206 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:31:50,206 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:50,206 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:50,206 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:50,206 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:50,206 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:31:50,206 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:31:50,206 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:31:50,206 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None}
2023-11-26 00:31:50,207 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:50,208 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:31:50,208 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:31:50,209 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:50,209 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:31:50,209 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:31:50,209 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:31:50,212 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:50,212 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:50,220 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958710.2201657, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:50,220 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958710.2206488, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:50,222 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580374's parameters trained with 5749 samples
2023-11-26 00:31:50,238 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:50,239 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 40, trainer version: 38
2023-11-26 00:31:50,239 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:31:50,239 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580374 in dict
2023-11-26 00:31:50,239 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:50,239 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:50,240 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:50,245 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 40, trainer ver: 38
agg ver: 40, trainer ver: 38
2023-11-26 00:31:50,245 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:50,246 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:31:50,246 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:31:50,246 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04126334190368652
2023-11-26 00:31:50,246 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04126334190368652
2023-11-26 00:31:50,246 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:50,247 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:50,247 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:50,248 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:50,248 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:50,248 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:50,249 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:50,249 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:50,249 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:31:50,250 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:50,250 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:50,250 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:50,251 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: recvd
2023-11-26 00:31:50,251 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:31:50,251 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:50,252 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580373'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:31:50,252 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:31:50,252 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None}
2023-11-26 00:31:50,253 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958710.25323, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:31:50,261 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:31:50,262 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:50,262 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:50,263 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:50,265 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,265 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,266 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,267 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,267 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,270 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,270 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,271 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,274 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,275 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,275 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,276 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,276 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:31:50,277 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:50,283 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,284 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,288 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,288 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,288 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,289 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,289 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,289 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,294 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,294 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,294 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,295 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,295 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:31:50,295 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:50,295 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,296 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,304 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,304 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,304 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,304 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,304 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,304 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,305 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,305 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,305 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,305 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,305 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:31:50,306 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.059415340423583984
2023-11-26 00:31:50,306 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.059415340423583984
2023-11-26 00:31:50,306 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:50,306 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:50,307 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:50,307 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:50,307 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:50,307 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:31:50,308 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:50,308 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:50,308 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:50,308 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:50,308 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:31:50,309 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:31:50,309 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:31:50,309 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None}
2023-11-26 00:31:50,309 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:50,310 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1402' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:31:50,311 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:50,311 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:50,316 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958710.316421, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:50,316 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958710.3166387, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:50,317 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580378's parameters trained with 4612 samples
2023-11-26 00:31:50,325 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:50,325 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 40, trainer version: 39
2023-11-26 00:31:50,326 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:31:50,326 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580378 in dict
2023-11-26 00:31:50,326 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:50,326 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:50,326 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:50,330 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 40, trainer ver: 39
agg ver: 40, trainer ver: 39
2023-11-26 00:31:50,331 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:50,331 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:31:50,331 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:31:50,332 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.025544166564941406
2023-11-26 00:31:50,332 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.025544166564941406
2023-11-26 00:31:50,332 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:50,332 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:50,333 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:50,333 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:50,333 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:50,334 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:50,334 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:50,334 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:50,334 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:31:50,334 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:50,335 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:50,335 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:50,335 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: recvd
2023-11-26 00:31:50,335 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:31:50,335 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:50,335 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:50,336 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:50,336 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:31:50,336 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958710.3365648, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:31:50,340 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:31:50,341 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:50,341 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:50,341 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:50,342 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,343 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,343 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,344 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,344 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,346 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,346 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,346 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,346 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,346 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,346 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,346 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,347 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:31:50,347 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:50,348 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,348 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,349 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,349 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,349 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,350 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,350 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,350 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,350 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,350 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,350 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,350 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,350 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:31:50,351 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:50,351 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,351 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,351 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,351 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,351 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,352 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,352 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,352 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,353 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,353 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,353 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:50,353 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:50,353 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:31:50,353 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.02117323875427246
2023-11-26 00:31:50,354 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.02117323875427246
2023-11-26 00:31:50,354 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:50,354 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:50,354 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:50,354 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:50,355 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:50,355 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:50,355 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:50,355 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:50,355 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:31:50,355 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:31:50,355 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:50,355 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:50,355 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:50,355 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:31:50,356 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:50,356 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1409' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:31:50,356 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:31:50,357 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:31:50,361 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958710.3614624, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:31:50,361 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958710.3617587, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:31:50,362 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580372's parameters trained with 5929 samples
2023-11-26 00:31:50,374 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:50,383 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 40, trainer version: 39
2023-11-26 00:31:50,384 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:31:50,384 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580372 in dict
2023-11-26 00:31:50,384 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:50,384 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:50,384 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:50,389 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 40, trainer ver: 39
agg ver: 40, trainer ver: 39
2023-11-26 00:31:50,389 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:50,389 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:31:50,390 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:31:50,390 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:31:50,390 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:31:50,391 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 40
2023-11-26 00:31:50,391 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 40, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 18, '505f9fc483cf4df68a2409257b5fad7d3c580376': 15, '505f9fc483cf4df68a2409257b5fad7d3c580378': 13, '505f9fc483cf4df68a2409257b5fad7d3c580372': 8, '505f9fc483cf4df68a2409257b5fad7d3c580377': 14, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 11, '505f9fc483cf4df68a2409257b5fad7d3c580374': 12, '505f9fc483cf4df68a2409257b5fad7d3c580371': 9, '505f9fc483cf4df68a2409257b5fad7d3c580373': 12}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 18, '505f9fc483cf4df68a2409257b5fad7d3c580376': 15, '505f9fc483cf4df68a2409257b5fad7d3c580378': 13, '505f9fc483cf4df68a2409257b5fad7d3c580372': 8, '505f9fc483cf4df68a2409257b5fad7d3c580377': 14, '505f9fc483cf4df68a2409257b5fad7d3c580379': 8, '505f9fc483cf4df68a2409257b5fad7d3c580380': 11, '505f9fc483cf4df68a2409257b5fad7d3c580374': 12, '505f9fc483cf4df68a2409257b5fad7d3c580371': 9, '505f9fc483cf4df68a2409257b5fad7d3c580373': 12}
2023-11-26 00:31:50,391 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2916666666666667
2023-11-26 00:31:50,392 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9444444444444444, P50 1.0, P90 1.0, P99 1.8299999999999983
2023-11-26 00:31:50,392 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.0, P99 1.8599999999999994
2023-11-26 00:31:50,392 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.3846153846153846, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:50,393 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.25, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:50,393 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:31:50,394 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.625, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:50,394 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4545454545454546, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:50,394 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.8333333333333333, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:50,395 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:50,395 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:31:50,395 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.0416259765625
2023-11-26 00:31:50,396 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.0416259765625
2023-11-26 00:31:50,396 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.1457672119140625e-06
2023-11-26 00:31:50,396 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.1457672119140625e-06
2023-11-26 00:31:50,793 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:50,808 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,809 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:50,815 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:50,816 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,816 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:50,817 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,818 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:50,818 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:50,820 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:50,825 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 0: 1048576
2023-11-26 00:31:50,826 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:50,827 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:50,827 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,828 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:50,831 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:50,835 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 1: 1048576
2023-11-26 00:31:50,835 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:50,837 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,837 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:50,838 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:50,838 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 2: 57063
2023-11-26 00:31:50,839 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,844 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:50,845 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:31:50,963 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:50,966 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,967 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:50,970 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:50,971 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,971 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:50,973 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,973 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:50,974 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:50,975 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:50,979 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 0: 1048576
2023-11-26 00:31:50,980 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:50,981 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:50,981 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:50,982 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:50,982 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:50,983 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:50,984 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:50,987 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 1: 1048576
2023-11-26 00:31:50,988 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:50,989 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 2: 57063
2023-11-26 00:31:50,990 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:51,000 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:51,001 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:31:51,767 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:51,776 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:51,777 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:51,782 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:51,782 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:51,783 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:51,784 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:51,784 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:51,785 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:51,787 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:51,792 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:31:51,792 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:51,793 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:51,794 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:51,794 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:51,794 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:51,795 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:51,798 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:31:51,802 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:31:51,803 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:51,804 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:31:51,804 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:51,813 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:31:51,814 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:31:56,897 | main.py:161 | INFO | MainThread | evaluate | Test loss: 1.9134297976374626
2023-11-26 00:31:56,899 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 3495/10000 (0.3495)
2023-11-26 00:31:56,900 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305, 2.1813072254657744, 2.3389135039925577, 2.1007734859347345, 3.365473167991638, 2.6130637244701385, 2.161523858690262, 2.144376903986931, 1.9134297976374626]
2023-11-26 00:31:56,901 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.504764556884766
2023-11-26 00:31:56,901 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.504764556884766
2023-11-26 00:31:56,902 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:31:56,902 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.00039076805114746094
2023-11-26 00:31:56,902 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.00039076805114746094
2023-11-26 00:31:56,903 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 68.9
2023-11-26 00:31:56,904 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 79.8
2023-11-26 00:31:56,904 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 73.84285714285714
2023-11-26 00:31:56,905 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 70.85
2023-11-26 00:31:56,906 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 71.8
2023-11-26 00:31:56,907 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 77.35
2023-11-26 00:31:56,907 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 3.978821484832318
2023-11-26 00:31:56,908 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1124155392
2023-11-26 00:31:56,908 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1126522880
2023-11-26 00:31:56,908 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1125982793.142857
2023-11-26 00:31:56,909 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1126197248.0
2023-11-26 00:31:56,910 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1126199296.0
2023-11-26 00:31:56,911 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1126303744.0
2023-11-26 00:31:56,911 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 755561.5083827067
2023-11-26 00:31:56,911 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321844224
2023-11-26 00:31:56,912 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321897472
2023-11-26 00:31:56,912 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321858852.571428
2023-11-26 00:31:56,913 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:31:56,913 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:31:56,914 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321868800.0
2023-11-26 00:31:56,914 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 23155.693202179664
2023-11-26 00:31:56,915 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 1.9134297976374626, 'test-accuracy': 0.3495, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00040030479431152344, 'send.bytes': 6462612, 'distribute.runtime': 0.02117323875427246, 'recv.bytes': 6462645, 'aggregate.runtime': 0.0416259765625, 'train.runtime': 2.1457672119140625e-06, 'evaluate.runtime': 6.504764556884766, 'analysis.runtime': 0.00039076805114746094, 'min.cpu_utilization': 68.9, 'max.cpu_utilization': 79.8, 'mean.cpu_utilization': 73.84285714285714, '25th_prcntl.cpu_utilization': 70.85, '50th_prcntl.cpu_utilization': 71.8, '75th_prcntl.cpu_utilization': 77.35, 'std.cpu_utilization': 3.978821484832318, 'min.cpu_memory_rss': 1124155392, 'max.cpu_memory_rss': 1126522880, 'mean.cpu_memory_rss': 1125982793.142857, '25th_prcntl.cpu_memory_rss': 1126197248.0, '50th_prcntl.cpu_memory_rss': 1126199296.0, '75th_prcntl.cpu_memory_rss': 1126303744.0, 'std.cpu_memory_rss': 755561.5083827067, 'min.cpu_memory_vsz': 14321844224, 'max.cpu_memory_vsz': 14321897472, 'mean.cpu_memory_vsz': 14321858852.571428, '25th_prcntl.cpu_memory_vsz': 14321844224.0, '50th_prcntl.cpu_memory_vsz': 14321844224.0, '75th_prcntl.cpu_memory_vsz': 14321868800.0, 'std.cpu_memory_vsz': 23155.693202179664, 'save_metrics.runtime': 0.012812614440917969, 'inc_round.runtime': 0.0008559226989746094}
2023-11-26 00:31:56,915 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:31:56,915 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.012237071990966797
2023-11-26 00:31:56,915 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.012237071990966797
2023-11-26 00:31:56,915 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 40
2023-11-26 00:31:56,916 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:31:56,916 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:56,916 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 41
2023-11-26 00:31:56,916 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0007264614105224609
2023-11-26 00:31:56,916 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0007264614105224609
2023-11-26 00:31:56,917 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:31:56,917 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:31:56,917 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.000370025634765625
2023-11-26 00:31:56,917 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.000370025634765625
2023-11-26 00:31:56,917 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:56,918 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:56,919 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:56,920 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:56,921 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:56,921 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:56,922 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:56,922 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:56,922 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:56,923 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:56,923 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:56,923 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: recvd
2023-11-26 00:31:56,924 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:31:56,924 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:56,924 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:56,925 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580378'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:56,925 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:56,925 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None}
2023-11-26 00:31:56,926 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958716.9261608, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:31:56,945 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:31:56,945 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:56,946 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:56,948 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:56,953 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:56,953 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:56,955 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:56,956 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:56,956 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:56,959 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:56,959 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:56,960 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:56,960 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:56,960 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:56,961 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:56,961 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:56,961 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:31:56,962 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:56,964 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:56,964 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:56,966 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:56,966 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:56,966 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:56,966 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:56,967 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:56,967 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:56,967 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:56,968 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:56,968 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:56,968 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:56,968 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:31:56,968 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:56,969 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:56,969 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:56,970 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:56,970 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:56,970 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:56,971 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:56,971 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:56,971 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:56,971 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:56,972 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:56,972 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:56,972 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:56,972 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:31:56,972 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05497002601623535
2023-11-26 00:31:56,973 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05497002601623535
2023-11-26 00:31:56,973 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:56,974 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:56,974 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:56,974 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:56,975 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:56,975 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:56,975 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:56,975 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:56,975 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:56,975 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:31:56,975 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:56,976 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:56,976 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:56,976 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:31:56,976 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:56,977 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:31:56,977 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:31:56,977 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:31:56,978 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:31:56,978 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:31:56,978 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:31:56,979 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:31:56,980 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:31:56,991 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958716.9912086, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:31:56,991 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958716.9917789, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:31:56,994 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580379's parameters trained with 7607 samples
2023-11-26 00:31:57,010 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:57,010 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 41, trainer version: 39
2023-11-26 00:31:57,011 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:31:57,011 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580379 in dict
2023-11-26 00:31:57,011 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:57,011 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:57,011 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:57,017 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 41, trainer ver: 39
agg ver: 41, trainer ver: 39
2023-11-26 00:31:57,018 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:57,018 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:31:57,018 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:31:57,019 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.045238494873046875
2023-11-26 00:31:57,019 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.045238494873046875
2023-11-26 00:31:57,019 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:57,020 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:57,020 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:57,021 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:57,021 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:57,022 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:57,022 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:57,022 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:57,023 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:57,023 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:57,023 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:57,024 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:57,024 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: recvd
2023-11-26 00:31:57,024 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:57,024 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:57,025 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580374'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:57,025 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:57,025 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580374': None}
2023-11-26 00:31:57,026 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958717.0263934, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:31:57,035 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:31:57,036 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:57,036 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:57,037 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:57,041 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:57,041 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,045 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:57,046 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,046 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,047 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:57,047 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,047 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,048 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:57,048 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,049 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,049 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,049 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:31:57,050 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:57,053 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:57,053 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,055 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:57,055 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,056 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,056 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:57,056 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,056 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,057 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:57,057 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,057 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,057 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,058 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:31:57,058 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:57,058 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:57,059 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,059 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:57,059 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,059 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,060 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:57,060 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,060 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,060 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:57,061 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,061 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,061 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,061 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:31:57,072 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05305337905883789
2023-11-26 00:31:57,072 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05305337905883789
2023-11-26 00:31:57,072 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:57,073 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:57,073 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:57,073 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:57,073 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:57,073 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:57,074 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:57,074 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:57,074 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:57,074 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:57,074 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:57,074 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:57,074 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:57,074 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:31:57,075 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:57,075 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1436' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:31:57,076 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:31:57,076 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:31:57,079 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958717.0798497, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:31:57,080 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958717.0800574, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:31:57,081 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580373's parameters trained with 1384 samples
2023-11-26 00:31:57,090 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:57,090 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 41, trainer version: 40
2023-11-26 00:31:57,090 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:31:57,090 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580373 in dict
2023-11-26 00:31:57,090 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:57,090 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:57,090 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:57,103 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 41, trainer ver: 40
agg ver: 41, trainer ver: 40
2023-11-26 00:31:57,103 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:57,104 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:31:57,104 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:31:57,104 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03151893615722656
2023-11-26 00:31:57,104 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03151893615722656
2023-11-26 00:31:57,104 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:31:57,105 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:31:57,105 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:31:57,105 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:31:57,105 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:57,105 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:57,106 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:57,106 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:57,106 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:57,106 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: recvd
2023-11-26 00:31:57,106 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:57,106 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:57,106 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:57,106 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:57,106 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:57,107 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580373'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:57,107 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:57,107 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None}
2023-11-26 00:31:57,107 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958717.107506, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:31:57,112 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:31:57,112 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:31:57,112 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:31:57,113 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:31:57,114 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:57,114 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,115 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:57,115 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,115 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,116 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:57,117 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,117 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,117 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:57,117 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,117 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,117 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,117 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:31:57,118 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:31:57,119 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:57,119 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,120 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:57,120 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,120 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,120 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:57,120 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,120 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,120 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:57,121 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,121 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,121 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,121 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:31:57,121 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:31:57,121 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:57,121 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,121 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:57,122 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,122 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,122 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:57,122 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,123 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,123 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:57,123 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,123 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:31:57,123 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:31:57,123 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:31:57,123 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.019083023071289062
2023-11-26 00:31:57,124 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.019083023071289062
2023-11-26 00:31:57,124 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:31:57,124 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:31:57,124 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:31:57,124 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:31:57,124 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:31:57,124 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:57,125 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:31:57,125 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:31:57,125 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:31:57,125 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:31:57,125 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:31:57,125 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:31:57,125 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:31:57,125 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:31:57,125 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:31:57,126 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1443' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:31:57,126 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:31:57,126 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:31:57,131 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958717.131301, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:31:57,131 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958717.1315825, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:31:57,133 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580377's parameters trained with 2122 samples
2023-11-26 00:31:57,144 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:31:57,144 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 41, trainer version: 40
2023-11-26 00:31:57,145 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:31:57,145 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580377 in dict
2023-11-26 00:31:57,146 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:31:57,146 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:31:57,147 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:31:57,151 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 41, trainer ver: 40
agg ver: 41, trainer ver: 40
2023-11-26 00:31:57,152 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:31:57,153 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:31:57,153 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:31:57,153 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:31:57,154 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:31:57,155 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 41
2023-11-26 00:31:57,167 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 41, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 18, '505f9fc483cf4df68a2409257b5fad7d3c580376': 15, '505f9fc483cf4df68a2409257b5fad7d3c580378': 13, '505f9fc483cf4df68a2409257b5fad7d3c580372': 8, '505f9fc483cf4df68a2409257b5fad7d3c580377': 15, '505f9fc483cf4df68a2409257b5fad7d3c580379': 9, '505f9fc483cf4df68a2409257b5fad7d3c580380': 11, '505f9fc483cf4df68a2409257b5fad7d3c580374': 12, '505f9fc483cf4df68a2409257b5fad7d3c580371': 9, '505f9fc483cf4df68a2409257b5fad7d3c580373': 13}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 18, '505f9fc483cf4df68a2409257b5fad7d3c580376': 15, '505f9fc483cf4df68a2409257b5fad7d3c580378': 13, '505f9fc483cf4df68a2409257b5fad7d3c580372': 8, '505f9fc483cf4df68a2409257b5fad7d3c580377': 15, '505f9fc483cf4df68a2409257b5fad7d3c580379': 9, '505f9fc483cf4df68a2409257b5fad7d3c580380': 11, '505f9fc483cf4df68a2409257b5fad7d3c580374': 12, '505f9fc483cf4df68a2409257b5fad7d3c580371': 9, '505f9fc483cf4df68a2409257b5fad7d3c580373': 13}
2023-11-26 00:31:57,168 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2926829268292683
2023-11-26 00:31:57,168 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9444444444444444, P50 1.0, P90 1.0, P99 1.8299999999999983
2023-11-26 00:31:57,169 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0, P50 1.0, P90 1.0, P99 1.8599999999999994
2023-11-26 00:31:57,169 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.3846153846153846, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:57,170 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.25, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:57,171 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:31:57,171 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:57,172 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4545454545454546, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:31:57,172 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.8333333333333333, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:57,173 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:31:57,173 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:31:57,173 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04956936836242676
2023-11-26 00:31:57,173 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04956936836242676
2023-11-26 00:31:57,175 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 3.337860107421875e-06
2023-11-26 00:31:57,176 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 3.337860107421875e-06
2023-11-26 00:31:57,622 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:57,637 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:57,638 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:57,643 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:57,643 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:57,644 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:57,645 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:57,645 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:57,645 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:57,648 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:57,651 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 0: 1048576
2023-11-26 00:31:57,652 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:57,652 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:57,653 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:57,653 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:57,655 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:57,658 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 1: 1048576
2023-11-26 00:31:57,659 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:31:57,659 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:57,660 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:31:57,661 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:57,661 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 2: 57061
2023-11-26 00:31:57,661 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:57,669 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154213
2023-11-26 00:31:57,669 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154213
2023-11-26 00:31:58,482 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:58,485 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:58,486 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:58,486 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:58,487 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:58,490 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:58,490 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:58,491 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:58,492 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:58,492 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:58,493 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:58,494 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:58,498 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 0: 1048576
2023-11-26 00:31:58,500 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:58,501 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:58,501 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:58,501 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:58,502 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:58,502 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:58,503 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:58,507 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 1: 1048576
2023-11-26 00:31:58,508 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:31:58,509 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:58,510 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:31:58,510 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:58,511 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 2: 57061
2023-11-26 00:31:58,512 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:58,519 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154213
2023-11-26 00:31:58,520 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308426
2023-11-26 00:31:58,677 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:58,680 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:58,680 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:58,681 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:58,682 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:58,686 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:58,686 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:58,687 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:58,688 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:58,688 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:58,688 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:31:58,689 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:31:58,692 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 0: 1048576
2023-11-26 00:31:58,693 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:58,693 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:31:58,694 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:31:58,694 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:31:58,695 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:31:58,698 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 1: 1048576
2023-11-26 00:31:58,699 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:31:58,700 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 2: 57061
2023-11-26 00:31:58,701 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:31:58,708 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154213
2023-11-26 00:31:58,708 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462639
2023-11-26 00:32:03,438 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.2834427912414075
2023-11-26 00:32:03,439 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 3371/10000 (0.3371)
2023-11-26 00:32:03,440 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305, 2.1813072254657744, 2.3389135039925577, 2.1007734859347345, 3.365473167991638, 2.6130637244701385, 2.161523858690262, 2.144376903986931, 1.9134297976374626, 2.2834427912414075]
2023-11-26 00:32:03,441 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.264739513397217
2023-11-26 00:32:03,441 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.264739513397217
2023-11-26 00:32:03,442 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:32:03,442 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004131793975830078
2023-11-26 00:32:03,442 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004131793975830078
2023-11-26 00:32:03,443 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 70.9
2023-11-26 00:32:03,444 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 83.9
2023-11-26 00:32:03,444 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 74.73333333333333
2023-11-26 00:32:03,445 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 72.15
2023-11-26 00:32:03,446 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 73.4
2023-11-26 00:32:03,447 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 74.65
2023-11-26 00:32:03,447 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 4.29793231940921
2023-11-26 00:32:03,448 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1126518784
2023-11-26 00:32:03,448 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1126522880
2023-11-26 00:32:03,448 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1126519466.6666667
2023-11-26 00:32:03,449 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1126518784.0
2023-11-26 00:32:03,449 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1126518784.0
2023-11-26 00:32:03,450 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1126518784.0
2023-11-26 00:32:03,450 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 1526.4890726398562
2023-11-26 00:32:03,450 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321844224
2023-11-26 00:32:03,451 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321897472
2023-11-26 00:32:03,451 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321869482.666666
2023-11-26 00:32:03,451 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:32:03,452 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321868800.0
2023-11-26 00:32:03,452 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321893376.0
2023-11-26 00:32:03,453 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 25295.540652235304
2023-11-26 00:32:03,453 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.2834427912414075, 'test-accuracy': 0.3371, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.000370025634765625, 'send.bytes': 6462612, 'distribute.runtime': 0.019083023071289062, 'recv.bytes': 6462639, 'aggregate.runtime': 0.04956936836242676, 'train.runtime': 3.337860107421875e-06, 'evaluate.runtime': 6.264739513397217, 'analysis.runtime': 0.0004131793975830078, 'min.cpu_utilization': 70.9, 'max.cpu_utilization': 83.9, 'mean.cpu_utilization': 74.73333333333333, '25th_prcntl.cpu_utilization': 72.15, '50th_prcntl.cpu_utilization': 73.4, '75th_prcntl.cpu_utilization': 74.65, 'std.cpu_utilization': 4.29793231940921, 'min.cpu_memory_rss': 1126518784, 'max.cpu_memory_rss': 1126522880, 'mean.cpu_memory_rss': 1126519466.6666667, '25th_prcntl.cpu_memory_rss': 1126518784.0, '50th_prcntl.cpu_memory_rss': 1126518784.0, '75th_prcntl.cpu_memory_rss': 1126518784.0, 'std.cpu_memory_rss': 1526.4890726398562, 'min.cpu_memory_vsz': 14321844224, 'max.cpu_memory_vsz': 14321897472, 'mean.cpu_memory_vsz': 14321869482.666666, '25th_prcntl.cpu_memory_vsz': 14321844224.0, '50th_prcntl.cpu_memory_vsz': 14321868800.0, '75th_prcntl.cpu_memory_vsz': 14321893376.0, 'std.cpu_memory_vsz': 25295.540652235304, 'save_metrics.runtime': 0.012237071990966797, 'inc_round.runtime': 0.0007264614105224609}
2023-11-26 00:32:03,453 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:32:03,454 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.010797739028930664
2023-11-26 00:32:03,454 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.010797739028930664
2023-11-26 00:32:03,454 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 41
2023-11-26 00:32:03,454 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:32:03,454 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:03,455 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 42
2023-11-26 00:32:03,455 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008823871612548828
2023-11-26 00:32:03,455 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008823871612548828
2023-11-26 00:32:03,455 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:32:03,456 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:32:03,456 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0003914833068847656
2023-11-26 00:32:03,456 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0003914833068847656
2023-11-26 00:32:03,456 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:03,457 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:03,458 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:03,458 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:03,459 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:03,460 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:03,460 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:03,460 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:03,461 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:03,461 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:32:03,461 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: recvd
2023-11-26 00:32:03,462 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:03,462 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:03,462 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:03,462 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:03,463 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580377'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:03,463 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:03,464 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None}
2023-11-26 00:32:03,464 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958723.4645212, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:32:03,475 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:32:03,476 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:03,476 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:03,477 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:03,481 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:03,481 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,482 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:03,482 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,483 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,485 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:03,486 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,486 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,486 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:03,486 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,487 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,487 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,487 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:32:03,487 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:03,489 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:03,489 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,490 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:03,490 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,491 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,491 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:03,491 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,491 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,491 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:03,492 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,492 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,492 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,492 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:32:03,492 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:03,493 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:03,493 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,493 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:03,493 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,493 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,495 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:03,495 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,495 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,495 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:03,496 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,496 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,496 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,497 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:32:03,497 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.0406801700592041
2023-11-26 00:32:03,497 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.0406801700592041
2023-11-26 00:32:03,498 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:03,498 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:03,499 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:03,499 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:03,499 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:03,499 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:03,499 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:32:03,500 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:32:03,500 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:03,500 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:03,500 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:03,500 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:03,500 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:03,500 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:32:03,501 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:03,501 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:32:03,502 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:32:03,502 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:03,502 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:32:03,502 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:03,502 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:32:03,503 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:03,504 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:03,514 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958723.5143852, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:03,514 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958723.5149372, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:03,516 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:32:03,533 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:03,533 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 42, trainer version: 40
2023-11-26 00:32:03,533 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:32:03,533 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:32:03,534 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:03,534 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:03,534 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:03,539 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 42, trainer ver: 40
agg ver: 42, trainer ver: 40
2023-11-26 00:32:03,539 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:03,540 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:32:03,540 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:32:03,540 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04219794273376465
2023-11-26 00:32:03,540 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04219794273376465
2023-11-26 00:32:03,540 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:03,541 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:03,541 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:03,542 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:03,542 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:03,542 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:03,543 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:03,543 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:03,543 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:03,544 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:32:03,544 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:32:03,544 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:03,545 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:03,545 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:32:03,545 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:03,545 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:03,546 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:03,546 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:32:03,547 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958723.5469902, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:03,554 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:32:03,555 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:03,556 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:03,556 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:03,558 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:03,559 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,560 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:03,560 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,560 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,563 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:03,563 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,564 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,564 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:03,564 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,564 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,565 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,565 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:32:03,565 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:03,566 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:03,567 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,568 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:03,568 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,568 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,569 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:03,569 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,569 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,569 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:03,569 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,570 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,570 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,570 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:32:03,570 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:03,570 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:03,571 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,571 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:03,571 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,571 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,572 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:03,572 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,573 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,573 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:03,573 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,573 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,573 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,573 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:32:03,574 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03349113464355469
2023-11-26 00:32:03,574 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03349113464355469
2023-11-26 00:32:03,575 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:03,575 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:03,575 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:03,575 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:03,576 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:03,576 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:03,576 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:32:03,576 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:32:03,576 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:03,576 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:03,576 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:03,576 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:03,577 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:03,577 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:32:03,577 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:03,578 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1470' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:32:03,578 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:32:03,579 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:32:03,583 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958723.5833592, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:32:03,583 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958723.583859, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:32:03,585 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580373's parameters trained with 1384 samples
2023-11-26 00:32:03,616 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:03,616 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 42, trainer version: 41
2023-11-26 00:32:03,617 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:32:03,617 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580373 in dict
2023-11-26 00:32:03,617 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:03,617 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:03,618 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:03,622 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 42, trainer ver: 41
agg ver: 42, trainer ver: 41
2023-11-26 00:32:03,623 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:03,624 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:32:03,624 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:32:03,624 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04975533485412598
2023-11-26 00:32:03,625 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04975533485412598
2023-11-26 00:32:03,625 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:03,625 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:03,625 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:03,626 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:03,626 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:03,626 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:03,627 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:03,627 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:03,627 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:03,627 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: recvd
2023-11-26 00:32:03,627 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:32:03,627 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:03,627 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:03,627 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:03,627 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:03,628 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580371'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:03,628 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:03,628 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None}
2023-11-26 00:32:03,628 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958723.6287546, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:32:03,633 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:32:03,633 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:03,634 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:03,634 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:03,635 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:03,636 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,637 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:03,637 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,638 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,638 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:03,638 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,639 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,640 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:03,641 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,641 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,641 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,641 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:32:03,642 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:03,643 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:03,643 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,646 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:03,647 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,648 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,648 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:03,648 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,648 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,648 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:03,648 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,648 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,648 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,649 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:32:03,649 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:03,649 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:03,649 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,649 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:03,649 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,649 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,650 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:03,650 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,650 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,650 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:03,650 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,650 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:03,650 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:03,650 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:32:03,650 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.025609731674194336
2023-11-26 00:32:03,651 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.025609731674194336
2023-11-26 00:32:03,651 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:03,651 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:03,651 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:03,651 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:03,651 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:03,652 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:03,652 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:03,652 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:32:03,652 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:03,652 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:03,652 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:03,652 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:03,652 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:03,653 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:32:03,653 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:03,653 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1477' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:32:03,654 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:03,654 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:03,656 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958723.6563408, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:03,656 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958723.656544, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:03,657 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580378's parameters trained with 4612 samples
2023-11-26 00:32:03,666 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:03,666 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 42, trainer version: 41
2023-11-26 00:32:03,666 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:32:03,667 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580378 in dict
2023-11-26 00:32:03,667 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:03,667 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:03,667 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:03,672 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 42, trainer ver: 41
agg ver: 42, trainer ver: 41
2023-11-26 00:32:03,688 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:03,689 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:32:03,689 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:32:03,689 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:32:03,689 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:32:03,690 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 42
2023-11-26 00:32:03,690 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 42, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 18, '505f9fc483cf4df68a2409257b5fad7d3c580376': 16, '505f9fc483cf4df68a2409257b5fad7d3c580378': 14, '505f9fc483cf4df68a2409257b5fad7d3c580372': 8, '505f9fc483cf4df68a2409257b5fad7d3c580377': 15, '505f9fc483cf4df68a2409257b5fad7d3c580379': 9, '505f9fc483cf4df68a2409257b5fad7d3c580380': 11, '505f9fc483cf4df68a2409257b5fad7d3c580374': 12, '505f9fc483cf4df68a2409257b5fad7d3c580371': 9, '505f9fc483cf4df68a2409257b5fad7d3c580373': 14}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 18, '505f9fc483cf4df68a2409257b5fad7d3c580376': 16, '505f9fc483cf4df68a2409257b5fad7d3c580378': 14, '505f9fc483cf4df68a2409257b5fad7d3c580372': 8, '505f9fc483cf4df68a2409257b5fad7d3c580377': 15, '505f9fc483cf4df68a2409257b5fad7d3c580379': 9, '505f9fc483cf4df68a2409257b5fad7d3c580380': 11, '505f9fc483cf4df68a2409257b5fad7d3c580374': 12, '505f9fc483cf4df68a2409257b5fad7d3c580371': 9, '505f9fc483cf4df68a2409257b5fad7d3c580373': 14}
2023-11-26 00:32:03,699 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2936507936507937
2023-11-26 00:32:03,700 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9444444444444444, P50 1.0, P90 1.0, P99 1.8299999999999983
2023-11-26 00:32:03,701 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0625, P50 1.0, P90 1.5, P99 2.0
2023-11-26 00:32:03,701 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.3571428571428572, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:03,702 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.25, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:03,702 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:32:03,703 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:03,703 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4545454545454546, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:03,704 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.8333333333333333, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:03,704 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:03,705 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:32:03,715 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.06443047523498535
2023-11-26 00:32:03,716 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.06443047523498535
2023-11-26 00:32:03,716 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.86102294921875e-06
2023-11-26 00:32:03,716 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.86102294921875e-06
2023-11-26 00:32:04,307 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:04,316 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:04,316 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:04,321 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:04,321 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:04,321 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:04,322 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:04,323 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:04,323 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:04,326 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:04,330 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 0: 1048576
2023-11-26 00:32:04,331 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:04,332 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:04,332 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:04,333 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:04,335 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:04,338 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 1: 1048576
2023-11-26 00:32:04,338 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:04,339 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:04,340 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:04,341 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:04,341 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 2: 57063
2023-11-26 00:32:04,341 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:04,351 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:04,352 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:32:05,003 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:05,011 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:05,012 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:05,016 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:05,017 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:05,017 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:05,018 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:05,019 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:05,019 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:05,022 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:05,026 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:32:05,027 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:05,028 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:05,028 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:05,028 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:05,029 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:05,029 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:05,030 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:05,034 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:32:05,034 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:05,035 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:32:05,036 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:05,045 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:05,046 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:32:06,010 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:06,019 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:06,020 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:06,023 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:06,024 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:06,024 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:06,025 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:06,026 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:06,027 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:06,030 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:06,034 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 0: 1048576
2023-11-26 00:32:06,035 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:06,036 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:06,036 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:06,036 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:06,037 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:06,037 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:06,039 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:06,043 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 1: 1048576
2023-11-26 00:32:06,043 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:06,044 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 2: 57063
2023-11-26 00:32:06,045 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:06,052 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:06,053 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:32:10,099 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.5655355934873225
2023-11-26 00:32:10,101 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 3247/10000 (0.3247)
2023-11-26 00:32:10,102 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305, 2.1813072254657744, 2.3389135039925577, 2.1007734859347345, 3.365473167991638, 2.6130637244701385, 2.161523858690262, 2.144376903986931, 1.9134297976374626, 2.2834427912414075, 2.5655355934873225]
2023-11-26 00:32:10,103 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.386700391769409
2023-11-26 00:32:10,104 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.386700391769409
2023-11-26 00:32:10,104 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:32:10,105 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.000438690185546875
2023-11-26 00:32:10,105 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.000438690185546875
2023-11-26 00:32:10,106 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 68.9
2023-11-26 00:32:10,106 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 74.8
2023-11-26 00:32:10,107 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 71.94285714285715
2023-11-26 00:32:10,108 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 70.75
2023-11-26 00:32:10,109 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 71.8
2023-11-26 00:32:10,110 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 73.3
2023-11-26 00:32:10,111 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 2.0797370320425057
2023-11-26 00:32:10,111 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1126502400
2023-11-26 00:32:10,111 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1126526976
2023-11-26 00:32:10,112 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1126519954.2857144
2023-11-26 00:32:10,112 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1126518784.0
2023-11-26 00:32:10,113 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1126522880.0
2023-11-26 00:32:10,113 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1126524928.0
2023-11-26 00:32:10,114 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 7806.779429523068
2023-11-26 00:32:10,114 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321786880
2023-11-26 00:32:10,114 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321893376
2023-11-26 00:32:10,115 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321850075.428572
2023-11-26 00:32:10,115 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:32:10,116 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:32:10,116 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321868800.0
2023-11-26 00:32:10,116 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 33552.72616072093
2023-11-26 00:32:10,117 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.5655355934873225, 'test-accuracy': 0.3247, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0003914833068847656, 'send.bytes': 6462612, 'distribute.runtime': 0.025609731674194336, 'recv.bytes': 6462645, 'aggregate.runtime': 0.06443047523498535, 'train.runtime': 2.86102294921875e-06, 'evaluate.runtime': 6.386700391769409, 'analysis.runtime': 0.000438690185546875, 'min.cpu_utilization': 68.9, 'max.cpu_utilization': 74.8, 'mean.cpu_utilization': 71.94285714285715, '25th_prcntl.cpu_utilization': 70.75, '50th_prcntl.cpu_utilization': 71.8, '75th_prcntl.cpu_utilization': 73.3, 'std.cpu_utilization': 2.0797370320425057, 'min.cpu_memory_rss': 1126502400, 'max.cpu_memory_rss': 1126526976, 'mean.cpu_memory_rss': 1126519954.2857144, '25th_prcntl.cpu_memory_rss': 1126518784.0, '50th_prcntl.cpu_memory_rss': 1126522880.0, '75th_prcntl.cpu_memory_rss': 1126524928.0, 'std.cpu_memory_rss': 7806.779429523068, 'min.cpu_memory_vsz': 14321786880, 'max.cpu_memory_vsz': 14321893376, 'mean.cpu_memory_vsz': 14321850075.428572, '25th_prcntl.cpu_memory_vsz': 14321844224.0, '50th_prcntl.cpu_memory_vsz': 14321844224.0, '75th_prcntl.cpu_memory_vsz': 14321868800.0, 'std.cpu_memory_vsz': 33552.72616072093, 'save_metrics.runtime': 0.010797739028930664, 'inc_round.runtime': 0.0008823871612548828}
2023-11-26 00:32:10,117 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:32:10,117 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.01170659065246582
2023-11-26 00:32:10,117 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.01170659065246582
2023-11-26 00:32:10,118 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 42
2023-11-26 00:32:10,118 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:32:10,118 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:10,118 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 43
2023-11-26 00:32:10,119 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008511543273925781
2023-11-26 00:32:10,119 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008511543273925781
2023-11-26 00:32:10,119 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:32:10,120 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:32:10,120 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00043511390686035156
2023-11-26 00:32:10,120 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00043511390686035156
2023-11-26 00:32:10,120 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:10,121 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:10,121 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:10,122 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:10,123 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:10,123 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:10,123 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:10,123 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:10,123 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:10,124 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:10,124 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:32:10,124 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: recvd
2023-11-26 00:32:10,124 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:10,124 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:10,124 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:10,124 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580378'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:10,125 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:10,125 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None}
2023-11-26 00:32:10,125 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958730.125389, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:10,135 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:32:10,136 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:10,136 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:10,136 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:10,139 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:10,139 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,141 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:10,141 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,141 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,144 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:10,144 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,145 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,145 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:10,145 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,145 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,145 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,145 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:32:10,146 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:10,147 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:10,147 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,149 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:10,149 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,149 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,149 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:10,149 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,149 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,150 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:10,150 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,150 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,150 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,150 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:32:10,150 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:10,150 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:10,151 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,151 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:10,151 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,151 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,153 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:10,153 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,153 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,153 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:10,153 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,153 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,153 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,153 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:32:10,154 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.0335235595703125
2023-11-26 00:32:10,154 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.0335235595703125
2023-11-26 00:32:10,154 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:10,154 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:10,154 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:10,154 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:10,155 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:10,155 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:10,155 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:10,155 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:32:10,155 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:10,155 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:10,155 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:10,155 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:10,155 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:10,155 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:32:10,155 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:10,156 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:32:10,156 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:32:10,156 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:32:10,156 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:32:10,156 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:10,156 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:32:10,157 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:10,157 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:10,161 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958730.1611698, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:10,161 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958730.1613545, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:10,162 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580374's parameters trained with 5749 samples
2023-11-26 00:32:10,172 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:10,172 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 43, trainer version: 41
2023-11-26 00:32:10,172 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:32:10,172 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580374 in dict
2023-11-26 00:32:10,172 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:10,172 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:10,173 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:10,177 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 43, trainer ver: 41
agg ver: 43, trainer ver: 41
2023-11-26 00:32:10,177 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:10,177 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:32:10,178 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:32:10,178 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.02366161346435547
2023-11-26 00:32:10,178 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.02366161346435547
2023-11-26 00:32:10,178 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:10,178 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:10,178 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:10,179 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:10,179 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:10,179 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:10,179 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:10,179 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:10,180 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:10,180 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:10,180 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:32:10,180 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:10,180 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: recvd
2023-11-26 00:32:10,180 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:10,180 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:10,180 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580374'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:10,181 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:10,181 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580374': None}
2023-11-26 00:32:10,181 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958730.1814294, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:10,185 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:32:10,185 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:10,185 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:10,185 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:10,187 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:10,187 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,188 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:10,189 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,189 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,191 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:10,192 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,192 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,192 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:10,192 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,192 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,192 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,192 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:32:10,193 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:10,194 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:10,194 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,195 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:10,195 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,195 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,195 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:10,195 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,196 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,196 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:10,196 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,196 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,196 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,196 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:32:10,196 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:10,196 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:10,197 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,197 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:10,197 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,197 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,199 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:10,199 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,199 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,199 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:10,199 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,199 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,199 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,200 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:32:10,200 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.021816730499267578
2023-11-26 00:32:10,200 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.021816730499267578
2023-11-26 00:32:10,200 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:10,200 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:10,200 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:10,200 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:10,201 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:10,201 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:10,201 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:10,201 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:32:10,201 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:10,201 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:10,201 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:10,201 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:10,201 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:10,201 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:32:10,201 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:10,202 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1504' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:32:10,202 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:32:10,203 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:32:10,207 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958730.207424, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:32:10,207 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958730.2075973, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:32:10,208 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580377's parameters trained with 2122 samples
2023-11-26 00:32:10,217 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:10,218 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 43, trainer version: 42
2023-11-26 00:32:10,218 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:32:10,218 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580377 in dict
2023-11-26 00:32:10,218 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:10,218 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:10,218 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:10,223 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 43, trainer ver: 42
agg ver: 43, trainer ver: 42
2023-11-26 00:32:10,223 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:10,224 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:32:10,224 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:32:10,224 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.02424168586730957
2023-11-26 00:32:10,224 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.02424168586730957
2023-11-26 00:32:10,225 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:10,225 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:10,225 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:10,225 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:10,226 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:10,226 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:10,226 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:10,226 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:10,226 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:10,227 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:10,227 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: recvd
2023-11-26 00:32:10,227 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:10,227 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:10,227 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:10,227 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:10,227 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:10,227 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:10,228 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:32:10,228 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958730.2282133, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:32:10,232 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:32:10,232 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:10,232 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:10,233 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:10,234 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:10,234 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,235 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:10,235 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,235 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,237 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:10,237 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,237 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,237 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:10,238 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,238 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,238 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,238 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:32:10,238 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:10,240 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:10,240 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,241 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:10,242 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,242 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,242 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:10,242 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,243 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,243 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:10,243 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,243 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,243 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,243 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:32:10,243 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:10,244 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:10,244 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,244 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:10,244 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,244 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,245 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:10,246 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,246 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,247 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:10,247 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,248 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:10,248 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:10,248 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:32:10,249 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.024053335189819336
2023-11-26 00:32:10,249 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.024053335189819336
2023-11-26 00:32:10,249 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:10,250 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:10,250 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:10,250 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:10,250 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:10,250 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:10,250 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:10,250 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:10,250 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:10,251 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:10,251 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:10,251 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:10,251 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:10,252 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:32:10,252 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:10,252 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1511' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:32:10,253 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:10,253 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:10,256 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958730.2567449, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:10,256 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958730.2569382, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:10,257 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:32:10,268 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:10,268 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 43, trainer version: 42
2023-11-26 00:32:10,268 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:32:10,269 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:32:10,269 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:10,269 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:10,269 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:10,275 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 43, trainer ver: 42
agg ver: 43, trainer ver: 42
2023-11-26 00:32:10,276 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:10,276 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:32:10,276 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:32:10,276 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:32:10,277 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:32:10,278 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 43
2023-11-26 00:32:10,278 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 43, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 18, '505f9fc483cf4df68a2409257b5fad7d3c580376': 17, '505f9fc483cf4df68a2409257b5fad7d3c580378': 14, '505f9fc483cf4df68a2409257b5fad7d3c580372': 8, '505f9fc483cf4df68a2409257b5fad7d3c580377': 16, '505f9fc483cf4df68a2409257b5fad7d3c580379': 9, '505f9fc483cf4df68a2409257b5fad7d3c580380': 11, '505f9fc483cf4df68a2409257b5fad7d3c580374': 13, '505f9fc483cf4df68a2409257b5fad7d3c580371': 9, '505f9fc483cf4df68a2409257b5fad7d3c580373': 14}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 18, '505f9fc483cf4df68a2409257b5fad7d3c580376': 17, '505f9fc483cf4df68a2409257b5fad7d3c580378': 14, '505f9fc483cf4df68a2409257b5fad7d3c580372': 8, '505f9fc483cf4df68a2409257b5fad7d3c580377': 16, '505f9fc483cf4df68a2409257b5fad7d3c580379': 9, '505f9fc483cf4df68a2409257b5fad7d3c580380': 11, '505f9fc483cf4df68a2409257b5fad7d3c580374': 13, '505f9fc483cf4df68a2409257b5fad7d3c580371': 9, '505f9fc483cf4df68a2409257b5fad7d3c580373': 14}
2023-11-26 00:32:10,278 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2945736434108528
2023-11-26 00:32:10,279 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9444444444444444, P50 1.0, P90 1.0, P99 1.8299999999999983
2023-11-26 00:32:10,279 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0588235294117647, P50 1.0, P90 1.4000000000000004, P99 2.0
2023-11-26 00:32:10,280 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.3571428571428572, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:10,280 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.25, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:10,281 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:32:10,281 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:10,281 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4545454545454546, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:10,282 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.8461538461538463, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:10,282 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:10,283 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:32:10,283 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03422832489013672
2023-11-26 00:32:10,284 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03422832489013672
2023-11-26 00:32:10,284 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 3.5762786865234375e-06
2023-11-26 00:32:10,285 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 3.5762786865234375e-06
2023-11-26 00:32:11,365 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:11,372 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:11,373 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:11,376 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:11,376 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:11,376 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:11,379 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:11,379 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:11,382 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:11,382 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:11,383 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:11,383 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:11,385 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:11,388 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 0: 1048576
2023-11-26 00:32:11,388 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:11,389 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:11,389 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:11,390 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:11,390 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:11,391 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:11,394 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 1: 1048576
2023-11-26 00:32:11,395 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:11,399 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:32:11,400 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:11,401 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 2: 57063
2023-11-26 00:32:11,402 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:11,403 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:11,404 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:11,405 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:11,405 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:11,406 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:11,408 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:11,412 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:32:11,413 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:11,414 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:32:11,416 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:11,419 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:11,420 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:32:11,424 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:11,425 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:32:11,557 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:11,558 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:11,558 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:11,559 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:11,870 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:11,874 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:11,875 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:11,878 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:11,879 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:11,880 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:11,881 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:11,881 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:11,882 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:11,884 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:11,887 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 0: 1048576
2023-11-26 00:32:11,888 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:11,890 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:11,890 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:11,891 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:11,892 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:11,895 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 1: 1048576
2023-11-26 00:32:11,896 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:11,897 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:11,898 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:11,899 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:11,900 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 2: 57063
2023-11-26 00:32:11,901 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:11,908 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:11,909 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:32:16,085 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.747993209385872
2023-11-26 00:32:16,086 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1190/10000 (0.119)
2023-11-26 00:32:16,088 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305, 2.1813072254657744, 2.3389135039925577, 2.1007734859347345, 3.365473167991638, 2.6130637244701385, 2.161523858690262, 2.144376903986931, 1.9134297976374626, 2.2834427912414075, 2.5655355934873225, 2.747993209385872]
2023-11-26 00:32:16,089 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 5.803496837615967
2023-11-26 00:32:16,089 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 5.803496837615967
2023-11-26 00:32:16,090 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:32:16,090 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004837512969970703
2023-11-26 00:32:16,091 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004837512969970703
2023-11-26 00:32:16,091 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 67.9
2023-11-26 00:32:16,092 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 92.8
2023-11-26 00:32:16,092 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 76.5
2023-11-26 00:32:16,094 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 69.825
2023-11-26 00:32:16,094 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 72.35
2023-11-26 00:32:16,095 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 81.55
2023-11-26 00:32:16,096 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 8.984059958244563
2023-11-26 00:32:16,096 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1126588416
2023-11-26 00:32:16,096 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1126596608
2023-11-26 00:32:16,096 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1126594560.0
2023-11-26 00:32:16,097 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1126593536.0
2023-11-26 00:32:16,097 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1126596608.0
2023-11-26 00:32:16,098 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1126596608.0
2023-11-26 00:32:16,098 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 3128.371674423187
2023-11-26 00:32:16,098 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321844224
2023-11-26 00:32:16,099 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321897472
2023-11-26 00:32:16,099 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321878357.333334
2023-11-26 00:32:16,099 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321856512.0
2023-11-26 00:32:16,100 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321893376.0
2023-11-26 00:32:16,100 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321896448.0
2023-11-26 00:32:16,101 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 24193.76830691922
2023-11-26 00:32:16,101 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.747993209385872, 'test-accuracy': 0.119, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00043511390686035156, 'send.bytes': 6462612, 'distribute.runtime': 0.024053335189819336, 'recv.bytes': 6462645, 'aggregate.runtime': 0.03422832489013672, 'train.runtime': 3.5762786865234375e-06, 'evaluate.runtime': 5.803496837615967, 'analysis.runtime': 0.0004837512969970703, 'min.cpu_utilization': 67.9, 'max.cpu_utilization': 92.8, 'mean.cpu_utilization': 76.5, '25th_prcntl.cpu_utilization': 69.825, '50th_prcntl.cpu_utilization': 72.35, '75th_prcntl.cpu_utilization': 81.55, 'std.cpu_utilization': 8.984059958244563, 'min.cpu_memory_rss': 1126588416, 'max.cpu_memory_rss': 1126596608, 'mean.cpu_memory_rss': 1126594560.0, '25th_prcntl.cpu_memory_rss': 1126593536.0, '50th_prcntl.cpu_memory_rss': 1126596608.0, '75th_prcntl.cpu_memory_rss': 1126596608.0, 'std.cpu_memory_rss': 3128.371674423187, 'min.cpu_memory_vsz': 14321844224, 'max.cpu_memory_vsz': 14321897472, 'mean.cpu_memory_vsz': 14321878357.333334, '25th_prcntl.cpu_memory_vsz': 14321856512.0, '50th_prcntl.cpu_memory_vsz': 14321893376.0, '75th_prcntl.cpu_memory_vsz': 14321896448.0, 'std.cpu_memory_vsz': 24193.76830691922, 'save_metrics.runtime': 0.01170659065246582, 'inc_round.runtime': 0.0008511543273925781}
2023-11-26 00:32:16,101 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:32:16,102 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.01055145263671875
2023-11-26 00:32:16,102 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.01055145263671875
2023-11-26 00:32:16,102 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 43
2023-11-26 00:32:16,102 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:32:16,102 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:16,103 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 44
2023-11-26 00:32:16,103 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008361339569091797
2023-11-26 00:32:16,103 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008361339569091797
2023-11-26 00:32:16,103 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:32:16,104 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:32:16,104 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0004258155822753906
2023-11-26 00:32:16,104 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0004258155822753906
2023-11-26 00:32:16,104 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:16,105 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:16,106 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:16,106 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:16,107 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:16,108 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:16,108 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:16,108 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:16,109 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:16,109 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:16,109 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:16,110 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:16,110 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:16,110 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:32:16,111 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:16,111 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580380'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:16,111 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:16,112 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580380': None}
2023-11-26 00:32:16,112 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958736.112644, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:32:16,125 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:32:16,125 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:16,126 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:16,127 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:16,132 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,133 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,135 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,135 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,135 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,138 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,139 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,139 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,139 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,139 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,139 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,140 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,140 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:32:16,140 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:16,142 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,142 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,144 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,144 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,144 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,144 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,144 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,145 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,145 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,145 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,145 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,145 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,145 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:32:16,146 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:16,146 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,146 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,146 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,146 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,147 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,148 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,148 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,148 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,148 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,149 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,149 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,149 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,149 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:32:16,149 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04509162902832031
2023-11-26 00:32:16,150 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04509162902832031
2023-11-26 00:32:16,150 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:16,151 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:16,151 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:16,151 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:16,151 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:16,151 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:16,151 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:16,152 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:16,152 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:16,152 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:16,152 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:16,152 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:16,152 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:16,152 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:32:16,153 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:16,153 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:16,153 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:32:16,153 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:16,154 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:32:16,154 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:32:16,154 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:32:16,155 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:32:16,155 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:32:16,165 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958736.16584, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:32:16,166 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958736.1663244, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:32:16,167 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580371's parameters trained with 8920 samples
2023-11-26 00:32:16,182 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:16,182 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 44, trainer version: 42
2023-11-26 00:32:16,182 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:32:16,183 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580371 in dict
2023-11-26 00:32:16,183 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:16,183 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:16,183 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:16,188 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 44, trainer ver: 42
agg ver: 44, trainer ver: 42
2023-11-26 00:32:16,188 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:16,189 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:32:16,189 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:32:16,189 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.038916826248168945
2023-11-26 00:32:16,189 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.038916826248168945
2023-11-26 00:32:16,189 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:16,190 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:16,190 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:16,191 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:16,191 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:16,192 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:16,192 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:16,192 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:16,192 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:16,193 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: recvd
2023-11-26 00:32:16,193 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:16,193 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:16,193 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:16,194 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:16,194 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:16,194 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580377'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:16,194 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:16,195 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None}
2023-11-26 00:32:16,195 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958736.1955771, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:32:16,205 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:32:16,205 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:16,206 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:16,206 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:16,209 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,210 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,211 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,211 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,211 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,227 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,228 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,228 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,228 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,229 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,229 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,229 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,230 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:32:16,231 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:16,232 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,233 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,234 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,234 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,234 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,235 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,235 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,236 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,236 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,237 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,237 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,237 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,238 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:32:16,238 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:16,238 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,239 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,239 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,239 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,239 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,240 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,240 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,240 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,241 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,241 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,241 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,241 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,242 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377 is done
2023-11-26 00:32:16,242 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05300498008728027
2023-11-26 00:32:16,243 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05300498008728027
2023-11-26 00:32:16,243 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:16,243 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:16,243 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:16,244 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:16,244 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:16,244 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:16,244 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:32:16,245 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:16,245 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:16,256 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:16,256 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:16,256 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:16,257 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:16,257 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:32:16,258 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:16,258 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1538' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:32:16,259 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:16,259 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:16,264 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958736.2645645, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:16,264 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958736.2647479, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:16,265 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580378's parameters trained with 4612 samples
2023-11-26 00:32:16,273 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:16,273 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 44, trainer version: 43
2023-11-26 00:32:16,273 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:32:16,273 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580378 in dict
2023-11-26 00:32:16,274 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:16,274 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:16,274 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:16,278 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 44, trainer ver: 43
agg ver: 44, trainer ver: 43
2023-11-26 00:32:16,278 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:16,279 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:32:16,279 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:32:16,280 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03692340850830078
2023-11-26 00:32:16,280 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03692340850830078
2023-11-26 00:32:16,281 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:16,281 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:16,281 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:16,282 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:16,282 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:16,283 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:16,283 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:16,283 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:16,283 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:16,284 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:32:16,284 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: recvd
2023-11-26 00:32:16,284 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:16,284 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:16,284 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:16,284 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:16,284 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580372'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:16,285 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:16,285 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580372': None}
2023-11-26 00:32:16,285 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958736.2856257, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:32:16,288 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:32:16,289 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:16,289 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:16,290 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:16,291 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,292 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,293 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,293 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,294 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,303 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,304 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,304 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,304 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,305 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,305 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,306 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,306 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:32:16,307 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:16,309 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,309 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,311 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,311 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,311 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,312 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,312 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,313 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,313 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,313 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,314 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,314 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,314 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:32:16,315 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:16,315 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,315 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,316 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,316 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,316 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,316 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,317 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,317 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,317 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,317 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,318 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:16,318 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:16,318 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:32:16,318 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03788256645202637
2023-11-26 00:32:16,319 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03788256645202637
2023-11-26 00:32:16,319 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:16,319 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:16,320 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:16,320 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:16,320 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:16,320 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:16,321 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:32:16,321 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:32:16,321 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:16,321 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:16,322 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:16,322 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:16,322 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:16,322 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:32:16,323 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:16,323 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1545' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:32:16,323 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:32:16,324 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:32:16,326 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958736.326911, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:32:16,327 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958736.3270824, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:32:16,327 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:32:16,335 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:16,335 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 44, trainer version: 43
2023-11-26 00:32:16,336 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:32:16,336 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:32:16,336 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:16,336 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:16,336 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:16,340 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 44, trainer ver: 43
agg ver: 44, trainer ver: 43
2023-11-26 00:32:16,340 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:16,341 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:32:16,341 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:32:16,341 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:32:16,341 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:32:16,342 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 44
2023-11-26 00:32:16,342 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 44, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 19, '505f9fc483cf4df68a2409257b5fad7d3c580376': 17, '505f9fc483cf4df68a2409257b5fad7d3c580378': 15, '505f9fc483cf4df68a2409257b5fad7d3c580372': 8, '505f9fc483cf4df68a2409257b5fad7d3c580377': 16, '505f9fc483cf4df68a2409257b5fad7d3c580379': 9, '505f9fc483cf4df68a2409257b5fad7d3c580380': 11, '505f9fc483cf4df68a2409257b5fad7d3c580374': 13, '505f9fc483cf4df68a2409257b5fad7d3c580371': 10, '505f9fc483cf4df68a2409257b5fad7d3c580373': 14}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 19, '505f9fc483cf4df68a2409257b5fad7d3c580376': 17, '505f9fc483cf4df68a2409257b5fad7d3c580378': 15, '505f9fc483cf4df68a2409257b5fad7d3c580372': 8, '505f9fc483cf4df68a2409257b5fad7d3c580377': 16, '505f9fc483cf4df68a2409257b5fad7d3c580379': 9, '505f9fc483cf4df68a2409257b5fad7d3c580380': 11, '505f9fc483cf4df68a2409257b5fad7d3c580374': 13, '505f9fc483cf4df68a2409257b5fad7d3c580371': 10, '505f9fc483cf4df68a2409257b5fad7d3c580373': 14}
2023-11-26 00:32:16,342 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2954545454545454
2023-11-26 00:32:16,343 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9473684210526315, P50 1.0, P90 1.0, P99 1.8200000000000003
2023-11-26 00:32:16,343 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0588235294117647, P50 1.0, P90 1.4000000000000004, P99 2.0
2023-11-26 00:32:16,344 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:16,344 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.25, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:16,345 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:32:16,345 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:16,345 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4545454545454546, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:16,346 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.8461538461538463, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:16,346 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:16,347 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:32:16,347 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.027924299240112305
2023-11-26 00:32:16,347 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.027924299240112305
2023-11-26 00:32:16,347 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 1.9073486328125e-06
2023-11-26 00:32:16,347 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 1.9073486328125e-06
2023-11-26 00:32:16,937 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:16,944 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,944 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:16,948 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:16,948 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,948 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:16,949 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,950 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:16,950 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:16,953 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:16,957 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 0: 1048576
2023-11-26 00:32:16,958 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:16,959 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:16,959 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,960 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:16,961 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:16,964 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 1: 1048576
2023-11-26 00:32:16,965 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:16,966 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:16,966 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580377/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:16,968 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:16,968 | chunk_store.py:103 | DEBUG | Thread-10 | assemble | chunk 2: 57063
2023-11-26 00:32:16,969 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:16,975 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:16,976 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:32:17,694 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:17,696 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:17,697 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:17,697 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:17,698 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:17,701 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:17,701 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:17,701 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:17,702 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:17,702 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:17,702 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:17,703 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:17,704 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:17,708 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 0: 1048576
2023-11-26 00:32:17,708 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:17,709 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:17,710 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:17,710 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:17,710 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:17,711 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:17,712 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:17,716 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 1: 1048576
2023-11-26 00:32:17,716 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:17,718 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 2: 57063
2023-11-26 00:32:17,718 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:17,724 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:17,725 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:32:17,844 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:17,846 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:17,847 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:17,847 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:17,848 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:17,851 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:17,851 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:17,852 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:17,852 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:17,853 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:17,853 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:17,854 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:17,855 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:17,858 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 0: 1048576
2023-11-26 00:32:17,858 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:17,859 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:17,859 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:17,860 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:17,860 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:17,860 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:17,861 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:17,864 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 1: 1048576
2023-11-26 00:32:17,865 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:17,866 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 2: 57063
2023-11-26 00:32:17,867 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:17,872 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:17,872 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:32:22,432 | main.py:161 | INFO | MainThread | evaluate | Test loss: 3.4799770496368407
2023-11-26 00:32:22,433 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1406/10000 (0.1406)
2023-11-26 00:32:22,434 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305, 2.1813072254657744, 2.3389135039925577, 2.1007734859347345, 3.365473167991638, 2.6130637244701385, 2.161523858690262, 2.144376903986931, 1.9134297976374626, 2.2834427912414075, 2.5655355934873225, 2.747993209385872, 3.4799770496368407]
2023-11-26 00:32:22,435 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.0872626304626465
2023-11-26 00:32:22,435 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.0872626304626465
2023-11-26 00:32:22,436 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:32:22,436 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.00042438507080078125
2023-11-26 00:32:22,437 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.00042438507080078125
2023-11-26 00:32:22,437 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 66.9
2023-11-26 00:32:22,438 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 80.8
2023-11-26 00:32:22,438 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 71.55
2023-11-26 00:32:22,439 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 67.4
2023-11-26 00:32:22,440 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 70.4
2023-11-26 00:32:22,441 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 73.4
2023-11-26 00:32:22,442 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 4.855838410271355
2023-11-26 00:32:22,442 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1126596608
2023-11-26 00:32:22,442 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1128710144
2023-11-26 00:32:22,443 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1128006314.6666667
2023-11-26 00:32:22,444 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1127128064.0
2023-11-26 00:32:22,444 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1128710144.0
2023-11-26 00:32:22,445 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1128710144.0
2023-11-26 00:32:22,445 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 995365.6911016285
2023-11-26 00:32:22,445 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321844224
2023-11-26 00:32:22,446 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321897472
2023-11-26 00:32:22,446 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321887232.0
2023-11-26 00:32:22,446 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321893376.0
2023-11-26 00:32:22,447 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321895424.0
2023-11-26 00:32:22,447 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321897472.0
2023-11-26 00:32:22,448 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 19320.793358451923
2023-11-26 00:32:22,448 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 3.4799770496368407, 'test-accuracy': 0.1406, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0004258155822753906, 'send.bytes': 6462612, 'distribute.runtime': 0.03788256645202637, 'recv.bytes': 6462645, 'aggregate.runtime': 0.027924299240112305, 'train.runtime': 1.9073486328125e-06, 'evaluate.runtime': 6.0872626304626465, 'analysis.runtime': 0.00042438507080078125, 'min.cpu_utilization': 66.9, 'max.cpu_utilization': 80.8, 'mean.cpu_utilization': 71.55, '25th_prcntl.cpu_utilization': 67.4, '50th_prcntl.cpu_utilization': 70.4, '75th_prcntl.cpu_utilization': 73.4, 'std.cpu_utilization': 4.855838410271355, 'min.cpu_memory_rss': 1126596608, 'max.cpu_memory_rss': 1128710144, 'mean.cpu_memory_rss': 1128006314.6666667, '25th_prcntl.cpu_memory_rss': 1127128064.0, '50th_prcntl.cpu_memory_rss': 1128710144.0, '75th_prcntl.cpu_memory_rss': 1128710144.0, 'std.cpu_memory_rss': 995365.6911016285, 'min.cpu_memory_vsz': 14321844224, 'max.cpu_memory_vsz': 14321897472, 'mean.cpu_memory_vsz': 14321887232.0, '25th_prcntl.cpu_memory_vsz': 14321893376.0, '50th_prcntl.cpu_memory_vsz': 14321895424.0, '75th_prcntl.cpu_memory_vsz': 14321897472.0, 'std.cpu_memory_vsz': 19320.793358451923, 'save_metrics.runtime': 0.01055145263671875, 'inc_round.runtime': 0.0008361339569091797}
2023-11-26 00:32:22,448 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:32:22,449 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011430501937866211
2023-11-26 00:32:22,449 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011430501937866211
2023-11-26 00:32:22,449 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 44
2023-11-26 00:32:22,449 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:32:22,449 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:22,450 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 45
2023-11-26 00:32:22,450 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.000759124755859375
2023-11-26 00:32:22,450 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.000759124755859375
2023-11-26 00:32:22,450 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:32:22,450 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:32:22,451 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00036716461181640625
2023-11-26 00:32:22,451 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00036716461181640625
2023-11-26 00:32:22,451 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:22,452 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:22,452 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:22,453 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:22,453 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:22,454 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:22,454 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:22,454 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:22,455 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:22,455 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:32:22,455 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:32:22,456 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:22,456 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:22,456 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:32:22,457 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:22,457 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580379'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:32:22,457 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:32:22,457 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580379': None}
2023-11-26 00:32:22,458 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958742.4583974, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:32:22,468 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:32:22,468 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:22,469 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:22,469 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:22,471 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:22,472 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,473 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:22,474 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,474 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,476 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:22,477 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,477 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,477 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:22,477 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,477 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,478 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,478 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:32:22,478 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:22,480 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:22,480 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,481 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:22,481 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,481 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,482 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:22,482 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,482 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,483 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:22,483 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,483 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,483 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,484 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:32:22,484 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:22,484 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:22,484 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,485 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:22,485 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,485 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,486 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:22,486 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,486 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,486 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:22,486 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,487 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,487 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,487 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:32:22,488 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.03656339645385742
2023-11-26 00:32:22,488 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.03656339645385742
2023-11-26 00:32:22,488 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:22,489 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:22,489 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:22,489 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:22,490 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:22,490 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:32:22,490 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:32:22,490 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:32:22,490 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:22,490 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:22,490 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:22,490 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:32:22,491 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:32:22,491 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None}
2023-11-26 00:32:22,491 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:22,492 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:32:22,492 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:32:22,492 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:32:22,492 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:32:22,492 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:32:22,493 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:32:22,494 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:22,494 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:22,504 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958742.504402, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:22,504 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958742.5048733, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:22,506 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580374's parameters trained with 5749 samples
2023-11-26 00:32:22,520 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:22,521 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 45, trainer version: 43
2023-11-26 00:32:22,521 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:32:22,521 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580374 in dict
2023-11-26 00:32:22,521 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:22,521 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:22,521 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:22,526 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 45, trainer ver: 43
agg ver: 45, trainer ver: 43
2023-11-26 00:32:22,527 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:22,527 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:32:22,527 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:32:22,527 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.038927555084228516
2023-11-26 00:32:22,527 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.038927555084228516
2023-11-26 00:32:22,528 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:22,528 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:22,529 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:22,529 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:22,530 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:22,530 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:22,530 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:22,531 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:22,531 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:32:22,532 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:32:22,532 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:32:22,532 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: recvd
2023-11-26 00:32:22,533 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:22,533 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:22,534 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:22,534 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580371'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:32:22,534 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:32:22,535 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None}
2023-11-26 00:32:22,535 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958742.5359735, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:32:22,544 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:32:22,544 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:22,545 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:22,546 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:22,548 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:22,548 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,556 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:22,556 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,557 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,558 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:22,559 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,559 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,559 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:22,559 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,560 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,560 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,560 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:32:22,561 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:22,562 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:22,563 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,564 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:22,564 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,565 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,565 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:22,579 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,580 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,580 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:22,581 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,581 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,581 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,582 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:32:22,582 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:22,583 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:22,584 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,584 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:22,584 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,584 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,584 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:22,585 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,585 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,585 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:22,585 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,585 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,585 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,585 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:32:22,586 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05842447280883789
2023-11-26 00:32:22,586 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05842447280883789
2023-11-26 00:32:22,586 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:22,587 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:22,587 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:22,587 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:22,587 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:22,588 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:32:22,588 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:22,588 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: 
2023-11-26 00:32:22,588 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:32:22,588 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:22,588 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:22,588 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:32:22,588 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:32:22,588 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580377': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None}
2023-11-26 00:32:22,595 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:22,596 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1572' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:32:22,596 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:32:22,596 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:32:22,598 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958742.5988753, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:32:22,599 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958742.599043, received data from 505f9fc483cf4df68a2409257b5fad7d3c580377
2023-11-26 00:32:22,599 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580377's parameters trained with 2122 samples
2023-11-26 00:32:22,607 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:22,608 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 45, trainer version: 44
2023-11-26 00:32:22,608 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:32:22,608 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580377 in dict
2023-11-26 00:32:22,608 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:22,608 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:22,608 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:22,612 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 45, trainer ver: 44
agg ver: 45, trainer ver: 44
2023-11-26 00:32:22,612 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:22,613 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:32:22,613 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:32:22,613 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.026674509048461914
2023-11-26 00:32:22,613 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.026674509048461914
2023-11-26 00:32:22,613 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:22,614 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:22,614 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:22,614 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:22,614 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:22,615 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:22,615 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:22,615 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:22,615 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:32:22,615 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:22,615 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580377 state: recvd
2023-11-26 00:32:22,615 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:32:22,616 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:22,616 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:22,616 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:22,616 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580373'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:32:22,616 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:32:22,616 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None}
2023-11-26 00:32:22,617 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958742.617089, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:32:22,620 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:32:22,620 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:22,621 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:22,621 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:22,624 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:22,624 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,625 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:22,626 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,626 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,627 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:22,627 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,628 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,628 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:22,628 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,628 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,628 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,628 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:32:22,629 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:22,630 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:22,630 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,632 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:22,632 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,632 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,632 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:22,632 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,633 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,634 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:22,635 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,635 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,635 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,635 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:32:22,635 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:22,636 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:22,636 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,636 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:22,636 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,636 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,637 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:22,637 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,637 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,637 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:22,637 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,637 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:22,638 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:22,638 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:32:22,638 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.02467656135559082
2023-11-26 00:32:22,638 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.02467656135559082
2023-11-26 00:32:22,639 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:22,639 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:22,639 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:22,639 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:22,640 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:22,640 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:32:22,640 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:22,640 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:32:22,640 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:32:22,640 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:22,641 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:22,641 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:32:22,641 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:32:22,663 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None}
2023-11-26 00:32:22,664 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:22,664 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1579' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:32:22,664 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:32:22,664 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:32:22,667 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958742.6673923, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:32:22,667 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958742.6675694, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:32:22,669 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580380's parameters trained with 5285 samples
2023-11-26 00:32:22,677 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:22,677 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 45, trainer version: 44
2023-11-26 00:32:22,677 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:32:22,678 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580380 in dict
2023-11-26 00:32:22,678 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:22,678 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:22,678 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:22,683 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 45, trainer ver: 44
agg ver: 45, trainer ver: 44
2023-11-26 00:32:22,683 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:22,683 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:32:22,684 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:32:22,684 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:32:22,684 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:32:22,685 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 45
2023-11-26 00:32:22,685 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 45, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 19, '505f9fc483cf4df68a2409257b5fad7d3c580376': 17, '505f9fc483cf4df68a2409257b5fad7d3c580378': 15, '505f9fc483cf4df68a2409257b5fad7d3c580372': 8, '505f9fc483cf4df68a2409257b5fad7d3c580377': 17, '505f9fc483cf4df68a2409257b5fad7d3c580379': 9, '505f9fc483cf4df68a2409257b5fad7d3c580380': 12, '505f9fc483cf4df68a2409257b5fad7d3c580374': 14, '505f9fc483cf4df68a2409257b5fad7d3c580371': 10, '505f9fc483cf4df68a2409257b5fad7d3c580373': 14}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 19, '505f9fc483cf4df68a2409257b5fad7d3c580376': 17, '505f9fc483cf4df68a2409257b5fad7d3c580378': 15, '505f9fc483cf4df68a2409257b5fad7d3c580372': 8, '505f9fc483cf4df68a2409257b5fad7d3c580377': 17, '505f9fc483cf4df68a2409257b5fad7d3c580379': 9, '505f9fc483cf4df68a2409257b5fad7d3c580380': 12, '505f9fc483cf4df68a2409257b5fad7d3c580374': 14, '505f9fc483cf4df68a2409257b5fad7d3c580371': 10, '505f9fc483cf4df68a2409257b5fad7d3c580373': 14}
2023-11-26 00:32:22,685 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2962962962962963
2023-11-26 00:32:22,686 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9473684210526315, P50 1.0, P90 1.0, P99 1.8200000000000003
2023-11-26 00:32:22,687 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0588235294117647, P50 1.0, P90 1.4000000000000004, P99 2.0
2023-11-26 00:32:22,687 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:22,688 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.25, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:22,689 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:32:22,689 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6666666666666667, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:22,690 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4166666666666667, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:22,690 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.8571428571428572, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:22,691 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:22,691 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:32:22,692 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.052903175354003906
2023-11-26 00:32:22,692 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.052903175354003906
2023-11-26 00:32:22,692 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.86102294921875e-06
2023-11-26 00:32:22,692 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.86102294921875e-06
2023-11-26 00:32:23,187 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:23,203 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:23,204 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:23,210 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:23,210 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:23,211 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:23,212 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:23,212 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:23,213 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:23,215 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:23,217 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 0: 1048576
2023-11-26 00:32:23,217 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:23,218 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:23,218 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:23,218 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:23,220 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:23,222 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 1: 1048576
2023-11-26 00:32:23,222 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:23,223 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:23,223 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:23,223 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:23,224 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 2: 57063
2023-11-26 00:32:23,224 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:23,228 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:23,228 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:32:24,669 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:24,673 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:24,674 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:24,676 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:24,677 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:24,678 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:24,679 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:24,680 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:24,681 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:24,682 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:24,686 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 0: 1048576
2023-11-26 00:32:24,687 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:24,688 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:24,689 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:24,689 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:24,690 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:24,690 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:24,692 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:24,696 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 1: 1048576
2023-11-26 00:32:24,697 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:24,698 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 2: 57063
2023-11-26 00:32:24,699 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:24,708 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:24,709 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:32:24,994 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:25,001 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:25,002 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:25,006 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:25,007 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:25,007 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:25,009 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:25,009 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:25,010 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:25,012 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:25,015 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 0: 1048576
2023-11-26 00:32:25,015 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:25,016 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:25,017 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:25,017 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:25,018 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:25,018 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:25,020 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:25,023 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 1: 1048576
2023-11-26 00:32:25,023 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:25,024 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 2: 57063
2023-11-26 00:32:25,025 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:25,032 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:25,032 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:32:29,392 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.8528714059114457
2023-11-26 00:32:29,394 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 1666/10000 (0.1666)
2023-11-26 00:32:29,396 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305, 2.1813072254657744, 2.3389135039925577, 2.1007734859347345, 3.365473167991638, 2.6130637244701385, 2.161523858690262, 2.144376903986931, 1.9134297976374626, 2.2834427912414075, 2.5655355934873225, 2.747993209385872, 3.4799770496368407, 2.8528714059114457]
2023-11-26 00:32:29,396 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.703863859176636
2023-11-26 00:32:29,397 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.703863859176636
2023-11-26 00:32:29,397 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:32:29,398 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004074573516845703
2023-11-26 00:32:29,398 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004074573516845703
2023-11-26 00:32:29,399 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 67.0
2023-11-26 00:32:29,399 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 80.8
2023-11-26 00:32:29,400 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 73.57142857142857
2023-11-26 00:32:29,401 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 69.3
2023-11-26 00:32:29,401 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 70.9
2023-11-26 00:32:29,402 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 78.85
2023-11-26 00:32:29,403 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 5.383762435247647
2023-11-26 00:32:29,403 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1128697856
2023-11-26 00:32:29,404 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1128726528
2023-11-26 00:32:29,404 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1128720676.5714285
2023-11-26 00:32:29,405 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1128722432.0
2023-11-26 00:32:29,405 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1128722432.0
2023-11-26 00:32:29,406 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1128726528.0
2023-11-26 00:32:29,406 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 9507.44608725397
2023-11-26 00:32:29,406 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321786880
2023-11-26 00:32:29,406 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321897472
2023-11-26 00:32:29,407 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321857682.285715
2023-11-26 00:32:29,407 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:32:29,408 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:32:29,408 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321893376.0
2023-11-26 00:32:29,408 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 37201.46669041917
2023-11-26 00:32:29,409 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.8528714059114457, 'test-accuracy': 0.1666, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00036716461181640625, 'send.bytes': 6462612, 'distribute.runtime': 0.02467656135559082, 'recv.bytes': 6462645, 'aggregate.runtime': 0.052903175354003906, 'train.runtime': 2.86102294921875e-06, 'evaluate.runtime': 6.703863859176636, 'analysis.runtime': 0.0004074573516845703, 'min.cpu_utilization': 67.0, 'max.cpu_utilization': 80.8, 'mean.cpu_utilization': 73.57142857142857, '25th_prcntl.cpu_utilization': 69.3, '50th_prcntl.cpu_utilization': 70.9, '75th_prcntl.cpu_utilization': 78.85, 'std.cpu_utilization': 5.383762435247647, 'min.cpu_memory_rss': 1128697856, 'max.cpu_memory_rss': 1128726528, 'mean.cpu_memory_rss': 1128720676.5714285, '25th_prcntl.cpu_memory_rss': 1128722432.0, '50th_prcntl.cpu_memory_rss': 1128722432.0, '75th_prcntl.cpu_memory_rss': 1128726528.0, 'std.cpu_memory_rss': 9507.44608725397, 'min.cpu_memory_vsz': 14321786880, 'max.cpu_memory_vsz': 14321897472, 'mean.cpu_memory_vsz': 14321857682.285715, '25th_prcntl.cpu_memory_vsz': 14321844224.0, '50th_prcntl.cpu_memory_vsz': 14321844224.0, '75th_prcntl.cpu_memory_vsz': 14321893376.0, 'std.cpu_memory_vsz': 37201.46669041917, 'save_metrics.runtime': 0.011430501937866211, 'inc_round.runtime': 0.000759124755859375}
2023-11-26 00:32:29,409 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:32:29,409 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.010913372039794922
2023-11-26 00:32:29,409 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.010913372039794922
2023-11-26 00:32:29,410 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 45
2023-11-26 00:32:29,410 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:32:29,410 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:29,410 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 46
2023-11-26 00:32:29,410 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0007734298706054688
2023-11-26 00:32:29,410 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0007734298706054688
2023-11-26 00:32:29,411 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:32:29,411 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:32:29,411 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0004017353057861328
2023-11-26 00:32:29,411 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0004017353057861328
2023-11-26 00:32:29,412 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:29,413 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:29,413 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:29,414 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:29,415 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:29,415 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:29,416 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:29,416 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:29,416 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:32:29,417 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:29,417 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:32:29,417 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:32:29,417 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: recvd
2023-11-26 00:32:29,418 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:29,418 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:29,418 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580378'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:32:29,419 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:32:29,419 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None}
2023-11-26 00:32:29,419 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958749.4198577, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:29,435 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:32:29,436 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:29,436 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:29,437 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:29,441 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:29,441 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,443 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:29,443 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,443 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,446 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:29,446 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,446 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,447 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:29,447 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,447 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,447 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,447 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:32:29,448 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:29,449 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:29,449 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,451 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:29,451 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,451 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,453 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:29,453 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,453 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,453 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:29,454 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,454 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,454 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,454 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:32:29,454 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:29,455 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:29,455 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,455 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:29,455 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,455 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,458 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:29,458 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,458 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,458 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:29,458 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,458 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,458 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,459 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:32:29,459 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04727602005004883
2023-11-26 00:32:29,459 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04727602005004883
2023-11-26 00:32:29,460 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:29,460 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:29,461 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:29,461 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:29,461 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:29,461 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:32:29,461 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:29,461 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:32:29,461 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:32:29,461 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:29,461 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:29,461 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:32:29,462 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:32:29,462 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None}
2023-11-26 00:32:29,462 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:29,463 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:32:29,463 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:32:29,463 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:32:29,463 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:32:29,463 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:32:29,463 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:32:29,464 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:32:29,465 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:32:29,472 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958749.4726307, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:32:29,473 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958749.4731143, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:32:29,474 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580372's parameters trained with 5929 samples
2023-11-26 00:32:29,490 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:29,490 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 46, trainer version: 44
2023-11-26 00:32:29,491 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:32:29,491 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580372 in dict
2023-11-26 00:32:29,491 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:29,491 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:29,491 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:29,496 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 46, trainer ver: 44
agg ver: 46, trainer ver: 44
2023-11-26 00:32:29,497 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:29,497 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:32:29,497 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:32:29,497 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03760504722595215
2023-11-26 00:32:29,498 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03760504722595215
2023-11-26 00:32:29,498 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:29,498 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:29,499 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:29,499 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:29,499 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:29,500 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:29,500 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:29,501 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:29,501 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}}
2023-11-26 00:32:29,501 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:29,501 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:32:29,502 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: recvd
2023-11-26 00:32:29,502 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:29,502 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:29,502 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:29,503 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:29,503 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:29,503 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:32:29,504 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958749.5040758, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:29,514 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:32:29,514 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:29,515 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:29,516 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:29,518 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:29,518 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,519 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:29,519 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,520 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,522 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:29,522 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,523 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,523 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:29,523 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,523 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,524 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,524 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:32:29,524 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:29,526 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:29,526 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,527 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:29,527 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,528 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,528 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:29,528 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,528 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,528 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:29,529 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,529 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,529 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,529 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:32:29,529 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:29,530 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:29,530 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,530 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:29,530 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,530 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,532 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:29,532 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,532 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,532 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:29,532 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,533 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,533 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,533 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:32:29,533 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.035544633865356445
2023-11-26 00:32:29,534 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.035544633865356445
2023-11-26 00:32:29,534 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:29,535 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:29,535 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:29,535 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:29,535 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:29,536 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:29,536 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:29,536 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:32:29,536 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:29,536 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:29,536 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:29,536 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:29,536 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:29,537 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:32:29,537 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:29,537 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1606' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:32:29,538 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:32:29,538 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:32:29,545 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958749.545154, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:32:29,545 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958749.5456114, received data from 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:32:29,547 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580373's parameters trained with 1384 samples
2023-11-26 00:32:29,559 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:29,560 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 46, trainer version: 45
2023-11-26 00:32:29,560 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:32:29,560 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580373 in dict
2023-11-26 00:32:29,560 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:29,561 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:29,561 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:29,566 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 46, trainer ver: 45
agg ver: 46, trainer ver: 45
2023-11-26 00:32:29,587 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:29,588 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:32:29,588 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:32:29,588 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.05401277542114258
2023-11-26 00:32:29,588 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.05401277542114258
2023-11-26 00:32:29,589 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:29,589 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:29,589 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:29,595 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:29,596 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:29,596 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:29,596 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:29,596 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:29,596 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:29,596 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:29,597 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: recvd
2023-11-26 00:32:29,597 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:29,597 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:29,597 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:29,597 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:29,597 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:29,597 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:29,597 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:32:29,597 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958749.5979402, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:32:29,602 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:32:29,602 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:29,602 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:29,602 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:29,604 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:29,604 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,605 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:29,605 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,605 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,606 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:29,606 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,606 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,606 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:29,607 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,607 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,607 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,607 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:32:29,607 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:29,608 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:29,609 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,610 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:29,610 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,610 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,610 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:29,610 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,610 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,611 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:29,611 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,611 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,611 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,611 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:32:29,611 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:29,611 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:29,612 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,612 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:29,612 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,612 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,612 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:29,613 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,614 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,614 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:29,614 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,615 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:29,615 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:29,615 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:32:29,616 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.02710270881652832
2023-11-26 00:32:29,616 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.02710270881652832
2023-11-26 00:32:29,616 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:29,620 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:29,620 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:29,620 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:29,620 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:29,621 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:29,621 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:29,621 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:29,621 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:29,621 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:29,621 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:29,621 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:29,622 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:29,622 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:32:29,622 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:29,624 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1613' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:32:29,626 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:32:29,626 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:32:29,630 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958749.630363, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:32:29,630 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958749.630698, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:32:29,631 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580379's parameters trained with 7607 samples
2023-11-26 00:32:29,640 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:29,641 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 46, trainer version: 45
2023-11-26 00:32:29,641 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:32:29,641 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580379 in dict
2023-11-26 00:32:29,642 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:29,642 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:29,642 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:29,647 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 46, trainer ver: 45
agg ver: 46, trainer ver: 45
2023-11-26 00:32:29,647 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:29,648 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:32:29,648 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:32:29,648 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:32:29,648 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:32:29,649 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 46
2023-11-26 00:32:29,649 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 46, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 19, '505f9fc483cf4df68a2409257b5fad7d3c580376': 17, '505f9fc483cf4df68a2409257b5fad7d3c580378': 15, '505f9fc483cf4df68a2409257b5fad7d3c580372': 9, '505f9fc483cf4df68a2409257b5fad7d3c580377': 17, '505f9fc483cf4df68a2409257b5fad7d3c580379': 10, '505f9fc483cf4df68a2409257b5fad7d3c580380': 12, '505f9fc483cf4df68a2409257b5fad7d3c580374': 14, '505f9fc483cf4df68a2409257b5fad7d3c580371': 10, '505f9fc483cf4df68a2409257b5fad7d3c580373': 15}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 19, '505f9fc483cf4df68a2409257b5fad7d3c580376': 17, '505f9fc483cf4df68a2409257b5fad7d3c580378': 15, '505f9fc483cf4df68a2409257b5fad7d3c580372': 9, '505f9fc483cf4df68a2409257b5fad7d3c580377': 17, '505f9fc483cf4df68a2409257b5fad7d3c580379': 10, '505f9fc483cf4df68a2409257b5fad7d3c580380': 12, '505f9fc483cf4df68a2409257b5fad7d3c580374': 14, '505f9fc483cf4df68a2409257b5fad7d3c580371': 10, '505f9fc483cf4df68a2409257b5fad7d3c580373': 15}
2023-11-26 00:32:29,649 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2971014492753623
2023-11-26 00:32:29,650 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9473684210526315, P50 1.0, P90 1.0, P99 1.8200000000000003
2023-11-26 00:32:29,650 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0588235294117647, P50 1.0, P90 1.4000000000000004, P99 2.0
2023-11-26 00:32:29,651 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:29,651 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:29,652 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:32:29,652 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:29,653 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4166666666666667, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:29,653 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.8571428571428572, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:29,653 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:29,654 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:32:29,654 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03799319267272949
2023-11-26 00:32:29,654 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03799319267272949
2023-11-26 00:32:29,655 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.6226043701171875e-06
2023-11-26 00:32:29,655 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.6226043701171875e-06
2023-11-26 00:32:30,822 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:30,835 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:30,835 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:30,839 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:30,840 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:30,840 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:30,841 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:30,841 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:30,842 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:30,845 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:30,849 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:32:30,850 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:30,851 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:30,851 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:30,852 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:30,853 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:30,855 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:32:30,856 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:32:30,856 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:30,857 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57164
2023-11-26 00:32:30,858 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:30,858 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57061
2023-11-26 00:32:30,859 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:30,864 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154213
2023-11-26 00:32:30,866 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154213
2023-11-26 00:32:30,880 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:30,882 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:30,883 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:30,883 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:30,883 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:30,886 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:30,886 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:30,886 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:30,888 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:30,888 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:30,888 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:30,889 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:30,892 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:30,895 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:32:30,896 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:30,897 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:30,897 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:30,897 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:30,899 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:30,900 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:30,902 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:32:30,905 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:30,905 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:30,905 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:30,906 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:30,906 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:30,907 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:32:30,907 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:30,908 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:30,909 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:30,910 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:30,916 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 0: 1048576
2023-11-26 00:32:30,917 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:30,918 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:30,918 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:30,918 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:30,919 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:30,923 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 1: 1048576
2023-11-26 00:32:30,924 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:30,925 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:30,926 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:30,926 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:30,926 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:30,927 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 2: 57063
2023-11-26 00:32:30,927 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:30,929 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308428
2023-11-26 00:32:30,935 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:30,936 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462643
2023-11-26 00:32:36,263 | main.py:161 | INFO | MainThread | evaluate | Test loss: 1.9888294687271117
2023-11-26 00:32:36,265 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 2571/10000 (0.2571)
2023-11-26 00:32:36,267 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305, 2.1813072254657744, 2.3389135039925577, 2.1007734859347345, 3.365473167991638, 2.6130637244701385, 2.161523858690262, 2.144376903986931, 1.9134297976374626, 2.2834427912414075, 2.5655355934873225, 2.747993209385872, 3.4799770496368407, 2.8528714059114457, 1.9888294687271117]
2023-11-26 00:32:36,268 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.613141775131226
2023-11-26 00:32:36,268 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.613141775131226
2023-11-26 00:32:36,269 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:32:36,270 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004439353942871094
2023-11-26 00:32:36,270 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004439353942871094
2023-11-26 00:32:36,271 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 70.8
2023-11-26 00:32:36,271 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 81.8
2023-11-26 00:32:36,272 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 74.8
2023-11-26 00:32:36,274 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 72.8
2023-11-26 00:32:36,275 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 74.8
2023-11-26 00:32:36,276 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 75.3
2023-11-26 00:32:36,277 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 3.295017884191656
2023-11-26 00:32:36,278 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1128718336
2023-11-26 00:32:36,278 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1128751104
2023-11-26 00:32:36,279 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1128744082.2857144
2023-11-26 00:32:36,280 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1128744960.0
2023-11-26 00:32:36,280 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1128747008.0
2023-11-26 00:32:36,281 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1128751104.0
2023-11-26 00:32:36,281 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 10884.286310539426
2023-11-26 00:32:36,282 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321786880
2023-11-26 00:32:36,282 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321897472
2023-11-26 00:32:36,282 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321851245.714285
2023-11-26 00:32:36,283 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:32:36,284 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:32:36,284 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321870848.0
2023-11-26 00:32:36,285 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 35079.302085068775
2023-11-26 00:32:36,285 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 1.9888294687271117, 'test-accuracy': 0.2571, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0004017353057861328, 'send.bytes': 6462612, 'distribute.runtime': 0.02710270881652832, 'recv.bytes': 6462643, 'aggregate.runtime': 0.03799319267272949, 'train.runtime': 2.6226043701171875e-06, 'evaluate.runtime': 6.613141775131226, 'analysis.runtime': 0.0004439353942871094, 'min.cpu_utilization': 70.8, 'max.cpu_utilization': 81.8, 'mean.cpu_utilization': 74.8, '25th_prcntl.cpu_utilization': 72.8, '50th_prcntl.cpu_utilization': 74.8, '75th_prcntl.cpu_utilization': 75.3, 'std.cpu_utilization': 3.295017884191656, 'min.cpu_memory_rss': 1128718336, 'max.cpu_memory_rss': 1128751104, 'mean.cpu_memory_rss': 1128744082.2857144, '25th_prcntl.cpu_memory_rss': 1128744960.0, '50th_prcntl.cpu_memory_rss': 1128747008.0, '75th_prcntl.cpu_memory_rss': 1128751104.0, 'std.cpu_memory_rss': 10884.286310539426, 'min.cpu_memory_vsz': 14321786880, 'max.cpu_memory_vsz': 14321897472, 'mean.cpu_memory_vsz': 14321851245.714285, '25th_prcntl.cpu_memory_vsz': 14321844224.0, '50th_prcntl.cpu_memory_vsz': 14321844224.0, '75th_prcntl.cpu_memory_vsz': 14321870848.0, 'std.cpu_memory_vsz': 35079.302085068775, 'save_metrics.runtime': 0.010913372039794922, 'inc_round.runtime': 0.0007734298706054688}
2023-11-26 00:32:36,286 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:32:36,286 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.01569676399230957
2023-11-26 00:32:36,286 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.01569676399230957
2023-11-26 00:32:36,287 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 46
2023-11-26 00:32:36,287 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:32:36,287 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:36,287 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 47
2023-11-26 00:32:36,288 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0010950565338134766
2023-11-26 00:32:36,288 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0010950565338134766
2023-11-26 00:32:36,288 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:32:36,289 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:32:36,289 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00039649009704589844
2023-11-26 00:32:36,289 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00039649009704589844
2023-11-26 00:32:36,289 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:36,290 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:36,290 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:36,291 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:36,292 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:36,292 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:36,292 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:36,293 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:36,293 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:36,293 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:36,293 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: recvd
2023-11-26 00:32:36,293 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:36,294 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:36,294 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:36,294 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:36,294 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580372'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:36,295 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:36,295 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580372': None}
2023-11-26 00:32:36,295 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958756.2955694, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:32:36,310 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:32:36,311 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:36,311 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:36,312 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:36,316 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:36,317 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,319 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:36,319 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,319 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,322 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:36,322 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,323 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,323 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:36,323 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,323 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,323 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,324 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:32:36,324 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:36,326 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:36,326 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,327 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:36,328 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,328 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,328 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:36,328 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,328 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,329 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:36,329 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,329 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,329 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,329 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:32:36,329 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:36,330 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:36,330 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,330 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:36,330 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,330 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,332 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:36,332 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,332 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,332 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:36,333 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,333 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,333 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,333 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372 is done
2023-11-26 00:32:36,333 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.044072628021240234
2023-11-26 00:32:36,334 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.044072628021240234
2023-11-26 00:32:36,334 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:36,335 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:36,335 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:36,335 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:36,335 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:36,336 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:36,336 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:36,336 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:32:36,336 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:36,336 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:36,336 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:36,336 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:36,336 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:36,336 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:32:36,337 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:36,338 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:36,338 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379'}
2023-11-26 00:32:36,338 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:32:36,338 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:36,338 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:36,339 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:36,340 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:32:36,340 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:32:36,350 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958756.3505733, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:32:36,351 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958756.3509936, received data from 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:32:36,352 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580371's parameters trained with 8920 samples
2023-11-26 00:32:36,369 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:36,370 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 47, trainer version: 45
2023-11-26 00:32:36,370 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:32:36,370 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580371 in dict
2023-11-26 00:32:36,370 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:36,370 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:36,370 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:36,376 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 47, trainer ver: 45
agg ver: 47, trainer ver: 45
2023-11-26 00:32:36,376 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:36,376 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:32:36,377 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:32:36,377 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04244828224182129
2023-11-26 00:32:36,377 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04244828224182129
2023-11-26 00:32:36,377 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:36,378 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:36,378 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:36,379 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:36,379 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:36,380 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:36,380 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:36,380 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:36,381 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:36,381 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: recvd
2023-11-26 00:32:36,381 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:32:36,381 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:36,382 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:36,382 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:36,382 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:36,383 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580379'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:36,383 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:36,383 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580379': None}
2023-11-26 00:32:36,384 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958756.3841164, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:32:36,393 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:32:36,393 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:36,394 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:36,394 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:36,398 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:36,399 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,400 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:36,400 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,400 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,403 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:36,403 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,404 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,404 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:36,404 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,404 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,404 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,405 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:32:36,405 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:36,407 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:36,408 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,410 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:36,410 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,411 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,411 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:36,411 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,412 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,412 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:36,413 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,413 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,413 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,413 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:32:36,414 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:36,414 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:36,414 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,415 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:36,415 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,415 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,415 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:36,416 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,416 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,417 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:36,417 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,417 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,418 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,418 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379 is done
2023-11-26 00:32:36,427 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.050247907638549805
2023-11-26 00:32:36,428 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.050247907638549805
2023-11-26 00:32:36,428 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:36,429 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:36,429 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:36,429 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:36,430 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:36,430 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:36,430 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:32:36,431 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:36,431 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:36,431 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:36,431 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:36,432 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:36,432 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:36,432 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:32:36,432 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:36,433 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1640' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:32:36,434 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:36,434 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:36,438 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958756.4388106, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:36,439 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958756.4390745, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:36,440 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:32:36,453 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:36,453 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 47, trainer version: 46
2023-11-26 00:32:36,453 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:32:36,453 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:32:36,454 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:36,454 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:36,454 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:36,460 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 47, trainer ver: 46
agg ver: 47, trainer ver: 46
2023-11-26 00:32:36,461 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:36,461 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:32:36,462 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:32:36,462 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03350639343261719
2023-11-26 00:32:36,462 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03350639343261719
2023-11-26 00:32:36,462 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:36,463 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:36,463 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:36,464 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:36,464 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:36,465 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:36,465 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:36,465 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:36,466 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:36,466 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:32:36,466 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:36,466 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:36,467 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:36,467 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:32:36,467 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:36,467 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580374'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:36,468 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:36,468 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580374': None}
2023-11-26 00:32:36,468 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958756.4686344, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:36,476 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:32:36,477 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:36,477 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:36,478 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:36,480 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:36,481 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,484 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:36,485 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,486 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,488 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:36,489 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,490 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,491 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:36,492 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,492 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,493 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,494 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:32:36,500 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:36,501 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:36,511 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,512 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:36,513 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,513 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,514 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:36,515 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,515 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,516 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:36,516 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,517 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,527 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,527 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:32:36,528 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:36,528 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:36,528 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,529 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:36,529 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,529 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,529 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:36,530 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,530 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,530 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:36,530 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,530 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:36,531 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:36,531 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:32:36,531 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.06874847412109375
2023-11-26 00:32:36,531 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.06874847412109375
2023-11-26 00:32:36,532 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:36,532 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:36,532 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:36,532 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:36,532 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:36,532 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:36,533 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:32:36,533 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:36,533 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:36,533 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:36,533 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:36,533 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:36,533 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:36,533 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:32:36,533 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:36,534 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1647' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:32:36,534 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:32:36,534 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:32:36,537 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958756.5377657, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:32:36,537 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958756.5379367, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:32:36,539 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:32:36,546 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:36,546 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 47, trainer version: 46
2023-11-26 00:32:36,546 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:32:36,546 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:32:36,547 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:36,547 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:36,547 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:36,551 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 47, trainer ver: 46
agg ver: 47, trainer ver: 46
2023-11-26 00:32:36,551 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:36,551 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:32:36,552 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:32:36,552 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:32:36,552 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:32:36,553 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 47
2023-11-26 00:32:36,553 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 47, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 20, '505f9fc483cf4df68a2409257b5fad7d3c580376': 18, '505f9fc483cf4df68a2409257b5fad7d3c580378': 15, '505f9fc483cf4df68a2409257b5fad7d3c580372': 9, '505f9fc483cf4df68a2409257b5fad7d3c580377': 17, '505f9fc483cf4df68a2409257b5fad7d3c580379': 10, '505f9fc483cf4df68a2409257b5fad7d3c580380': 12, '505f9fc483cf4df68a2409257b5fad7d3c580374': 14, '505f9fc483cf4df68a2409257b5fad7d3c580371': 11, '505f9fc483cf4df68a2409257b5fad7d3c580373': 15}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 20, '505f9fc483cf4df68a2409257b5fad7d3c580376': 18, '505f9fc483cf4df68a2409257b5fad7d3c580378': 15, '505f9fc483cf4df68a2409257b5fad7d3c580372': 9, '505f9fc483cf4df68a2409257b5fad7d3c580377': 17, '505f9fc483cf4df68a2409257b5fad7d3c580379': 10, '505f9fc483cf4df68a2409257b5fad7d3c580380': 12, '505f9fc483cf4df68a2409257b5fad7d3c580374': 14, '505f9fc483cf4df68a2409257b5fad7d3c580371': 11, '505f9fc483cf4df68a2409257b5fad7d3c580373': 15}
2023-11-26 00:32:36,553 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.297872340425532
2023-11-26 00:32:36,554 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.95, P50 1.0, P90 1.0, P99 1.8099999999999987
2023-11-26 00:32:36,554 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0555555555555556, P50 1.0, P90 1.3000000000000007, P99 2.0
2023-11-26 00:32:36,554 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:36,555 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3333333333333333, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:36,555 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:32:36,556 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:36,556 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4166666666666667, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:36,557 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.8571428571428572, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:36,557 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:36,558 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:32:36,558 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.026062488555908203
2023-11-26 00:32:36,558 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.026062488555908203
2023-11-26 00:32:36,558 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.384185791015625e-06
2023-11-26 00:32:36,558 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.384185791015625e-06
2023-11-26 00:32:37,927 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:37,941 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:37,942 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:37,945 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:37,946 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:37,946 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:37,947 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:37,948 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:37,948 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:37,952 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:37,956 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 0: 1048576
2023-11-26 00:32:37,957 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:37,958 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:37,958 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:37,959 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:37,960 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:37,965 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 1: 1048576
2023-11-26 00:32:37,965 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:37,966 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:37,966 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580372/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:37,967 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:37,967 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:37,968 | chunk_store.py:103 | DEBUG | Thread-9 | assemble | chunk 2: 57063
2023-11-26 00:32:37,976 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:37,977 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:32:38,201 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:38,206 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:38,206 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:38,209 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:38,210 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:38,210 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:38,211 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:38,212 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:38,213 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:38,214 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:38,216 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 0: 1048576
2023-11-26 00:32:38,217 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:38,217 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:38,218 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:38,218 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:38,219 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:38,219 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:38,220 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:38,222 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 1: 1048576
2023-11-26 00:32:38,222 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:38,223 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 2: 57063
2023-11-26 00:32:38,224 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:38,229 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:38,229 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:32:38,473 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:38,476 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:38,477 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:38,481 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:38,482 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:38,482 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:38,483 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:38,484 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:38,485 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:38,487 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:38,490 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 0: 1048576
2023-11-26 00:32:38,491 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:38,492 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:38,492 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:38,492 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:38,493 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:38,493 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:38,494 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580379/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:38,498 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 1: 1048576
2023-11-26 00:32:38,499 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:38,499 | chunk_store.py:103 | DEBUG | Thread-11 | assemble | chunk 2: 57063
2023-11-26 00:32:38,500 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:38,507 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:38,508 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:32:42,891 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.1088577431201934
2023-11-26 00:32:42,892 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 2699/10000 (0.2699)
2023-11-26 00:32:42,893 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305, 2.1813072254657744, 2.3389135039925577, 2.1007734859347345, 3.365473167991638, 2.6130637244701385, 2.161523858690262, 2.144376903986931, 1.9134297976374626, 2.2834427912414075, 2.5655355934873225, 2.747993209385872, 3.4799770496368407, 2.8528714059114457, 1.9888294687271117, 2.1088577431201934]
2023-11-26 00:32:42,894 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.335686683654785
2023-11-26 00:32:42,894 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.335686683654785
2023-11-26 00:32:42,895 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:32:42,896 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0005338191986083984
2023-11-26 00:32:42,896 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0005338191986083984
2023-11-26 00:32:42,897 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 69.2
2023-11-26 00:32:42,897 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 82.8
2023-11-26 00:32:42,897 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 73.88571428571429
2023-11-26 00:32:42,899 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 70.85
2023-11-26 00:32:42,899 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 71.9
2023-11-26 00:32:42,900 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 75.8
2023-11-26 00:32:42,901 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 4.643406560898571
2023-11-26 00:32:42,901 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1128734720
2023-11-26 00:32:42,901 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1128804352
2023-11-26 00:32:42,902 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1128786212.5714285
2023-11-26 00:32:42,903 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1128775680.0
2023-11-26 00:32:42,903 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1128804352.0
2023-11-26 00:32:42,904 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1128804352.0
2023-11-26 00:32:42,905 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 27768.09593172476
2023-11-26 00:32:42,905 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321844224
2023-11-26 00:32:42,905 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321844224
2023-11-26 00:32:42,906 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:32:42,906 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:32:42,907 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:32:42,907 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:32:42,908 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 0.0
2023-11-26 00:32:42,908 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.1088577431201934, 'test-accuracy': 0.2699, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00039649009704589844, 'send.bytes': 6462612, 'distribute.runtime': 0.06874847412109375, 'recv.bytes': 6462645, 'aggregate.runtime': 0.026062488555908203, 'train.runtime': 2.384185791015625e-06, 'evaluate.runtime': 6.335686683654785, 'analysis.runtime': 0.0005338191986083984, 'min.cpu_utilization': 69.2, 'max.cpu_utilization': 82.8, 'mean.cpu_utilization': 73.88571428571429, '25th_prcntl.cpu_utilization': 70.85, '50th_prcntl.cpu_utilization': 71.9, '75th_prcntl.cpu_utilization': 75.8, 'std.cpu_utilization': 4.643406560898571, 'min.cpu_memory_rss': 1128734720, 'max.cpu_memory_rss': 1128804352, 'mean.cpu_memory_rss': 1128786212.5714285, '25th_prcntl.cpu_memory_rss': 1128775680.0, '50th_prcntl.cpu_memory_rss': 1128804352.0, '75th_prcntl.cpu_memory_rss': 1128804352.0, 'std.cpu_memory_rss': 27768.09593172476, 'min.cpu_memory_vsz': 14321844224, 'max.cpu_memory_vsz': 14321844224, 'mean.cpu_memory_vsz': 14321844224.0, '25th_prcntl.cpu_memory_vsz': 14321844224.0, '50th_prcntl.cpu_memory_vsz': 14321844224.0, '75th_prcntl.cpu_memory_vsz': 14321844224.0, 'std.cpu_memory_vsz': 0.0, 'save_metrics.runtime': 0.01569676399230957, 'inc_round.runtime': 0.0010950565338134766}
2023-11-26 00:32:42,908 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:32:42,909 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.012379646301269531
2023-11-26 00:32:42,909 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.012379646301269531
2023-11-26 00:32:42,909 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 47
2023-11-26 00:32:42,909 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:32:42,909 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:42,909 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 48
2023-11-26 00:32:42,910 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0007386207580566406
2023-11-26 00:32:42,910 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0007386207580566406
2023-11-26 00:32:42,910 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:32:42,910 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:32:42,911 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.00039005279541015625
2023-11-26 00:32:42,911 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.00039005279541015625
2023-11-26 00:32:42,911 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:42,912 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:42,912 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:42,913 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:42,914 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:42,914 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:42,915 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:42,915 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:42,915 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:42,916 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:32:42,916 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:42,916 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:42,916 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:42,917 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:32:42,917 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:42,917 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580375'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:42,918 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:42,918 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:32:42,918 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958762.9188824, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:32:42,937 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:32:42,937 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:42,938 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:42,939 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:42,942 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:42,942 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:42,944 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:42,945 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:42,945 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:42,947 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:42,948 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:42,948 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:42,948 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:42,949 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:42,949 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:42,949 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:42,949 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:32:42,949 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:42,951 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:42,951 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:42,953 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:42,953 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:42,953 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:42,953 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:42,954 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:42,954 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:42,954 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:42,954 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:42,954 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:42,954 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:42,955 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:32:42,955 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:42,955 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:42,955 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:42,956 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:42,956 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:42,956 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:42,957 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:42,957 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:42,957 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:42,958 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:42,958 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:42,958 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:42,958 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:42,958 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375 is done
2023-11-26 00:32:42,958 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04757499694824219
2023-11-26 00:32:42,959 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04757499694824219
2023-11-26 00:32:42,959 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:42,960 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:42,960 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:42,960 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:42,960 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:42,961 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:42,961 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:32:42,961 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:42,961 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:42,961 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:42,961 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:42,961 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:42,961 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:42,961 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:32:42,962 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:42,962 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:32:42,963 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:42,964 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:42,964 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:42,964 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:32:42,965 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:42,968 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:42,968 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:42,982 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958762.9824684, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:42,982 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958762.9828577, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:42,984 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580378's parameters trained with 4612 samples
2023-11-26 00:32:42,999 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:42,999 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 48, trainer version: 46
2023-11-26 00:32:42,999 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:32:43,000 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580378 in dict
2023-11-26 00:32:43,000 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:43,000 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:43,000 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:43,005 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 48, trainer ver: 46
agg ver: 48, trainer ver: 46
2023-11-26 00:32:43,006 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:43,006 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:32:43,006 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:32:43,006 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04692554473876953
2023-11-26 00:32:43,006 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04692554473876953
2023-11-26 00:32:43,007 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:43,007 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:43,008 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:43,008 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:43,009 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:43,009 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:43,010 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:43,010 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:43,011 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:43,011 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:32:43,012 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: recvd
2023-11-26 00:32:43,012 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:43,013 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:43,013 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:43,013 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:43,014 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580380'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:43,014 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:43,014 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580380': None}
2023-11-26 00:32:43,015 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958763.0153508, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:32:43,023 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:32:43,039 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:43,040 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:43,040 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:43,042 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:43,042 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,044 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:43,044 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,044 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,045 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:43,045 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,045 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,045 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:43,046 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,046 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,046 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,046 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:32:43,046 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:43,048 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:43,048 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,050 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:43,050 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,050 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,050 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:43,051 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,051 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,053 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:43,054 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,055 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,055 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,056 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:32:43,056 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:43,056 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:43,057 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,057 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:43,058 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,064 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,065 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:43,065 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,065 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,066 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:43,066 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,066 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,067 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,067 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380 is done
2023-11-26 00:32:43,067 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.06072497367858887
2023-11-26 00:32:43,068 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.06072497367858887
2023-11-26 00:32:43,068 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:43,069 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:43,069 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:43,070 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:43,071 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:43,071 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:43,071 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: 
2023-11-26 00:32:43,072 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:43,072 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:43,072 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:43,072 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:43,072 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:43,072 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:43,073 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580372': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:32:43,073 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:43,073 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1674' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:32:43,074 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:32:43,074 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:32:43,077 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958763.0774488, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:32:43,077 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958763.077639, received data from 505f9fc483cf4df68a2409257b5fad7d3c580372
2023-11-26 00:32:43,078 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580372's parameters trained with 5929 samples
2023-11-26 00:32:43,087 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:43,087 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 48, trainer version: 47
2023-11-26 00:32:43,087 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:32:43,087 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580372 in dict
2023-11-26 00:32:43,087 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:43,087 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:43,087 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:43,091 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 48, trainer ver: 47
agg ver: 48, trainer ver: 47
2023-11-26 00:32:43,092 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:43,092 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:32:43,092 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:32:43,092 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.02449941635131836
2023-11-26 00:32:43,092 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.02449941635131836
2023-11-26 00:32:43,093 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:43,093 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:43,093 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:43,094 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:43,094 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:43,094 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:43,094 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:43,094 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:43,095 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:43,095 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580372 state: recvd
2023-11-26 00:32:43,095 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:43,095 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:43,095 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:43,095 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:43,095 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:43,096 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580378'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:43,096 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:43,096 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None}
2023-11-26 00:32:43,096 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958763.096658, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:43,102 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:32:43,103 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:43,103 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:43,103 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:43,105 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:43,105 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,107 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:43,107 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,108 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,109 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:43,109 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,109 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,109 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:43,110 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,110 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,110 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,111 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:32:43,111 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:43,113 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:43,113 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,114 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:43,114 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,115 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,115 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:43,115 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,115 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,115 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:43,116 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,116 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,116 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,117 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:32:43,117 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:43,118 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:43,118 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,118 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:43,119 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,119 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,119 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:43,119 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,119 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,119 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:43,120 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,120 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:43,120 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:43,120 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:32:43,120 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.02763080596923828
2023-11-26 00:32:43,121 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.02763080596923828
2023-11-26 00:32:43,121 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:43,135 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:43,135 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:43,136 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:43,136 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:43,136 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:43,136 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:43,136 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:43,136 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:43,136 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:43,137 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:43,137 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:43,137 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:43,137 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:32:43,137 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:43,137 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1681' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:32:43,138 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:43,138 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:43,141 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958763.1416879, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:43,141 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958763.1418667, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:43,142 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580374's parameters trained with 5749 samples
2023-11-26 00:32:43,150 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:43,150 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 48, trainer version: 47
2023-11-26 00:32:43,150 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:32:43,150 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580374 in dict
2023-11-26 00:32:43,151 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:43,151 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:43,151 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:43,155 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 48, trainer ver: 47
agg ver: 48, trainer ver: 47
2023-11-26 00:32:43,155 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:43,155 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:32:43,156 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:32:43,156 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:32:43,156 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:32:43,157 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 48
2023-11-26 00:32:43,157 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 48, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 20, '505f9fc483cf4df68a2409257b5fad7d3c580376': 18, '505f9fc483cf4df68a2409257b5fad7d3c580378': 16, '505f9fc483cf4df68a2409257b5fad7d3c580372': 10, '505f9fc483cf4df68a2409257b5fad7d3c580377': 17, '505f9fc483cf4df68a2409257b5fad7d3c580379': 10, '505f9fc483cf4df68a2409257b5fad7d3c580380': 12, '505f9fc483cf4df68a2409257b5fad7d3c580374': 15, '505f9fc483cf4df68a2409257b5fad7d3c580371': 11, '505f9fc483cf4df68a2409257b5fad7d3c580373': 15}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 20, '505f9fc483cf4df68a2409257b5fad7d3c580376': 18, '505f9fc483cf4df68a2409257b5fad7d3c580378': 16, '505f9fc483cf4df68a2409257b5fad7d3c580372': 10, '505f9fc483cf4df68a2409257b5fad7d3c580377': 17, '505f9fc483cf4df68a2409257b5fad7d3c580379': 10, '505f9fc483cf4df68a2409257b5fad7d3c580380': 12, '505f9fc483cf4df68a2409257b5fad7d3c580374': 15, '505f9fc483cf4df68a2409257b5fad7d3c580371': 11, '505f9fc483cf4df68a2409257b5fad7d3c580373': 15}
2023-11-26 00:32:43,157 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2986111111111112
2023-11-26 00:32:43,158 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.95, P50 1.0, P90 1.0, P99 1.8099999999999987
2023-11-26 00:32:43,158 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0555555555555556, P50 1.0, P90 1.3000000000000007, P99 2.0
2023-11-26 00:32:43,159 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.375, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:43,160 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:43,161 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:32:43,162 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:43,163 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4166666666666667, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:43,164 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.8, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:43,164 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:43,165 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:32:43,165 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04452157020568848
2023-11-26 00:32:43,166 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04452157020568848
2023-11-26 00:32:43,166 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.1457672119140625e-06
2023-11-26 00:32:43,166 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.1457672119140625e-06
2023-11-26 00:32:44,117 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:44,130 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:44,131 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:44,137 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:44,137 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:44,138 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:44,139 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:44,139 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:44,139 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:44,142 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:44,146 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 0: 1048576
2023-11-26 00:32:44,147 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:44,148 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:44,148 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:44,148 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:44,151 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:44,155 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 1: 1048576
2023-11-26 00:32:44,155 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:44,156 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:44,157 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580375/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:44,157 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:44,158 | chunk_store.py:103 | DEBUG | Thread-6 | assemble | chunk 2: 57063
2023-11-26 00:32:44,158 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:44,166 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:44,167 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:32:44,442 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:44,445 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:44,445 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:44,448 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:44,449 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:44,449 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:44,451 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:44,451 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:44,452 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:44,453 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:44,458 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 0: 1048576
2023-11-26 00:32:44,459 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:44,460 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:44,460 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:44,461 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:44,461 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:44,461 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:44,462 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:44,467 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 1: 1048576
2023-11-26 00:32:44,467 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:44,468 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 2: 57063
2023-11-26 00:32:44,469 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:44,477 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:44,478 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:32:44,544 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:44,548 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:44,549 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:44,552 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:44,553 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:44,553 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:44,554 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:44,555 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:44,556 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:44,557 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:44,561 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 0: 1048576
2023-11-26 00:32:44,561 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:44,563 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:44,563 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:44,564 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:44,566 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:44,569 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 1: 1048576
2023-11-26 00:32:44,569 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:44,571 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:44,572 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580380/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:44,573 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:44,573 | chunk_store.py:103 | DEBUG | Thread-12 | assemble | chunk 2: 57063
2023-11-26 00:32:44,574 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:44,583 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:44,584 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:32:49,411 | main.py:161 | INFO | MainThread | evaluate | Test loss: 2.191151902663708
2023-11-26 00:32:49,413 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 3054/10000 (0.3054)
2023-11-26 00:32:49,414 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305, 2.1813072254657744, 2.3389135039925577, 2.1007734859347345, 3.365473167991638, 2.6130637244701385, 2.161523858690262, 2.144376903986931, 1.9134297976374626, 2.2834427912414075, 2.5655355934873225, 2.747993209385872, 3.4799770496368407, 2.8528714059114457, 1.9888294687271117, 2.1088577431201934, 2.191151902663708]
2023-11-26 00:32:49,415 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.24850869178772
2023-11-26 00:32:49,416 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.24850869178772
2023-11-26 00:32:49,416 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:32:49,417 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004260540008544922
2023-11-26 00:32:49,417 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004260540008544922
2023-11-26 00:32:49,418 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 67.8
2023-11-26 00:32:49,418 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 87.8
2023-11-26 00:32:49,419 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 72.53333333333332
2023-11-26 00:32:49,420 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 67.9
2023-11-26 00:32:49,420 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 69.4
2023-11-26 00:32:49,421 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 72.4
2023-11-26 00:32:49,422 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 7.0853526533421185
2023-11-26 00:32:49,422 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1128804352
2023-11-26 00:32:49,422 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1128824832
2023-11-26 00:32:49,422 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1128818005.3333333
2023-11-26 00:32:49,423 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1128814592.0
2023-11-26 00:32:49,424 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1128820736.0
2023-11-26 00:32:49,424 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1128823808.0
2023-11-26 00:32:49,425 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 7352.5450166743085
2023-11-26 00:32:49,425 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321844224
2023-11-26 00:32:49,425 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321893376
2023-11-26 00:32:49,425 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321860608.0
2023-11-26 00:32:49,426 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:32:49,427 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:32:49,427 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321881088.0
2023-11-26 00:32:49,427 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 23170.47500592079
2023-11-26 00:32:49,428 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 2.191151902663708, 'test-accuracy': 0.3054, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.00039005279541015625, 'send.bytes': 6462612, 'distribute.runtime': 0.02763080596923828, 'recv.bytes': 6462645, 'aggregate.runtime': 0.04452157020568848, 'train.runtime': 2.1457672119140625e-06, 'evaluate.runtime': 6.24850869178772, 'analysis.runtime': 0.0004260540008544922, 'min.cpu_utilization': 67.8, 'max.cpu_utilization': 87.8, 'mean.cpu_utilization': 72.53333333333332, '25th_prcntl.cpu_utilization': 67.9, '50th_prcntl.cpu_utilization': 69.4, '75th_prcntl.cpu_utilization': 72.4, 'std.cpu_utilization': 7.0853526533421185, 'min.cpu_memory_rss': 1128804352, 'max.cpu_memory_rss': 1128824832, 'mean.cpu_memory_rss': 1128818005.3333333, '25th_prcntl.cpu_memory_rss': 1128814592.0, '50th_prcntl.cpu_memory_rss': 1128820736.0, '75th_prcntl.cpu_memory_rss': 1128823808.0, 'std.cpu_memory_rss': 7352.5450166743085, 'min.cpu_memory_vsz': 14321844224, 'max.cpu_memory_vsz': 14321893376, 'mean.cpu_memory_vsz': 14321860608.0, '25th_prcntl.cpu_memory_vsz': 14321844224.0, '50th_prcntl.cpu_memory_vsz': 14321844224.0, '75th_prcntl.cpu_memory_vsz': 14321881088.0, 'std.cpu_memory_vsz': 23170.47500592079, 'save_metrics.runtime': 0.012379646301269531, 'inc_round.runtime': 0.0007386207580566406}
2023-11-26 00:32:49,428 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:32:49,428 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.011099815368652344
2023-11-26 00:32:49,429 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.011099815368652344
2023-11-26 00:32:49,429 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 48
2023-11-26 00:32:49,429 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:32:49,429 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:49,430 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 49
2023-11-26 00:32:49,430 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.00089263916015625
2023-11-26 00:32:49,430 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.00089263916015625
2023-11-26 00:32:49,430 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:32:49,430 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:32:49,431 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0003342628479003906
2023-11-26 00:32:49,431 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0003342628479003906
2023-11-26 00:32:49,431 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:49,432 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:49,433 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:49,433 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:49,434 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:49,435 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:49,435 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:49,435 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:49,436 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:49,436 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:49,436 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: recvd
2023-11-26 00:32:49,437 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:49,437 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:49,437 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:49,438 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:49,438 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580371'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:49,438 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:49,439 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None}
2023-11-26 00:32:49,439 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958769.439612, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:32:49,454 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:32:49,454 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:49,455 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:49,457 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:49,462 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:49,462 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,465 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:49,465 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,465 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,468 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:49,468 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,469 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,469 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:49,469 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,469 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,470 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,470 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:32:49,470 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:49,472 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:49,473 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,475 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:49,475 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,475 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,475 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:49,476 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,476 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,476 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:49,476 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,476 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,477 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,477 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:32:49,477 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:49,477 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:49,478 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,478 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:49,478 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,478 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,480 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:49,480 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,480 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,481 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:49,481 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,481 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,481 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,481 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371 is done
2023-11-26 00:32:49,482 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.05069255828857422
2023-11-26 00:32:49,482 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.05069255828857422
2023-11-26 00:32:49,483 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:49,483 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:49,483 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:49,484 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:49,484 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:49,484 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:49,484 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:49,484 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:49,484 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:49,484 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: 
2023-11-26 00:32:49,484 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:49,484 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:49,485 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:49,485 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580379': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:32:49,485 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:49,486 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:49,486 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:32:49,486 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:32:49,486 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:32:49,486 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:32:49,486 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:32:49,488 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:32:49,488 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:32:49,499 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958769.49909, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:32:49,499 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958769.4995892, received data from 505f9fc483cf4df68a2409257b5fad7d3c580379
2023-11-26 00:32:49,501 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580379's parameters trained with 7607 samples
2023-11-26 00:32:49,517 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:49,517 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 49, trainer version: 47
2023-11-26 00:32:49,517 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:32:49,517 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580379 in dict
2023-11-26 00:32:49,517 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:49,518 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:49,518 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:49,524 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 49, trainer ver: 47
agg ver: 49, trainer ver: 47
2023-11-26 00:32:49,524 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:49,524 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:32:49,524 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:32:49,525 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04205465316772461
2023-11-26 00:32:49,525 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04205465316772461
2023-11-26 00:32:49,525 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:49,525 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:49,526 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:49,526 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:49,526 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:49,527 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:49,527 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:49,527 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:49,528 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:49,528 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:49,528 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:49,528 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:49,528 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580379 state: recvd
2023-11-26 00:32:49,529 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:49,529 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:49,529 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580374'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:49,529 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:49,530 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580374': None}
2023-11-26 00:32:49,530 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958769.5305479, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:49,540 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:32:49,540 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:49,541 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:49,542 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:49,545 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:49,545 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,550 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:49,551 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,552 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,552 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:49,553 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,553 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,555 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:49,558 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,559 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,560 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,561 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:32:49,562 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:49,564 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:49,565 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,566 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:49,566 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,567 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,567 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:49,567 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,568 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,568 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:49,568 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,569 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,569 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,569 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:32:49,570 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:49,570 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:49,570 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,571 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:49,571 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,571 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,572 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:49,572 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,572 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,572 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:49,572 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,573 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,573 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,573 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374 is done
2023-11-26 00:32:49,574 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.048702239990234375
2023-11-26 00:32:49,574 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.048702239990234375
2023-11-26 00:32:49,574 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:49,575 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:49,575 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:49,575 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:49,575 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:49,576 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:49,576 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:49,576 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:49,576 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:49,576 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:49,577 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: 
2023-11-26 00:32:49,577 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}
2023-11-26 00:32:49,577 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:49,577 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580375': None}
2023-11-26 00:32:49,578 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:49,578 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1708' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:32:49,579 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:32:49,579 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:32:49,583 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958769.5838277, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:32:49,584 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958769.584128, received data from 505f9fc483cf4df68a2409257b5fad7d3c580375
2023-11-26 00:32:49,585 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580375's parameters trained with 3899 samples
2023-11-26 00:32:49,597 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:49,597 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 49, trainer version: 48
2023-11-26 00:32:49,597 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:32:49,597 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580375 in dict
2023-11-26 00:32:49,597 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:49,598 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:49,598 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:49,603 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 49, trainer ver: 48
agg ver: 49, trainer ver: 48
2023-11-26 00:32:49,603 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:49,604 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:32:49,604 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:32:49,604 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.03002023696899414
2023-11-26 00:32:49,604 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.03002023696899414
2023-11-26 00:32:49,604 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:49,605 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:49,605 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:49,606 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:49,606 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:49,607 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:49,607 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:49,608 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:49,608 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375'}}
2023-11-26 00:32:49,608 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:49,608 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:49,608 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:49,609 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:49,609 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580375 state: recvd
2023-11-26 00:32:49,609 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:49,610 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:49,610 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:49,610 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:32:49,611 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958769.611131, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:49,617 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:32:49,618 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:49,619 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:49,620 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:49,623 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:49,624 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,624 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:49,625 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,625 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,626 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:49,626 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,626 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,627 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:49,627 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,627 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,627 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,627 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:32:49,628 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:49,629 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:49,629 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,630 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:49,630 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,631 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,631 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:49,631 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,631 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,631 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:49,631 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,632 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,632 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,632 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:32:49,632 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:49,632 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:49,632 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,633 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:49,633 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,633 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,633 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:49,633 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,633 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,633 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:49,634 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,634 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:49,634 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:49,634 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:32:49,634 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.029562950134277344
2023-11-26 00:32:49,635 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.029562950134277344
2023-11-26 00:32:49,635 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:49,635 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:49,636 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:49,636 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:49,636 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:49,636 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:49,636 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:49,636 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:49,636 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:49,636 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:49,636 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:49,636 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:49,637 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:49,637 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:32:49,637 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:49,637 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1715' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:32:49,638 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:49,638 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:49,649 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958769.6498058, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:49,650 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958769.6502786, received data from 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:49,651 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580378's parameters trained with 4612 samples
2023-11-26 00:32:49,665 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:49,665 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 49, trainer version: 48
2023-11-26 00:32:49,666 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:32:49,666 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580378 in dict
2023-11-26 00:32:49,666 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:49,666 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:49,667 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:49,672 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 49, trainer ver: 48
agg ver: 49, trainer ver: 48
2023-11-26 00:32:49,673 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:49,673 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:32:49,673 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:32:49,674 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:32:49,674 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:32:49,675 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 49
2023-11-26 00:32:49,675 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 49, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 21, '505f9fc483cf4df68a2409257b5fad7d3c580376': 18, '505f9fc483cf4df68a2409257b5fad7d3c580378': 17, '505f9fc483cf4df68a2409257b5fad7d3c580372': 10, '505f9fc483cf4df68a2409257b5fad7d3c580377': 17, '505f9fc483cf4df68a2409257b5fad7d3c580379': 11, '505f9fc483cf4df68a2409257b5fad7d3c580380': 12, '505f9fc483cf4df68a2409257b5fad7d3c580374': 15, '505f9fc483cf4df68a2409257b5fad7d3c580371': 11, '505f9fc483cf4df68a2409257b5fad7d3c580373': 15}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 21, '505f9fc483cf4df68a2409257b5fad7d3c580376': 18, '505f9fc483cf4df68a2409257b5fad7d3c580378': 17, '505f9fc483cf4df68a2409257b5fad7d3c580372': 10, '505f9fc483cf4df68a2409257b5fad7d3c580377': 17, '505f9fc483cf4df68a2409257b5fad7d3c580379': 11, '505f9fc483cf4df68a2409257b5fad7d3c580380': 12, '505f9fc483cf4df68a2409257b5fad7d3c580374': 15, '505f9fc483cf4df68a2409257b5fad7d3c580371': 11, '505f9fc483cf4df68a2409257b5fad7d3c580373': 15}
2023-11-26 00:32:49,675 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.2993197278911566
2023-11-26 00:32:49,676 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9523809523809523, P50 1.0, P90 1.0, P99 1.8000000000000007
2023-11-26 00:32:49,677 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0555555555555556, P50 1.0, P90 1.3000000000000007, P99 2.0
2023-11-26 00:32:49,677 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.3529411764705883, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:49,677 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:49,678 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:32:49,678 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6363636363636365, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:49,679 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4166666666666667, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:49,679 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.8, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:49,680 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:49,680 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:32:49,681 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04568839073181152
2023-11-26 00:32:49,681 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04568839073181152
2023-11-26 00:32:49,681 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.6226043701171875e-06
2023-11-26 00:32:49,681 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.6226043701171875e-06
2023-11-26 00:32:51,049 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:51,058 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:51,058 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:51,063 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:51,063 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:51,063 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:51,064 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:51,065 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:51,065 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:51,067 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:51,072 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:32:51,072 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:51,073 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:51,074 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:51,074 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:51,077 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:51,081 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:32:51,081 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:51,082 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:51,083 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:51,083 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:51,084 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:32:51,084 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:51,092 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:51,093 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:32:51,274 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:51,281 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:51,282 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:51,286 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:51,287 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:51,287 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:51,288 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:51,289 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:51,289 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:51,292 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:51,296 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 0: 1048576
2023-11-26 00:32:51,297 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:51,298 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:51,298 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:51,299 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:51,300 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:51,300 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:51,302 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580374/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:51,307 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 1: 1048576
2023-11-26 00:32:51,307 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:51,308 | chunk_store.py:103 | DEBUG | Thread-13 | assemble | chunk 2: 57063
2023-11-26 00:32:51,309 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:51,317 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:51,318 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:32:51,950 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:51,955 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:51,956 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:51,959 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:51,960 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:51,960 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:51,963 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:51,964 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:51,965 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:51,966 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:51,970 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 0: 1048576
2023-11-26 00:32:51,971 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:51,972 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:51,972 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:51,973 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:51,973 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:51,973 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:51,975 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580371/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:51,979 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 1: 1048576
2023-11-26 00:32:51,979 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:51,980 | chunk_store.py:103 | DEBUG | Thread-14 | assemble | chunk 2: 57063
2023-11-26 00:32:51,982 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:51,987 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:51,988 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:32:56,139 | main.py:161 | INFO | MainThread | evaluate | Test loss: 1.947495054540038
2023-11-26 00:32:56,141 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 3310/10000 (0.331)
2023-11-26 00:32:56,142 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305, 2.1813072254657744, 2.3389135039925577, 2.1007734859347345, 3.365473167991638, 2.6130637244701385, 2.161523858690262, 2.144376903986931, 1.9134297976374626, 2.2834427912414075, 2.5655355934873225, 2.747993209385872, 3.4799770496368407, 2.8528714059114457, 1.9888294687271117, 2.1088577431201934, 2.191151902663708, 1.947495054540038]
2023-11-26 00:32:56,143 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.46152925491333
2023-11-26 00:32:56,143 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.46152925491333
2023-11-26 00:32:56,144 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:32:56,144 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004353523254394531
2023-11-26 00:32:56,145 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004353523254394531
2023-11-26 00:32:56,145 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 67.9
2023-11-26 00:32:56,146 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 82.8
2023-11-26 00:32:56,146 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 72.2857142857143
2023-11-26 00:32:56,147 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 69.35
2023-11-26 00:32:56,148 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 70.8
2023-11-26 00:32:56,149 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 72.9
2023-11-26 00:32:56,150 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 4.665811389069144
2023-11-26 00:32:56,150 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1128800256
2023-11-26 00:32:56,151 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1130991616
2023-11-26 00:32:56,151 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1130061238.857143
2023-11-26 00:32:56,152 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1128830976.0
2023-11-26 00:32:56,152 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1130991616.0
2023-11-26 00:32:56,152 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1130991616.0
2023-11-26 00:32:56,153 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 1074353.8370717042
2023-11-26 00:32:56,153 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321786880
2023-11-26 00:32:56,153 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321897472
2023-11-26 00:32:56,154 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321864704.0
2023-11-26 00:32:56,154 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:32:56,154 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321893376.0
2023-11-26 00:32:56,155 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321893376.0
2023-11-26 00:32:56,155 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 38610.561752675174
2023-11-26 00:32:56,156 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 1.947495054540038, 'test-accuracy': 0.331, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0003342628479003906, 'send.bytes': 6462612, 'distribute.runtime': 0.029562950134277344, 'recv.bytes': 6462645, 'aggregate.runtime': 0.04568839073181152, 'train.runtime': 2.6226043701171875e-06, 'evaluate.runtime': 6.46152925491333, 'analysis.runtime': 0.0004353523254394531, 'min.cpu_utilization': 67.9, 'max.cpu_utilization': 82.8, 'mean.cpu_utilization': 72.2857142857143, '25th_prcntl.cpu_utilization': 69.35, '50th_prcntl.cpu_utilization': 70.8, '75th_prcntl.cpu_utilization': 72.9, 'std.cpu_utilization': 4.665811389069144, 'min.cpu_memory_rss': 1128800256, 'max.cpu_memory_rss': 1130991616, 'mean.cpu_memory_rss': 1130061238.857143, '25th_prcntl.cpu_memory_rss': 1128830976.0, '50th_prcntl.cpu_memory_rss': 1130991616.0, '75th_prcntl.cpu_memory_rss': 1130991616.0, 'std.cpu_memory_rss': 1074353.8370717042, 'min.cpu_memory_vsz': 14321786880, 'max.cpu_memory_vsz': 14321897472, 'mean.cpu_memory_vsz': 14321864704.0, '25th_prcntl.cpu_memory_vsz': 14321844224.0, '50th_prcntl.cpu_memory_vsz': 14321893376.0, '75th_prcntl.cpu_memory_vsz': 14321893376.0, 'std.cpu_memory_vsz': 38610.561752675174, 'save_metrics.runtime': 0.011099815368652344, 'inc_round.runtime': 0.00089263916015625}
2023-11-26 00:32:56,156 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:32:56,156 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.010981321334838867
2023-11-26 00:32:56,156 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.010981321334838867
2023-11-26 00:32:56,156 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 49
2023-11-26 00:32:56,157 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:32:56,157 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:56,157 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 50
2023-11-26 00:32:56,157 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008363723754882812
2023-11-26 00:32:56,157 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008363723754882812
2023-11-26 00:32:56,158 | top_aggregator.py:58 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset agg goal variables
2023-11-26 00:32:56,158 | top_aggregator.py:64 | DEBUG | MainThread | _reset_agg_goal_variables | ##### reset _agg_goal_cnt:0, _agg_goal_weights:None
2023-11-26 00:32:56,158 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[reset_agg_goal_vars.runtime] = 0.0004031658172607422
2023-11-26 00:32:56,158 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of reset_agg_goal_vars is 0.0004031658172607422
2023-11-26 00:32:56,159 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:56,160 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:56,160 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:56,161 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:56,162 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:56,162 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:56,163 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:56,163 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:56,163 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:56,164 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:56,164 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: recvd
2023-11-26 00:32:56,164 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:56,165 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:56,165 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:56,165 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:56,165 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580378'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:56,166 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:56,166 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580378': None}
2023-11-26 00:32:56,167 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958776.166989, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580378
2023-11-26 00:32:56,183 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 2154204
2023-11-26 00:32:56,183 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:56,183 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:56,185 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:56,189 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,190 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,192 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,192 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,192 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,195 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,195 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,195 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,195 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,196 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,196 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,196 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,196 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:32:56,197 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:56,198 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,199 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,200 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,200 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,200 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,200 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,201 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,201 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,201 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,201 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,201 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,201 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,201 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:32:56,202 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:56,202 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,202 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,202 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,203 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,203 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,204 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,204 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,204 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,204 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,205 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,205 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,205 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,205 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378 is done
2023-11-26 00:32:56,205 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.04613208770751953
2023-11-26 00:32:56,206 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.04613208770751953
2023-11-26 00:32:56,207 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:56,207 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:56,207 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:56,208 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:56,208 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:56,208 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:56,208 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:56,208 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:56,208 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:56,208 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: 
2023-11-26 00:32:56,208 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:56,208 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:56,208 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:56,209 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580380': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:32:56,209 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:56,210 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580371
2023-11-26 00:32:56,210 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378'}
2023-11-26 00:32:56,210 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:56,210 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:32:56,210 | channel.py:365 | DEBUG | Thread-5 | _streamer_for_recv_fifo | active task added for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:56,210 | channel.py:366 | DEBUG | Thread-5 | _streamer_for_recv_fifo | {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374'}
2023-11-26 00:32:56,211 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:32:56,212 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:32:56,223 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958776.2237766, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:32:56,224 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958776.224122, received data from 505f9fc483cf4df68a2409257b5fad7d3c580380
2023-11-26 00:32:56,225 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580380's parameters trained with 5285 samples
2023-11-26 00:32:56,240 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:56,241 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 50, trainer version: 48
2023-11-26 00:32:56,241 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 2
2023-11-26 00:32:56,241 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580380 in dict
2023-11-26 00:32:56,241 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:56,241 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:56,241 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:56,247 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 50, trainer ver: 48
agg ver: 50, trainer ver: 48
2023-11-26 00:32:56,247 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:56,248 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:32:56,248 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 1; agg goal: 3
2023-11-26 00:32:56,248 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.04149675369262695
2023-11-26 00:32:56,248 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.04149675369262695
2023-11-26 00:32:56,248 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:56,249 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:56,249 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:56,249 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:56,250 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:56,250 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:56,250 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:56,251 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:56,251 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:56,251 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:56,251 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:56,251 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:56,252 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580380 state: recvd
2023-11-26 00:32:56,252 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:56,252 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:56,252 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580373'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:56,252 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:56,253 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580373': None}
2023-11-26 00:32:56,253 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958776.2533805, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580373
2023-11-26 00:32:56,261 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 4308408
2023-11-26 00:32:56,262 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:56,262 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:56,264 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:56,266 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,266 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,271 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,272 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,272 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,273 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,273 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,273 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,275 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,276 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,276 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,276 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,276 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:32:56,277 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:56,279 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,283 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,286 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,286 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,299 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,300 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,300 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,300 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,301 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,301 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,302 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,302 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,302 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:32:56,302 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:56,302 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,302 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,303 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,303 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,303 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,303 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,303 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,303 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,304 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,304 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,304 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,304 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,304 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373 is done
2023-11-26 00:32:56,305 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.056557655334472656
2023-11-26 00:32:56,305 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.056557655334472656
2023-11-26 00:32:56,305 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:56,306 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:56,306 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:56,306 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:56,306 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:56,306 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:56,306 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:56,306 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:32:56,306 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:56,306 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:56,307 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:56,307 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:56,307 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:56,307 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:32:56,307 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:56,309 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1742' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:32:56,311 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:56,311 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:56,314 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958776.3146849, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:56,314 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958776.314877, received data from 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:56,315 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580376's parameters trained with 4493 samples
2023-11-26 00:32:56,326 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:56,327 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 50, trainer version: 49
2023-11-26 00:32:56,327 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:32:56,327 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580376 in dict
2023-11-26 00:32:56,327 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:56,327 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:56,327 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:56,331 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 50, trainer ver: 49
agg ver: 50, trainer ver: 49
2023-11-26 00:32:56,331 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:56,332 | top_aggregator.py:169 | DEBUG | MainThread | _aggregate_weights | didn't reach agg goal
2023-11-26 00:32:56,332 | top_aggregator.py:170 | DEBUG | MainThread | _aggregate_weights |  current: 2; agg goal: 3
2023-11-26 00:32:56,332 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.02694559097290039
2023-11-26 00:32:56,332 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.02694559097290039
2023-11-26 00:32:56,332 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:32:56,333 | channel.py:435 | DEBUG | Thread-5 | _inner | waiting for join
2023-11-26 00:32:56,333 | channel.py:441 | DEBUG | Thread-5 | _inner | at least one peer joined
2023-11-26 00:32:56,333 | channel.py:445 | DEBUG | MainThread | await_join | timeouted = False
2023-11-26 00:32:56,333 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:56,334 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:56,334 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:56,334 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:56,334 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:56,334 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:56,334 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:32:56,334 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:56,335 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:56,335 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: recvd
2023-11-26 00:32:56,335 | fedbuff.py:126 | INFO | Thread-5 | _handle_send_state | c: 5, ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:56,335 | fedbuff.py:155 | DEBUG | Thread-5 | _handle_send_state | candidates: ['505f9fc483cf4df68a2409257b5fad7d3c580376'], all_selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:56,335 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:56,335 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:32:56,335 | top_aggregator.py:270 | DEBUG | MainThread | _distribute_weights | distribute_weigths, time: 1700958776.3358722, sending weights to 505f9fc483cf4df68a2409257b5fad7d3c580376
2023-11-26 00:32:56,341 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[send.bytes] = 6462612
2023-11-26 00:32:56,341 | channel.py:213 | DEBUG | Thread-5 | _put | length of payload = 2154204
2023-11-26 00:32:56,341 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 2154204
2023-11-26 00:32:56,342 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 1048576
2023-11-26 00:32:56,344 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,344 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,345 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,345 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,345 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,346 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,347 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,347 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,347 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,347 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,347 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,347 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,347 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:32:56,348 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 1: 1048576
2023-11-26 00:32:56,349 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,349 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,350 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,350 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,350 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,350 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,351 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,351 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,351 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,351 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,351 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,351 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,351 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 1 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:32:56,351 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 2: 57052
2023-11-26 00:32:56,352 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,352 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,352 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,352 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,352 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,352 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,353 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,353 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,353 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,353 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,353 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:32:56,353 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:32:56,353 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 2 to /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376 is done
2023-11-26 00:32:56,353 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[distribute.runtime] = 0.020969152450561523
2023-11-26 00:32:56,354 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of distribute is 0.020969152450561523
2023-11-26 00:32:56,354 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | aggregate through param-channel
2023-11-26 00:32:56,354 | fedbuff.py:63 | DEBUG | Thread-5 | select | calling fedbuff select
2023-11-26 00:32:56,354 | fedbuff.py:64 | DEBUG | Thread-5 | select | len(ends): 10, c: 5
2023-11-26 00:32:56,354 | fedbuff.py:99 | DEBUG | Thread-5 | _cleanup_recvd_ends | clean up recvd ends
2023-11-26 00:32:56,355 | fedbuff.py:100 | DEBUG | Thread-5 | _cleanup_recvd_ends | ends: dict_keys(['505f9fc483cf4df68a2409257b5fad7d3c580375', '505f9fc483cf4df68a2409257b5fad7d3c580377', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580379', '505f9fc483cf4df68a2409257b5fad7d3c580380', '505f9fc483cf4df68a2409257b5fad7d3c580372', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580376', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580371'])
2023-11-26 00:32:56,355 | fedbuff.py:101 | DEBUG | Thread-5 | _cleanup_recvd_ends | selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:56,355 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580371 state: 
2023-11-26 00:32:56,355 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580373 state: 
2023-11-26 00:32:56,355 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580378 state: 
2023-11-26 00:32:56,355 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580374 state: 
2023-11-26 00:32:56,355 | fedbuff.py:114 | DEBUG | Thread-5 | _cleanup_recvd_ends | end id 505f9fc483cf4df68a2409257b5fad7d3c580376 state: 
2023-11-26 00:32:56,355 | fedbuff.py:179 | DEBUG | Thread-5 | _handle_recv_state | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected: {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}
2023-11-26 00:32:56,355 | fedbuff.py:90 | DEBUG | Thread-5 | select | requester: 49d06b7526964db86cf37c70e8e0cdb6bd7aa742, selected ends: {'49d06b7526964db86cf37c70e8e0cdb6bd7aa742': {'505f9fc483cf4df68a2409257b5fad7d3c580371', '505f9fc483cf4df68a2409257b5fad7d3c580373', '505f9fc483cf4df68a2409257b5fad7d3c580378', '505f9fc483cf4df68a2409257b5fad7d3c580374', '505f9fc483cf4df68a2409257b5fad7d3c580376'}}
2023-11-26 00:32:56,355 | fedbuff.py:93 | INFO | Thread-5 | select | results: {'505f9fc483cf4df68a2409257b5fad7d3c580371': None, '505f9fc483cf4df68a2409257b5fad7d3c580373': None, '505f9fc483cf4df68a2409257b5fad7d3c580378': None, '505f9fc483cf4df68a2409257b5fad7d3c580374': None, '505f9fc483cf4df68a2409257b5fad7d3c580376': None}
2023-11-26 00:32:56,356 | channel.py:280 | DEBUG | MainThread | recv_fifo | first_k = 1, len(end_ids) = 5
2023-11-26 00:32:56,356 | base_events.py:1753 | ERROR | Thread-5 | default_exception_handler | Task exception was never retrieved
future: <Task finished name='Task-1749' coro=<Channel._streamer_for_recv_fifo() done, defined at /home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py:332> exception=TypeError("init() missing 1 required positional argument: 'arg'")>
Traceback (most recent call last):
  File "/home/cc/anaconda3/envs/flame/lib/python3.9/site-packages/flame/channel.py", line 368, in _streamer_for_recv_fifo
    merged = stream.merge(*runs)
TypeError: init() missing 1 required positional argument: 'arg'
2023-11-26 00:32:56,356 | channel.py:310 | DEBUG | MainThread | recv_fifo | get payload for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:56,357 | channel.py:313 | DEBUG | MainThread | recv_fifo | channel got a msg for 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:56,363 | top_aggregator.py:85 | DEBUG | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958776.3633344, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:56,363 | top_aggregator.py:86 | INFO | MainThread | _aggregate_weights | aggregate_weigths, time: 1700958776.3638523, received data from 505f9fc483cf4df68a2409257b5fad7d3c580374
2023-11-26 00:32:56,365 | top_aggregator.py:105 | DEBUG | MainThread | _aggregate_weights | 505f9fc483cf4df68a2409257b5fad7d3c580374's parameters trained with 5749 samples
2023-11-26 00:32:56,392 | top_aggregator.py:111 | DEBUG | MainThread | _aggregate_weights | received 1 trainer updates in cache
2023-11-26 00:32:56,393 | top_aggregator.py:112 | DEBUG | MainThread | _aggregate_weights | agg_version: 50, trainer version: 49
2023-11-26 00:32:56,393 | top_aggregator.py:114 | DEBUG | MainThread | _aggregate_weights | update_staleness_val: 1
2023-11-26 00:32:56,393 | top_aggregator.py:119 | DEBUG | MainThread | _aggregate_weights | found 505f9fc483cf4df68a2409257b5fad7d3c580374 in dict
2023-11-26 00:32:56,394 | top_aggregator.py:121 | DEBUG | MainThread | _aggregate_weights | updated _per_trainer_staleness_track {'505f9fc483cf4df68a2409257b5fad7d3c580375': [0, 0, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580376': [0, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580378': [1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580372': [1, 1, 2, 2, 1, 1, 1, 1, 2, 1], '505f9fc483cf4df68a2409257b5fad7d3c580377': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580379': [2, 1, 2, 2, 2, 2, 1, 1, 2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580380': [2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2, 1, 2], '505f9fc483cf4df68a2409257b5fad7d3c580374': [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1], '505f9fc483cf4df68a2409257b5fad7d3c580371': [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], '505f9fc483cf4df68a2409257b5fad7d3c580373': [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]}
2023-11-26 00:32:56,394 | top_aggregator.py:156 | DEBUG | MainThread | _aggregate_weights | proceeding to agg weights
2023-11-26 00:32:56,394 | fedbuff.py:82 | DEBUG | MainThread | do | calling fedbuff
2023-11-26 00:32:56,399 | fedbuff.py:95 | DEBUG | MainThread | do | agg ver: 50, trainer ver: 49
agg ver: 50, trainer ver: 49
2023-11-26 00:32:56,399 | fedbuff.py:147 | DEBUG | MainThread | _aggregate_pytorch | calling _aggregate_pytorch
2023-11-26 00:32:56,400 | top_aggregator.py:180 | DEBUG | MainThread | _aggregate_weights | reached agg goal
2023-11-26 00:32:56,400 | top_aggregator.py:181 | DEBUG | MainThread | _aggregate_weights |  current: 3; agg goal: 3
2023-11-26 00:32:56,400 | top_aggregator.py:216 | DEBUG | MainThread | _aggregate_weights |  rate at top_agg: 0.7071067811865475
2023-11-26 00:32:56,400 | fedbuff.py:132 | INFO | MainThread | _scale_add_agg_weights_pytorch | base_weights.keys(): odict_keys(['conv1.weight', 'conv1.bias', 'conv2.weight', 'conv2.bias', 'conv3.weight', 'conv3.bias', 'fc1.weight', 'fc1.bias', 'fc2.weight', 'fc2.bias', 'fc3.weight', 'fc3.bias'])
2023-11-26 00:32:56,401 | top_aggregator.py:225 | DEBUG | MainThread | _aggregate_weights | aggregation finished for round 50
2023-11-26 00:32:56,401 | top_aggregator.py:226 | INFO | MainThread | _aggregate_weights | ====== aggregation finished for round 50, self._agg_goal_cnt: 3, self._updates_recevied: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 21, '505f9fc483cf4df68a2409257b5fad7d3c580376': 19, '505f9fc483cf4df68a2409257b5fad7d3c580378': 17, '505f9fc483cf4df68a2409257b5fad7d3c580372': 10, '505f9fc483cf4df68a2409257b5fad7d3c580377': 17, '505f9fc483cf4df68a2409257b5fad7d3c580379': 11, '505f9fc483cf4df68a2409257b5fad7d3c580380': 13, '505f9fc483cf4df68a2409257b5fad7d3c580374': 16, '505f9fc483cf4df68a2409257b5fad7d3c580371': 11, '505f9fc483cf4df68a2409257b5fad7d3c580373': 15}, self._trainer_participation_in_round_count: {'505f9fc483cf4df68a2409257b5fad7d3c580375': 21, '505f9fc483cf4df68a2409257b5fad7d3c580376': 19, '505f9fc483cf4df68a2409257b5fad7d3c580378': 17, '505f9fc483cf4df68a2409257b5fad7d3c580372': 10, '505f9fc483cf4df68a2409257b5fad7d3c580377': 17, '505f9fc483cf4df68a2409257b5fad7d3c580379': 11, '505f9fc483cf4df68a2409257b5fad7d3c580380': 13, '505f9fc483cf4df68a2409257b5fad7d3c580374': 16, '505f9fc483cf4df68a2409257b5fad7d3c580371': 11, '505f9fc483cf4df68a2409257b5fad7d3c580373': 15}
2023-11-26 00:32:56,401 | top_aggregator.py:241 | INFO | MainThread | _aggregate_weights | ==== aggregator avg staleness: 1.3
2023-11-26 00:32:56,402 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580375 staleness info. Min 0, Max 2, Avg 0.9523809523809523, P50 1.0, P90 1.0, P99 1.8000000000000007
2023-11-26 00:32:56,402 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580376 staleness info. Min 0, Max 2, Avg 1.0526315789473684, P50 1.0, P90 1.1999999999999993, P99 2.0
2023-11-26 00:32:56,403 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580378 staleness info. Min 1, Max 2, Avg 1.3529411764705883, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:56,403 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580372 staleness info. Min 1, Max 2, Avg 1.3, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:56,404 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580377 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:32:56,404 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580379 staleness info. Min 1, Max 2, Avg 1.6363636363636365, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:56,405 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580380 staleness info. Min 1, Max 2, Avg 1.4615384615384615, P50 1.0, P90 2.0, P99 2.0
2023-11-26 00:32:56,405 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580374 staleness info. Min 1, Max 2, Avg 1.75, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:56,406 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580371 staleness info. Min 2, Max 2, Avg 2.0, P50 2.0, P90 2.0, P99 2.0
2023-11-26 00:32:56,406 | top_aggregator.py:246 | INFO | MainThread | _aggregate_weights | ===== trainer 505f9fc483cf4df68a2409257b5fad7d3c580373 staleness info. Min 1, Max 1, Avg 1.0, P50 1.0, P90 1.0, P99 1.0
2023-11-26 00:32:56,406 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[aggregate.runtime] = 0.05228900909423828
2023-11-26 00:32:56,406 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of aggregate is 0.05228900909423828
2023-11-26 00:32:56,407 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[train.runtime] = 2.6226043701171875e-06
2023-11-26 00:32:56,407 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of train is 2.6226043701171875e-06
2023-11-26 00:32:56,846 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:56,860 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,861 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:56,867 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:56,868 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,868 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:56,870 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,870 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:56,870 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:56,873 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:56,877 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 0: 1048576
2023-11-26 00:32:56,878 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:56,878 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:56,879 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,879 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:56,882 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:56,886 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 1: 1048576
2023-11-26 00:32:56,886 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:56,887 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:56,887 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580373/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:56,888 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:56,888 | chunk_store.py:103 | DEBUG | Thread-15 | assemble | chunk 2: 57063
2023-11-26 00:32:56,889 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:56,897 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:56,898 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 2154215
2023-11-26 00:32:57,596 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:57,600 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:57,602 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:57,605 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:57,605 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:57,606 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:57,607 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:57,607 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:57,608 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:57,609 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:57,614 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 0: 1048576
2023-11-26 00:32:57,615 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:57,616 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:57,617 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:57,617 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:57,618 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:57,619 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:57,620 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580378/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:57,624 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 1: 1048576
2023-11-26 00:32:57,625 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:57,627 | chunk_store.py:103 | DEBUG | Thread-8 | assemble | chunk 2: 57063
2023-11-26 00:32:57,628 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:57,636 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:57,637 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 4308430
2023-11-26 00:32:57,666 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:57,669 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:57,670 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:57,674 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:57,674 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:57,675 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:57,676 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:57,677 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:57,677 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048675
2023-11-26 00:32:57,679 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:57,683 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 0: 1048576
2023-11-26 00:32:57,685 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:57,686 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:57,688 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:57,688 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 1048677
2023-11-26 00:32:57,690 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:32:57,695 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 1: 1048576
2023-11-26 00:32:57,696 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:57,697 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:32:57,698 | mqtt.py:275 | DEBUG | Thread-5 | _rx_task | _rx_task - topic: /flame/622a358619ab59012eabeefb/param-channel/default/UNICAST/trainer/505f9fc483cf4df68a2409257b5fad7d3c580376/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742; len: 57166
2023-11-26 00:32:57,699 | mqtt.py:534 | DEBUG | Thread-5 | cb | Socket is writable, calling loop_write
2023-11-26 00:32:57,699 | chunk_store.py:103 | DEBUG | Thread-7 | assemble | chunk 2: 57063
2023-11-26 00:32:57,701 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:32:57,706 | chunk_manager.py:71 | DEBUG | Thread-5 | inner | fully assembled data size = 2154215
2023-11-26 00:32:57,707 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[recv.bytes] = 6462645
2023-11-26 00:33:03,037 | main.py:161 | INFO | MainThread | evaluate | Test loss: 1.852637150657177
2023-11-26 00:33:03,039 | main.py:162 | INFO | MainThread | evaluate | Test accuracy: 3669/10000 (0.3669)
2023-11-26 00:33:03,044 | main.py:173 | DEBUG | MainThread | evaluate | loss list at cifar agg: [5.621221956181526, 6.328407179880142, 2.5151369183063506, 2.4641678159713747, 2.500023926782608, 2.4777181664943697, 2.655946747112274, 3.0670157920360563, 4.126767908215522, 3.7170086502552033, 2.4037589122772216, 2.358183361911774, 2.3447366854190825, 2.335713644695282, 2.336042481184006, 2.4654999679803846, 3.414678170979023, 2.9595007150650026, 2.2169849021673205, 2.4145374370336534, 2.8552344931364058, 2.8363559032678602, 3.1403327724933625, 2.121581395792961, 2.0542993351221086, 2.241740001535416, 2.2344790036678313, 2.12243889670372, 3.1016431164979936, 3.4063435605049133, 3.40909480022192, 1.8376649722099305, 2.1813072254657744, 2.3389135039925577, 2.1007734859347345, 3.365473167991638, 2.6130637244701385, 2.161523858690262, 2.144376903986931, 1.9134297976374626, 2.2834427912414075, 2.5655355934873225, 2.747993209385872, 3.4799770496368407, 2.8528714059114457, 1.9888294687271117, 2.1088577431201934, 2.191151902663708, 1.947495054540038, 1.852637150657177]
2023-11-26 00:33:03,044 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[evaluate.runtime] = 6.637299299240112
2023-11-26 00:33:03,045 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of evaluate is 6.637299299240112
2023-11-26 00:33:03,045 | top_aggregator.py:234 | DEBUG | MainThread | run_analysis | running analyzer plugins
2023-11-26 00:33:03,046 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[analysis.runtime] = 0.0004277229309082031
2023-11-26 00:33:03,046 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of analysis is 0.0004277229309082031
2023-11-26 00:33:03,047 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_utilization] = 68.8
2023-11-26 00:33:03,047 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_utilization] = 84.5
2023-11-26 00:33:03,048 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_utilization] = 74.45714285714284
2023-11-26 00:33:03,049 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_utilization] = 71.3
2023-11-26 00:33:03,050 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_utilization] = 72.9
2023-11-26 00:33:03,051 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_utilization] = 76.19999999999999
2023-11-26 00:33:03,052 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_utilization] = 4.923952286776242
2023-11-26 00:33:03,052 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_rss] = 1130991616
2023-11-26 00:33:03,052 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_rss] = 1133027328
2023-11-26 00:33:03,053 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_rss] = 1132445110.857143
2023-11-26 00:33:03,054 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_rss] = 1132007424.0
2023-11-26 00:33:03,054 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_rss] = 1133027328.0
2023-11-26 00:33:03,055 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_rss] = 1133027328.0
2023-11-26 00:33:03,055 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_rss] = 919271.9060715431
2023-11-26 00:33:03,055 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[min.cpu_memory_vsz] = 14321844224
2023-11-26 00:33:03,056 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[max.cpu_memory_vsz] = 14321893376
2023-11-26 00:33:03,056 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[mean.cpu_memory_vsz] = 14321872310.857143
2023-11-26 00:33:03,056 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[25th_prcntl.cpu_memory_vsz] = 14321844224.0
2023-11-26 00:33:03,057 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[50th_prcntl.cpu_memory_vsz] = 14321893376.0
2023-11-26 00:33:03,057 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[75th_prcntl.cpu_memory_vsz] = 14321893376.0
2023-11-26 00:33:03,058 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[std.cpu_memory_vsz] = 24323.931798178703
2023-11-26 00:33:03,058 | top_aggregator.py:251 | DEBUG | MainThread | save_metrics | saving metrics: {'test-loss': 1.852637150657177, 'test-accuracy': 0.3669, 'internal_init.runtime': 0.024973392486572266, 'load_data.runtime': 0.8570065498352051, 'initialize.runtime': 1.4789495468139648, 'reset_agg_goal_vars.runtime': 0.0004031658172607422, 'send.bytes': 6462612, 'distribute.runtime': 0.020969152450561523, 'recv.bytes': 6462645, 'aggregate.runtime': 0.05228900909423828, 'train.runtime': 2.6226043701171875e-06, 'evaluate.runtime': 6.637299299240112, 'analysis.runtime': 0.0004277229309082031, 'min.cpu_utilization': 68.8, 'max.cpu_utilization': 84.5, 'mean.cpu_utilization': 74.45714285714284, '25th_prcntl.cpu_utilization': 71.3, '50th_prcntl.cpu_utilization': 72.9, '75th_prcntl.cpu_utilization': 76.19999999999999, 'std.cpu_utilization': 4.923952286776242, 'min.cpu_memory_rss': 1130991616, 'max.cpu_memory_rss': 1133027328, 'mean.cpu_memory_rss': 1132445110.857143, '25th_prcntl.cpu_memory_rss': 1132007424.0, '50th_prcntl.cpu_memory_rss': 1133027328.0, '75th_prcntl.cpu_memory_rss': 1133027328.0, 'std.cpu_memory_rss': 919271.9060715431, 'min.cpu_memory_vsz': 14321844224, 'max.cpu_memory_vsz': 14321893376, 'mean.cpu_memory_vsz': 14321872310.857143, '25th_prcntl.cpu_memory_vsz': 14321844224.0, '50th_prcntl.cpu_memory_vsz': 14321893376.0, '75th_prcntl.cpu_memory_vsz': 14321893376.0, 'std.cpu_memory_vsz': 24323.931798178703, 'save_metrics.runtime': 0.010981321334838867, 'inc_round.runtime': 0.0008363723754882812}
2023-11-26 00:33:03,059 | top_aggregator.py:254 | DEBUG | MainThread | save_metrics | saving metrics done
2023-11-26 00:33:03,059 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_metrics.runtime] = 0.012325763702392578
2023-11-26 00:33:03,059 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_metrics is 0.012325763702392578
2023-11-26 00:33:03,059 | top_aggregator.py:258 | DEBUG | MainThread | increment_round | Incrementing current round: 50
2023-11-26 00:33:03,059 | top_aggregator.py:259 | DEBUG | MainThread | increment_round | Total rounds: 50
2023-11-26 00:33:03,060 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:33:03,060 | top_aggregator.py:268 | DEBUG | MainThread | increment_round | Incremented round to 51
2023-11-26 00:33:03,060 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inc_round.runtime] = 0.0008642673492431641
2023-11-26 00:33:03,060 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inc_round is 0.0008642673492431641
2023-11-26 00:33:03,061 | channel_manager.py:170 | DEBUG | MainThread | get_by_tag | distribute through param-channel
2023-11-26 00:33:03,062 | metric_collector.py:120 | DEBUG | Thread-5 | accumulate | Accumulating metric state_dict[broadcast.bytes] = 59
2023-11-26 00:33:03,063 | chunk_store.py:56 | DEBUG | Thread-5 | set_data | setting data of size 59
2023-11-26 00:33:03,063 | chunk_store.py:89 | DEBUG | Thread-5 | get_chunk | chunk 0: 59
2023-11-26 00:33:03,064 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:33:03,064 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:33:03,065 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:33:03,065 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:33:03,066 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:33:03,066 | mqtt.py:531 | DEBUG | Thread-5 | on_socket_register_write | Watching socket for writability.
2023-11-26 00:33:03,067 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:33:03,067 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:33:03,067 | mqtt.py:541 | DEBUG | Thread-5 | on_socket_unregister_write | Stop watching socket for writability.
2023-11-26 00:33:03,068 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:33:03,068 | mqtt.py:469 | DEBUG | Thread-5 | send_chunk | waiting for publish completion: rc = 0
2023-11-26 00:33:03,069 | mqtt.py:471 | DEBUG | Thread-5 | send_chunk | retval from loop = 0
2023-11-26 00:33:03,069 | mqtt.py:473 | DEBUG | Thread-5 | send_chunk | sending chunk 0 to /flame/622a358619ab59012eabeefb/param-channel/default/BROADCAST/aggregator/49d06b7526964db86cf37c70e8e0cdb6bd7aa742 is done
2023-11-26 00:33:03,069 | top_aggregator.py:230 | DEBUG | MainThread | inform_end_of_training | done broadcasting end-of-training
2023-11-26 00:33:03,070 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[inform_end_of_training.runtime] = 0.009262561798095703
2023-11-26 00:33:03,070 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of inform_end_of_training is 0.009262561798095703
2023-11-26 00:33:03,070 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_params.runtime] = 4.57763671875e-05
2023-11-26 00:33:03,071 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_params is 4.57763671875e-05
2023-11-26 00:33:03,071 | metric_collector.py:115 | DEBUG | MainThread | save | Saving state_dict[save_model.runtime] = 8.225440979003906e-05
2023-11-26 00:33:03,071 | runtime.py:33 | DEBUG | MainThread | wrapper | Runtime of save_model is 8.225440979003906e-05
2023-11-26 00:33:03,072 | composer.py:145 | DEBUG | MainThread | run | end of run
2023-11-26 00:33:03,073 | channel_manager.py:187 | DEBUG | MainThread | cleanup | calling cleanup
2023-11-26 00:33:03,074 | channel_manager.py:189 | DEBUG | MainThread | cleanup | calling leave for channel param-channel
2023-11-26 00:33:03,074 | channel.py:414 | DEBUG | MainThread | leave | calling channel leave for param-channel
2023-11-26 00:33:03,077 | channel.py:420 | DEBUG | MainThread | leave |  channel leave done for param-channel
2023-11-26 00:33:03,078 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-1732
2023-11-26 00:33:03,079 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-23
2023-11-26 00:33:03,080 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-1730
2023-11-26 00:33:03,080 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-21
2023-11-26 00:33:03,081 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-1558
2023-11-26 00:33:03,081 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-2
2023-11-26 00:33:03,082 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-24
2023-11-26 00:33:03,082 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-1660
2023-11-26 00:33:03,083 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-12
2023-11-26 00:33:03,083 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-1699
2023-11-26 00:33:03,084 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-4
2023-11-26 00:33:03,084 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-25
2023-11-26 00:33:03,084 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-1694
2023-11-26 00:33:03,085 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-9
2023-11-26 00:33:03,085 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-1701
2023-11-26 00:33:03,085 | mqtt.py:552 | DEBUG | Thread-5 | misc_loop | misc_loop finished
2023-11-26 00:33:03,085 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-26
2023-11-26 00:33:03,086 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-1560
2023-11-26 00:33:03,086 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-1728
2023-11-26 00:33:03,086 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-13
2023-11-26 00:33:03,086 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-27
2023-11-26 00:33:03,087 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-7
2023-11-26 00:33:03,087 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-1768
2023-11-26 00:33:03,088 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-1662
2023-11-26 00:33:03,088 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-22
2023-11-26 00:33:03,088 | channel_manager.py:198 | DEBUG | Thread-5 | _inner | successfully cancelled Task-1666
2023-11-26 00:33:03,089 | channel_manager.py:200 | DEBUG | Thread-5 | _inner | done with cleaning up asyncio tasks
2023-11-26 00:33:03,891 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:33:03,892 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 48
2023-11-26 00:33:03,981 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:33:03,982 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 48
2023-11-26 00:33:04,050 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:33:04,051 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 48
2023-11-26 00:33:04,102 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:33:04,102 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 48
2023-11-26 00:33:04,103 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:33:04,104 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 48
2023-11-26 00:33:04,168 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:33:04,169 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 48
2023-11-26 00:33:04,171 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:33:04,171 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 48
2023-11-26 00:33:04,248 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:33:04,249 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 48
2023-11-26 00:33:04,290 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:33:04,290 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 48
2023-11-26 00:33:04,411 | mqtt.py:517 | DEBUG | Thread-5 | cb | Socket is readable, calling loop_read
2023-11-26 00:33:04,412 | mqtt.py:306 | DEBUG | Thread-5 | on_message | topic: /flame/622a358619ab59012eabeefb; len: 48
2023-11-26 00:33:09,208 | connectionpool.py:1019 | DEBUG | raven-sentry.BackgroundWorker | _new_conn | Starting new HTTPS connection (1): o151352.ingest.sentry.io:443
2023-11-26 00:33:09,279 | connectionpool.py:474 | DEBUG | raven-sentry.BackgroundWorker | _make_request | https://o151352.ingest.sentry.io:443 "POST /api/4504800232407040/envelope/ HTTP/1.1" 200 2
